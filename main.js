"use strict";(self.webpackChunkbattleships=self.webpackChunkbattleships||[]).push([[792],{365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(354),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,":root {\n    --player-selection-distance: 0; /* Variable for animation of the gridOverlay's */\n    --moniker-selection-distance: 0;\n  }\n\nbody {\n    user-select: none;\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\nheader {\n    display: grid;\n    grid-template-columns: 1fr auto;\n}\n\nh1.title, .winner-confirmation {\n    text-align: center;\n    color: rgb(73, 110, 235);\n}\n\n.player1-winning-counter {\n    position: relative;\n    left: 45%;\n    grid-area: 1 / 2;\n    color: rgb(38, 209, 38);\n}\n\n.player2-winning-counter, .computer-winning-counter {\n    position: relative;\n    right: 45%;\n    grid-area: 1 / 2;\n    color: rgb(38, 209, 38);\n}\n\n.player1-grid.number, .player2-grid.number, .computer-grid.number {\n    background-color: white;\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.centered-container {\n    display: grid;\n    grid-template-rows: 2fr auto 3fr;\n    height: 100%; \n    background-color: rgb(255, 255, 255);\n\n    gap: 2em;\n}\n\n.game-rules-btn {\n    position: absolute;\n    left: 90%;\n    top: 3.4%;\n\n    color: rgb(73, 110, 235);\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n    font-size: large;\n    padding: 4px 8px;\n}\n\n.game-rules-overlay {\n    text-align: center;\n}\n\n.rules-load-in {\n    animation: fadeIn 1s ease;\n    animation-iteration-count: 1;\n}\n\n@keyframes fadeIn {\n    0% {\n        opacity: 0;\n        transform: translateY(50%); /* Slide in from bottom */\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n\n.rules-load-out {\n    animation: fadeOut 1s ease;\n    animation-iteration-count: 1;\n}\n\n@keyframes fadeOut {\n    0% { \n        transform: translateY(0);\n        opacity: 1;\n    }\n    100% { \n        transform: translateY(50%);  /* Slide out from bottom */\n        opacity: 0;\n    }\n}\n\n.game-rules-title {\n    color: rgb(73, 110, 235);\n}\n\n#gameEndingOverlay {\n    display: none;\n    background-color: lightblue;\n    flex-direction: column;\n    height: auto;\n\n}\n\n.reset-btn-div, .refresh-btn-div {\n    text-align: center;\n    padding: 16px;\n}\n\n.game-end-btn-container {\n    display: flex;\n    justify-content: center;\n}\n\n.welcome-title {\n    display: flex;\n    flex: 4;\n    justify-content: center;\n    align-items: flex-end;\n\n    color: rgb(73, 110, 235);\n}\n\n.player-selection, .moniker-selection {\n    display: flex;\n    justify-content: center;\n    gap: 2em;\n    background-color: rgb(255, 255, 255);\n    /* height: 100%; */\n    width: 100%;\n    flex: 5;\n    align-items: center;\n    position: relative;\n}\n\n.player-selection-enter {\n    animation: player-selection-enter 0.25s ease-out;\n    animation-iteration-count: 1;\n}\n\n@keyframes player-selection-enter {\n    0% { transform: translateX(-100%); }\n    40% { transform: translateX(5%); }\n    100% { transform: translateX(0); }\n}\n\n.player-selection-leave {\n    animation: player-selection-leave 0.25s ease-in;\n    animation-iteration-count: 1;\n}\n\n@keyframes player-selection-leave {\n    50% { transform: translateX(5%); }\n    100% { transform: translateX(-100%); }\n}\n\n.moniker-selection-enter {\n    animation: moniker-selection-enter 0.25s ease-out;\n    animation-iteration-count: 1;\n}\n\n@keyframes moniker-selection-enter {\n    0% { transform: translateX(100%); }\n    40% { transform: translateX(-5%); }\n    100% { transform: translateX(0); }\n}\n\n.moniker-selection-leave {\n    animation: moniker-selection-leave 0.25s ease-in;\n    animation-iteration-count: 1;\n}\n\n@keyframes moniker-selection-leave {\n    50% { transform: translateX(-5%); }\n    100% { transform: translateX(100%); }\n}\n\n.player-selection-container {\n    display: flex;\n    gap: 1em;\n    flex-direction: column;\n    justify-content: center;\n}\n\n.player-2-btn-container, .computer-btn-container {\n    display: flex;\n    justify-content: center;\n}\n\n.player-2-btn, .computer-btn{\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n    font-size: large;\n    padding: 4px 8px;\n}\n\n.player-2-btn {\n    width: 103.95px;\n}\n\n.player2-name-is-computer {\n    display: none;\n    position: relative;\n    left: -1em;\n}\n\n.player1-moniker-text, .player2-moniker-text {\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n    font-size: large;\n}\n\n.confirm-player-or-computer-btn-container {\n    position: absolute;\n    left: var(--player-selection-distance);\n}\n\n.confirm-player-or-computer-btn {\n    margin: 18.72px;\n}\n\n.moniker-selection {\n    display: none;\n    min-height: 82px;\n}\n\n.moniker-btns-container {\n    display: grid;\n    gap: 1em;\n    justify-items: center;\n    position: absolute;\n    left: var(--moniker-selection-distance);\n}\n\n.back-btn {\n    width: 92.09px;\n}\n\n#hit, #revealedMiss {\n    background-color: #bbb2b279;\n}\n\n#revealedMiss {\n    color: rgb(118, 115, 115);\n}\n\n.player1-grid.number.ship-present, .player2-grid.number.ship-present, .computer-grid.number.ship-present {\n    color: red;\n}\n\n/* SHIP PLACING */\ndiv.player1-grid.number.highlight, div.player2-grid.number.highlight, div.computer-grid.number.highlight {\n    /* CHOSE BORDER AS IT IS EASIER TO SEE WHEN PLACING */\n    border: 2px solid rgb(38, 209, 38);\n}\n\ndiv.player1-grid.number.not-valid, div.player2-grid.number.not-valid {\n    /* APPLYING BORDER ALLOWS USER TO DETERMINE WHAT IS BEHIND THE CURSOR\n    NECESSARY TO REDUCE WIDTH AND HEIGHT BY BORDER FOR NO BUGS */\n    border: 2px solid red;\n    width: 28px;\n    height: 28px;\n}\n\n.shaking-animation {\n    animation-name: shakeAnimation;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n}\n\n@keyframes shakeAnimation {\n    0% { transform: translateX(0); }\n    15% { transform: translateX(-5px); }\n    30% { transform: translateX(5px); }\n    45% { transform: translateX(-5px); }\n    60% { transform: translateX(5px); }\n    75% { transform: translateX(-5px); }\n    100% { transform: translateX(0); }\n  }\n\n\n/* DRAGGABLE SHIPS */\n.ship-container-1, .ship-container-2, .ship-container-3 {\n    display: grid;\n    align-items: end;\n}\n\n.ships-container {\n    display: flex;\n    gap: 1em;\n    grid-area: 1 / 1 / -2 / 1;\n    justify-content: flex-end;\n    /* PADDING TO ACCOUNT FOR OUTLINE WIDTH & MAKE GAP FOR GRID OVERLAY CONSISTENT */\n    padding: 0 1em 2px calc(2px + 1em);\n}\n\n.inside-ship {\n    width: 32px;\n    height: 32px;\n    outline: 2px solid darkblue;\n}\n\n.draggable-ship[data-size=\"1\"] {\n    width: 32px;\n    height: 32px;\n}\n\n.draggable-ship[data-size=\"2\"] {\n    width: 32px;\n    height: 64px;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\n.draggable-ship[data-size=\"3\"] {\n    width: 32px;\n    height: 96px;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\n.draggable-ship[data-size=\"4\"] {\n    width: 32px;\n    height: 128px;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\nh3.title {\n    grid-area: 1 / 2;\n}\n\n#player1Grid, #player2Grid, #computerGrid {\n    display: grid;\n    grid-template-columns: repeat(10, 32px);\n    grid-template-rows: repeat(10, 32px);\n    grid-gap: 2px;\n    background-color: lightblue;\n    border: 2px solid lightblue;\n\n    grid-area: 2 / 2;\n    height: max-content;\n    \n}\n\n#player1GridOverlay, #player2GridOverlay, #computerGridOverlay {\n    color: rgb(237, 233, 233);\n}\n\n.grid-containers {\n    display: flex;\n    gap: 2em;\n    justify-content: space-evenly;\n}\n\n.ship-present.reveal {\n    outline: 2px solid darkblue;\n    width: 100%;\n    height: 100%;\n    font-size: x-large;\n}\n\n.start-button-container{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 32px;\n\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\n.start-button, .reset-btn, .randomise-btn, .confirm-btn, .horizontal-or-vertical-btn, .refresh-btn, .confirm-player-or-computer-btn, .back-btn, .confirm-moniker-btn, .undo-btn {\n    font-size: large;\n    padding: 4px 8px;\n\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\n.multiple-ship-btns, .singular-ship-btns {\n    display: flex;\n}\n\n.singular-ship-btns {\n    gap: 1em;\n}\n\n.multiple-ship-btns {\n    display: flex;\n    justify-content: space-between;\n}\n\n.placing-div {\n    font-size: large;\n    color: rgb(73, 110, 235);\n    display: flex;\n    align-items: center;\n}\n\n.horizontal-or-vertical-btn {\n    min-width: 134.67px\n}\n\nh3 {\n    text-align: center;\n}\n\n.confirm-btn.denied, .confirm-player-or-computer-btn.denied {\n    animation: denied 0.25s;\n    animation-iteration-count: 1;\n}\n\n@keyframes denied {\n    0% { transform: translateX(0); \n        color: rgb(129, 0, 0);}\n    15% { transform: translateX(-5px); }\n    30% { transform: translateX(5px);\n        color: rgb(255, 0, 0); }\n    45% { transform: translateX(-5px); }\n    60% { transform: translateX(5px);\n        color: rgb(255, 0, 0); }\n    75% { transform: translateX(-5px); }\n    100% { transform: translateX(0); \n        color: rgb(129, 0, 0);}\n    0% {\n        color: rgb(129, 0, 0);\n    }\n\n    35% {\n        color: rgb(255, 0, 0);\n    }\n\n    65% {\n        color: rgb(255, 0, 0);\n    }\n\n    100% {\n        color: rgb(129, 0, 0);\n    }\n}\n\n/* GRID CONTAINERS */\n.player1-grid-container, .player2-grid-container, .computer-grid-container {\n    /* position: relative NEEDED TO CONTAIN OVERLAY to just the grid container*/\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    grid-template-rows: auto 1fr auto;\n    gap: 1em;\n\n    padding-right: 1em; /* Keeps the athestetic with the overlay even */\n    z-index: auto;\n\n}\n\n.btn-container {\n    display: flex;\n    justify-content: space-between;\n    grid-area: 3 / 1 / 3 / -1;\n}\n\n.grid-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */\n    display: none; /* Initially hidden */\n}\n\n.ship-present.reveal.sunk {\n    outline: 2px solid red;\n    width: 100%;\n    height: 100%;\n}\n\n.draggable-ship.sunk > * {\n    outline: 2px solid red;\n}\n\n.draggable-ship.placing > * {\n    outline: 2px solid rgb(38, 209, 38);\n}\n\n.draggable-ship.invisible > * {\n    outline: 2px solid white;\n}\n\n\n/* COLOURS FOR SPAN'S IN TURN TEXT */\n/* HIT */\n.highlighted.red {\n    color: lightcoral;\n}\n\n/* SUNK */\n.highlighted.orange {\n    color: orange;\n}\n\n/* MISSED */\n.highlighted.blue {\n    color: lightskyblue;\n}\n\n/* PLACING */\n.highlighted.green {\n    color: rgb(38, 209, 38);\n}","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"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",sourcesContent:[":root {\r\n    --player-selection-distance: 0; /* Variable for animation of the gridOverlay's */\r\n    --moniker-selection-distance: 0;\r\n  }\r\n\r\nbody {\r\n    user-select: none;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\nheader {\r\n    display: grid;\r\n    grid-template-columns: 1fr auto;\r\n}\r\n\r\nh1.title, .winner-confirmation {\r\n    text-align: center;\r\n    color: rgb(73, 110, 235);\r\n}\r\n\r\n.player1-winning-counter {\r\n    position: relative;\r\n    left: 45%;\r\n    grid-area: 1 / 2;\r\n    color: rgb(38, 209, 38);\r\n}\r\n\r\n.player2-winning-counter, .computer-winning-counter {\r\n    position: relative;\r\n    right: 45%;\r\n    grid-area: 1 / 2;\r\n    color: rgb(38, 209, 38);\r\n}\r\n\r\n.player1-grid.number, .player2-grid.number, .computer-grid.number {\r\n    background-color: white;\r\n    color: black;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.centered-container {\r\n    display: grid;\r\n    grid-template-rows: 2fr auto 3fr;\r\n    height: 100%; \r\n    background-color: rgb(255, 255, 255);\r\n\r\n    gap: 2em;\r\n}\r\n\r\n.game-rules-btn {\r\n    position: absolute;\r\n    left: 90%;\r\n    top: 3.4%;\r\n\r\n    color: rgb(73, 110, 235);\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-size: large;\r\n    padding: 4px 8px;\r\n}\r\n\r\n.game-rules-overlay {\r\n    text-align: center;\r\n}\r\n\r\n.rules-load-in {\r\n    animation: fadeIn 1s ease;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes fadeIn {\r\n    0% {\r\n        opacity: 0;\r\n        transform: translateY(50%); /* Slide in from bottom */\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n}\r\n\r\n\r\n.rules-load-out {\r\n    animation: fadeOut 1s ease;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes fadeOut {\r\n    0% { \r\n        transform: translateY(0);\r\n        opacity: 1;\r\n    }\r\n    100% { \r\n        transform: translateY(50%);  /* Slide out from bottom */\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n.game-rules-title {\r\n    color: rgb(73, 110, 235);\r\n}\r\n\r\n#gameEndingOverlay {\r\n    display: none;\r\n    background-color: lightblue;\r\n    flex-direction: column;\r\n    height: auto;\r\n\r\n}\r\n\r\n.reset-btn-div, .refresh-btn-div {\r\n    text-align: center;\r\n    padding: 16px;\r\n}\r\n\r\n.game-end-btn-container {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.welcome-title {\r\n    display: flex;\r\n    flex: 4;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n\r\n    color: rgb(73, 110, 235);\r\n}\r\n\r\n.player-selection, .moniker-selection {\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 2em;\r\n    background-color: rgb(255, 255, 255);\r\n    /* height: 100%; */\r\n    width: 100%;\r\n    flex: 5;\r\n    align-items: center;\r\n    position: relative;\r\n}\r\n\r\n.player-selection-enter {\r\n    animation: player-selection-enter 0.25s ease-out;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes player-selection-enter {\r\n    0% { transform: translateX(-100%); }\r\n    40% { transform: translateX(5%); }\r\n    100% { transform: translateX(0); }\r\n}\r\n\r\n.player-selection-leave {\r\n    animation: player-selection-leave 0.25s ease-in;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes player-selection-leave {\r\n    50% { transform: translateX(5%); }\r\n    100% { transform: translateX(-100%); }\r\n}\r\n\r\n.moniker-selection-enter {\r\n    animation: moniker-selection-enter 0.25s ease-out;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes moniker-selection-enter {\r\n    0% { transform: translateX(100%); }\r\n    40% { transform: translateX(-5%); }\r\n    100% { transform: translateX(0); }\r\n}\r\n\r\n.moniker-selection-leave {\r\n    animation: moniker-selection-leave 0.25s ease-in;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes moniker-selection-leave {\r\n    50% { transform: translateX(-5%); }\r\n    100% { transform: translateX(100%); }\r\n}\r\n\r\n.player-selection-container {\r\n    display: flex;\r\n    gap: 1em;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n}\r\n\r\n.player-2-btn-container, .computer-btn-container {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.player-2-btn, .computer-btn{\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-size: large;\r\n    padding: 4px 8px;\r\n}\r\n\r\n.player-2-btn {\r\n    width: 103.95px;\r\n}\r\n\r\n.player2-name-is-computer {\r\n    display: none;\r\n    position: relative;\r\n    left: -1em;\r\n}\r\n\r\n.player1-moniker-text, .player2-moniker-text {\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-size: large;\r\n}\r\n\r\n.confirm-player-or-computer-btn-container {\r\n    position: absolute;\r\n    left: var(--player-selection-distance);\r\n}\r\n\r\n.confirm-player-or-computer-btn {\r\n    margin: 18.72px;\r\n}\r\n\r\n.moniker-selection {\r\n    display: none;\r\n    min-height: 82px;\r\n}\r\n\r\n.moniker-btns-container {\r\n    display: grid;\r\n    gap: 1em;\r\n    justify-items: center;\r\n    position: absolute;\r\n    left: var(--moniker-selection-distance);\r\n}\r\n\r\n.back-btn {\r\n    width: 92.09px;\r\n}\r\n\r\n#hit, #revealedMiss {\r\n    background-color: #bbb2b279;\r\n}\r\n\r\n#revealedMiss {\r\n    color: rgb(118, 115, 115);\r\n}\r\n\r\n.player1-grid.number.ship-present, .player2-grid.number.ship-present, .computer-grid.number.ship-present {\r\n    color: red;\r\n}\r\n\r\n/* SHIP PLACING */\r\ndiv.player1-grid.number.highlight, div.player2-grid.number.highlight, div.computer-grid.number.highlight {\r\n    /* CHOSE BORDER AS IT IS EASIER TO SEE WHEN PLACING */\r\n    border: 2px solid rgb(38, 209, 38);\r\n}\r\n\r\ndiv.player1-grid.number.not-valid, div.player2-grid.number.not-valid {\r\n    /* APPLYING BORDER ALLOWS USER TO DETERMINE WHAT IS BEHIND THE CURSOR\r\n    NECESSARY TO REDUCE WIDTH AND HEIGHT BY BORDER FOR NO BUGS */\r\n    border: 2px solid red;\r\n    width: 28px;\r\n    height: 28px;\r\n}\r\n\r\n.shaking-animation {\r\n    animation-name: shakeAnimation;\r\n    animation-duration: 0.25s;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes shakeAnimation {\r\n    0% { transform: translateX(0); }\r\n    15% { transform: translateX(-5px); }\r\n    30% { transform: translateX(5px); }\r\n    45% { transform: translateX(-5px); }\r\n    60% { transform: translateX(5px); }\r\n    75% { transform: translateX(-5px); }\r\n    100% { transform: translateX(0); }\r\n  }\r\n\r\n\r\n/* DRAGGABLE SHIPS */\r\n.ship-container-1, .ship-container-2, .ship-container-3 {\r\n    display: grid;\r\n    align-items: end;\r\n}\r\n\r\n.ships-container {\r\n    display: flex;\r\n    gap: 1em;\r\n    grid-area: 1 / 1 / -2 / 1;\r\n    justify-content: flex-end;\r\n    /* PADDING TO ACCOUNT FOR OUTLINE WIDTH & MAKE GAP FOR GRID OVERLAY CONSISTENT */\r\n    padding: 0 1em 2px calc(2px + 1em);\r\n}\r\n\r\n.inside-ship {\r\n    width: 32px;\r\n    height: 32px;\r\n    outline: 2px solid darkblue;\r\n}\r\n\r\n.draggable-ship[data-size=\"1\"] {\r\n    width: 32px;\r\n    height: 32px;\r\n}\r\n\r\n.draggable-ship[data-size=\"2\"] {\r\n    width: 32px;\r\n    height: 64px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2px;\r\n}\r\n\r\n.draggable-ship[data-size=\"3\"] {\r\n    width: 32px;\r\n    height: 96px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2px;\r\n}\r\n\r\n.draggable-ship[data-size=\"4\"] {\r\n    width: 32px;\r\n    height: 128px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2px;\r\n}\r\n\r\nh3.title {\r\n    grid-area: 1 / 2;\r\n}\r\n\r\n#player1Grid, #player2Grid, #computerGrid {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 32px);\r\n    grid-template-rows: repeat(10, 32px);\r\n    grid-gap: 2px;\r\n    background-color: lightblue;\r\n    border: 2px solid lightblue;\r\n\r\n    grid-area: 2 / 2;\r\n    height: max-content;\r\n    \r\n}\r\n\r\n#player1GridOverlay, #player2GridOverlay, #computerGridOverlay {\r\n    color: rgb(237, 233, 233);\r\n}\r\n\r\n.grid-containers {\r\n    display: flex;\r\n    gap: 2em;\r\n    justify-content: space-evenly;\r\n}\r\n\r\n.ship-present.reveal {\r\n    outline: 2px solid darkblue;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: x-large;\r\n}\r\n\r\n.start-button-container{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-top: 32px;\r\n\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\n.start-button, .reset-btn, .randomise-btn, .confirm-btn, .horizontal-or-vertical-btn, .refresh-btn, .confirm-player-or-computer-btn, .back-btn, .confirm-moniker-btn, .undo-btn {\r\n    font-size: large;\r\n    padding: 4px 8px;\r\n\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\n.multiple-ship-btns, .singular-ship-btns {\r\n    display: flex;\r\n}\r\n\r\n.singular-ship-btns {\r\n    gap: 1em;\r\n}\r\n\r\n.multiple-ship-btns {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.placing-div {\r\n    font-size: large;\r\n    color: rgb(73, 110, 235);\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.horizontal-or-vertical-btn {\r\n    min-width: 134.67px\r\n}\r\n\r\nh3 {\r\n    text-align: center;\r\n}\r\n\r\n.confirm-btn.denied, .confirm-player-or-computer-btn.denied {\r\n    animation: denied 0.25s;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes denied {\r\n    0% { transform: translateX(0); \r\n        color: rgb(129, 0, 0);}\r\n    15% { transform: translateX(-5px); }\r\n    30% { transform: translateX(5px);\r\n        color: rgb(255, 0, 0); }\r\n    45% { transform: translateX(-5px); }\r\n    60% { transform: translateX(5px);\r\n        color: rgb(255, 0, 0); }\r\n    75% { transform: translateX(-5px); }\r\n    100% { transform: translateX(0); \r\n        color: rgb(129, 0, 0);}\r\n    0% {\r\n        color: rgb(129, 0, 0);\r\n    }\r\n\r\n    35% {\r\n        color: rgb(255, 0, 0);\r\n    }\r\n\r\n    65% {\r\n        color: rgb(255, 0, 0);\r\n    }\r\n\r\n    100% {\r\n        color: rgb(129, 0, 0);\r\n    }\r\n}\r\n\r\n/* GRID CONTAINERS */\r\n.player1-grid-container, .player2-grid-container, .computer-grid-container {\r\n    /* position: relative NEEDED TO CONTAIN OVERLAY to just the grid container*/\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-columns: 1fr auto;\r\n    grid-template-rows: auto 1fr auto;\r\n    gap: 1em;\r\n\r\n    padding-right: 1em; /* Keeps the athestetic with the overlay even */\r\n    z-index: auto;\r\n\r\n}\r\n\r\n.btn-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    grid-area: 3 / 1 / 3 / -1;\r\n}\r\n\r\n.grid-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */\r\n    display: none; /* Initially hidden */\r\n}\r\n\r\n.ship-present.reveal.sunk {\r\n    outline: 2px solid red;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.draggable-ship.sunk > * {\r\n    outline: 2px solid red;\r\n}\r\n\r\n.draggable-ship.placing > * {\r\n    outline: 2px solid rgb(38, 209, 38);\r\n}\r\n\r\n.draggable-ship.invisible > * {\r\n    outline: 2px solid white;\r\n}\r\n\r\n\r\n/* COLOURS FOR SPAN'S IN TURN TEXT */\r\n/* HIT */\r\n.highlighted.red {\r\n    color: lightcoral;\r\n}\r\n\r\n/* SUNK */\r\n.highlighted.orange {\r\n    color: orange;\r\n}\r\n\r\n/* MISSED */\r\n.highlighted.blue {\r\n    color: lightskyblue;\r\n}\r\n\r\n/* PLACING */\r\n.highlighted.green {\r\n    color: rgb(38, 209, 38);\r\n}"],sourceRoot:""}]);const s=o},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,i,a){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var A=0;A<n.length;A++){var c=[].concat(n[A]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},o=[],s=0;s<n.length;s++){var l=n[s],A=r.base?l[0]+r.base:l[0],c=a[A]||0,d="".concat(A," ").concat(c);a[A]=c+1;var p=t(d),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var h=i(u,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var a=r(n=n||[],i=i||{});return function(n){n=n||[];for(var o=0;o<a.length;o++){var s=t(a[o]);e[s].references--}for(var l=r(n,i),A=0;A<a.length;A++){var c=t(a[A]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=l}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},508:(n,e,t)=>{var r=t(72),i=t.n(r),a=t(825),o=t.n(a),s=t(659),l=t.n(s),A=t(56),c=t.n(A),d=t(540),p=t.n(d),u=t(113),h=t.n(u),m=t(365),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=p(),i()(m.A,g),m.A&&m.A.locals&&m.A.locals;class f{constructor(n,e=!1,t=0,r=!1){this.length=n,this.placed=e,this.hits=t,this.sunk=r}hit(){return this.hits++,this.isSunk(),this}isSunk(){return this.hits===this.length&&(this.sunk=!0),this}}const C=()=>{const n=(()=>{const n=Array.from({length:10},(()=>Array(10).fill(null))),e=Array.from({length:10},(()=>Array(10).fill(null))),t=[];function r(){const e=[];for(let t=0;t<=9;t++)for(let r=0;r<=9;r++)null==n[t][r]||e.includes(n[t][r])||e.push(n[t][r]);return e}return{board:n,missed:e,positionShips:function(e){if(null===e)return void console.log("Need to provide coordinates");let r;for(r of e){let e;const[i,a,o,s]=r;if(i===a&&o===s)e=new f(1,!0),n[o][i]=e;else if(i===a){const t=s-o+1;e=new f(t,!0);for(let r=0;r<t;r++)n[o+r][i]=e}else{if(o!==s)throw Error;{const t=a-i+1;e=new f(t,!0);for(let r=0;r<t;r++)n[o][i+r]=e}}t.push(e)}},recieveAttack:function([t,r]){null!=n[r][t]?n[r][t].hit():e[r][t]="X"},allShipsSunk:function(){return t.every((n=>!0===n.sunk))},ships:t,allShipsPlaced:function(){const n=[4,3,3,2,2,2,1,1,1,1],e=r();for(const t of e){const e=n.indexOf(t.length);if(-1===e)return!1;n.splice(e,1)}return 0===n.length&&e.every((n=>!0===n.placed))},obtainCurrentShips:r}})();let e,t=null,r=[],i=[],a="HORIZONTAL",o=null,s=null,l=null;const A={vertical:["beneath","above"],horizontal:["left","right"]};function c(){document.querySelector(`.${this.name}-grid.game-board`).innerHTML=""}function d(){n.ships.length=0,r.length=0,i.length=0}function p(){const n=document.getElementById(`${this.name}GridOverlay`);n.style.paddingLeft="1em",this.showOverlay(!0),n.innerHTML='\n            <h3 class="rules-title">RULES FOR SHIP PLACEMENT</h3>\n            <p><strong>Click on the grid to place your ships!</strong></p>\n            <p>You can <strong>change the ship</strong> you want to place by <strong>clicking on another</strong>.</p>\n            <p><span class="highlighted green"><strong>Legal</strong></span> placements highlight <strong><span class="highlighted green">green</span></strong>. <span class="highlighted red"><strong>Illegal</strong></span> placements highlight <span class="highlighted red"><strong>red</strong></span>.</p>\n            <p>You <strong>cannot place</strong> a ship within <strong>a square</strong> of an <strong>already placed ship</strong>, or if the ship <strong>length</strong> means it is positioned <strong>outside the grid</strong>.</p>\n            <br></br>\n            <p><strong>Button descriptions:</strong></p>\n            <p><strong>PLACING:</strong> Displays the <strong>current direction</strong> of the ship to be placed. <strong>Click</strong> the direction of the ship, HORIZONTAL / VERTICAL, to <strong>change</strong> the direction.</p>\n            <p><strong>↶:</strong> <strong>Undo</strong> the <strong>previous</strong> ship placement.</p>\n            <p><strong>RANDOMISE:</strong> Places all ships onto the board in a random manner.</p>\n            <p><strong>RESET:</strong> Removes all ships from the grid to the starting position.</p>\n        '}function u(){const n=document.querySelector(`.${this.name}-grid-container`),e=n.querySelector(".singular-ship-btns"),t=n.querySelector(".multiple-ship-btns");n.removeChild(e),n.removeChild(t)}function h(){const n=document.createElement("div");n.classList.add("ships-container"),n.innerHTML='\n        <div class="ship-container-1">\n            <div class="draggable-ship" data-size="4">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div> \n            <div class="draggable-ship" data-size="3">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="3">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n        </div>\n        <div class="ship-container-2">\n            <div class="draggable-ship" data-size="2">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="2">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="2">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n        </div>\n        <div class="ship-container-3">\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n        </div>\n        ';const t=document.querySelector(`.${this.name}-grid-container`);t.insertAdjacentElement("afterbegin",n),e=[...t.querySelectorAll(".draggable-ship")]}function m(){const n=document.querySelector(`.${this.name}-grid-container`),e=n.querySelector(".ships-container");e&&n.removeChild(e)}function g(){document.querySelectorAll(`.${this.name}-grid.game-board.number`).forEach((n=>{n.classList.contains("reveal")&&(n.classList.remove("reveal"),n.classList.add("hidden"))}))}function C(n=0){e.length>0&&(t=e[n%e.length],t.classList.add("placing"))}function y(){function o(n,e,t){let r=!0,i=[];if(a=document.querySelector(`.${this.name}.horizontal-or-vertical-btn`).textContent,"HORIZONTAL"===a)for(let a=0;a<t;a++){let t=O.bind(this)(n,e+a);t&&i.push(t),!0===s(n,e+a)&&(r=!1)}else if("VERTICAL"===a)for(let a=0;a<t;a++){let t=O.bind(this)(n+a,e);t&&i.push(t),!0===s(n+a,e)&&(r=!1)}return[r,i]}function s(e,t){return e>9||t>9||null!=n.board[e][t]||null!=n.missed[e][t]}function l(e,t){const r=w(e,t);for(let e of r){let t=e[0],r=e[1];null===n.missed[r][t]&&n.recieveAttack([t,r])}}C(),e.forEach((n=>{n.addEventListener("mousedown",p)}));const A=n=>{if(n.preventDefault(),e.length>0){const[e,r]=k.bind(this)(n.target),i=parseInt(t.dataset.size);let[a,s]=o.bind(this)(e,r,i);if(!0===a)for(let n of s)n.classList.add("highlight");else for(let n of s)n.classList.add("not-valid")}};function c(n){let e=document.querySelectorAll(".highlight");0===e.length&&(e=document.querySelectorAll(".not-valid")),e.forEach((n=>{n.classList.remove("highlight","not-valid","shaking-animation")}))}const d=s=>{if(s.preventDefault(),e.length>0){const[A,c]=k.bind(this)(s.target),d=parseInt(t.dataset.size);let p=A,u=A,h=c,m=c,[g,f]=o.bind(this)(A,c,d);if(g){for(let n of f)n.classList.add("ship-present","reveal"),n.classList.remove("highlight");if("HORIZONTAL"===a){m=c+d-1,n.positionShips([[h,m,p,u]]);for(let n=0;n<d;n++)l.bind(this)(c+n,A)}else if("VERTICAL"===a){u=A+d-1,n.positionShips([[h,m,p,u]]);for(let n=0;n<d;n++)l.bind(this)(c,A+n)}!function(){for(let n=0;n<e.length;n++)if(t===e[n]){e[n].classList.add("invisible"),e.splice(n,1),r.push(t),i.push(n),C(n);break}}()}else for(let n of f)n.classList.add("shaking-animation","not-valid"),n.addEventListener("animationend",(()=>{n.classList.remove("shaking-animation")}),{once:!0})}};function p(n){t&&t.classList.remove("placing"),t=n.target.parentElement,t.classList.add("placing")}document.querySelectorAll(`.${this.name}-grid.game-board.number`).forEach((n=>{n.addEventListener("mouseenter",A),n.addEventListener("mouseleave",c),n.addEventListener("mousedown",d)}))}function b(n){for(let t=0;t<e.length;t++){const r=parseInt(e[t].dataset.size);if(n.length===r){e[t].classList.add("sunk"),e.splice(t,1);break}}}function I(n){console.log(n);for(let e of n){const n=e[0],t=e[1];O.bind(this)(n,t).classList.remove("ship-present","reveal")}}function B(){for(let e=0;e<=9;e++)for(let t=0;t<=9;t++)n.missed[t][e]=null}function v(n){E.bind(this)(n)}function E(n){""===n.textContent&&(n.classList.contains("ship-present")?(n.textContent="X",M(`${this.opponent.moniker} <span class="highlighted red">HIT</span>`),n.classList.contains("hidden")&&(n.classList.remove("hidden"),n.classList.add("reveal"))):(n.textContent="●",M(`${this.opponent.moniker} <span class="highlighted blue">MISSED</span>`),this.showOverlay(!0),this.opponent.showOverlay(!1),n.id="hit","computer"===this.name&&(s?N.bind(this)():G.bind(this)())),L.bind(this)(n))}function S(n){const[e,t]=k(n);return this.opponent.gameboard.board[e][t].sunk}function k(n){const e=n.getAttribute("class");for(let n of e.split(" "))if("0123456789".includes(n[0]))return[parseInt(n[0]),parseInt(n[1])]}function L(e){if(!n)return;const[t,r]=k(e);n.recieveAttack([r,t]),null!=n.board[t][r]&&n.board[t][r].sunk&&(M(`${this.opponent.moniker} <span class="highlighted orange">SANK</span> ONE OF ${this.moniker}'s SHIPS`),T(n.board,r,t,new Set).forEach((n=>{let e=parseInt(n[1]),t=parseInt(n[0]);O.bind(this)(t,e).classList.add("sunk"),x.bind(this)(e,t)})),b.bind(this)(n.board[t][r]),n.allShipsSunk()&&$.bind(this)())}function x(e,t,r=null){const i=w(e,t);for(let e of i){let t=e[0],i=e[1];if(null===n.missed[i][t]){n.recieveAttack.bind(this)([t,i]);const e=O.bind(this)(i,t);e.textContent="●",e.id="revealedMiss","computer"===this.opponent.name&&R(e,r)}}}function w(e,t){const r=[];for(let i=t-1;i<=t+1;i++)for(let t=e-1;t<=e+1;t++)Math.min(t,i)<0||Math.max(t,i)>9||null!=n.board[i][t]||r.push([t,i]);return r}function O(n,e){const t=document.getElementById(this.name+"Grid").querySelectorAll("*");let r=null;return t.forEach((t=>{t.classList.contains(`${n}${e}`)&&(r=t)})),r}function T(n,e,t,r){if(!(r.has(`${t}${e}`)||Math.max(e,t)>9||Math.min(e,t)<0||null===n[t][e]))return r.add(`${t}${e}`),T(n,e+1,t,r),T(n,e-1,t,r),T(n,e,t+1,r),T(n,e,t-1,r),r}function M(n){document.querySelector(".turn-text").innerHTML=n}async function G(){let n=await Math.floor(Math.random()*o.length);for(;n>=o.length;)n=await Math.floor(Math.random()*o.length);const e=await o[n];o.splice(n,1);let t=await Math.max(150,500*Math.random());await new Promise((n=>setTimeout(n,t))),q.bind(this)(e)}function R(n,e){for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}function q(n,e=!1){n.classList.contains("ship-present")?(n.textContent="X",M('COMPUTER <span class="highlighted red">HIT</span>'),P.bind(this)(n),o.length>0&&(S.bind(this)(n)?G.bind(this)():N.bind(this)(n,e))):(n.textContent="●",M('COMPUTER <span class="highlighted blue">MISSED</span>'),P.bind(this)(n),this.showOverlay(!1),this.opponent.showOverlay(!0),n.id="hit")}function P(e){if(!n)return;const[t,r]=k(e);this.opponent.gameboard.recieveAttack([r,t]),null!=this.opponent.gameboard.board[t][r]&&this.opponent.gameboard.board[t][r].sunk&&(M(`COMPUTER <span class="highlighted orange">SANK</span> ONE OF ${this.opponent.moniker}'s SHIPS`),s=null,l=null,T(this.opponent.gameboard.board,r,t,new Set).forEach((n=>{let e=parseInt(n[1]),t=parseInt(n[0]);this.opponent.gridDivFromCoordinates(t,e).classList.add("sunk"),this.opponent.nearbyShipSquaresHit(e,t,o)})),this.opponent.updateClassListOnDraggableShip(this.opponent.gameboard.board[t][r]),this.opponent.gameboard.allShipsSunk()&&$.bind(this)())}async function N(n=null,e=!1){if(s){if(e){const t=H(n);for(let n in t)s[n]=t[n];!function(n){l||(l=U.bind(this)(n));for(const n in s)A[l].includes(n)||delete s[n]}(e)}}else s=H(n);let t=await Math.max(150,500*Math.random());await new Promise((n=>setTimeout(n,t)));const[r,i]=z.bind(this)(s);R(r,o),q.bind(this)(r,i)}function H(n){const[e,t]=k(n),r=[[e+1,t,"beneath"],[e-1,t,"above"],[e,t+1,"right"],[e,t-1,"left"]],i={};for(let n of r){let[e,t,r]=n;const a=D(t,e);a&&(i[r]=a)}return i}function D(n,e){let t=null;return o.forEach((r=>{r.classList.contains(`${e}${n}`)&&(t=r)})),t}function z(n){const e=Object.keys(n)[0],t=n[e];return delete n[e],[t,e]}function U(n){return l="above"===n||"beneath"===n?"vertical":"horizontal",l}function X(){Array.from(document.querySelectorAll(".game-board.number")).forEach((n=>{n.removeEventListener("click",n._boundClickHandler)}))}function $(){document.getElementById("gameEndingOverlay").style.display="flex",o&&(o.length=0),X.bind(this)();const n=document.querySelector(".winner-confirmation");let e;this.gameboard.allShipsSunk()?(e=this.opponent.moniker,this.opponent.winningCounter++):(e=this.moniker,this.winningCounter++),n.textContent=`Congratulations ${e} wins!`;const t=document.querySelector(".current-score#gameEnd");"player1"===this.name?t.textContent=`${this.moniker} : ${this.winningCounter}     -     ${this.opponent.winningCounter} : ${this.opponent.moniker}`:t.textContent=`${this.opponent.moniker} : ${this.opponent.winningCounter}     -     ${this.winningCounter} : ${this.moniker}`}return{buildHTMLGrid:function(e){const t=document.getElementById(this.name+"Grid");for(let r=0;r<=9;r++)for(let i=0;i<=9;i++){const a=document.createElement("div");a.classList=`${t.classList} number ${r}${i}`,null!=n.board[r][i]&&(a.classList.add("ship-present"),e?a.classList.add("reveal"):a.classList.add("hidden")),t.appendChild(a)}},showOverlay:function(n,e=this.name){document.getElementById(e+"GridOverlay").style.display=n?"block":"none"},registerGridDivEventListener:function(){document.getElementById(this.name+"Grid").querySelectorAll("*").forEach((n=>{const e=v.bind(this,n);n._boundClickHandler=e,n.addEventListener("click",e)}))},buildHTMLDivContainers:function(){const n=document.querySelector(".grid-containers"),e=document.createElement("div");e.classList.add(`${this.name}-grid-container`),e.id=`${this.name}Container`,console.log(this.name,this.moniker),e.innerHTML=`\n        <h3 class="${this.name} title">${this.moniker}</h3>\n        <h3 class="${this.name}-winning-counter">${this.winningCounter}</h3>\n        <div class="${this.name}-grid game-board" id="${this.name}Grid"></div>\n        <div class="grid-overlay" id="${this.name}GridOverlay"></div>\n        `,n.appendChild(e)},computerGuess:G,opponent:null,generateComputerGuesses:function(){o=[],document.getElementById(`${this.opponent.name}Grid`).querySelectorAll("*").forEach((n=>{o.push(n)}))},positionShips:n.positionShips,allShipsSunk:n.allShipsSunk,allShipsPlaced:n.allShipsPlaced,gameboard:n,gridDivFromCoordinates:O,nearbyShipSquaresHit:x,potentialComputerGuesses:o,buildShips:h,applyDraggableShips:y,buildButtonContainer:function(){const n=document.createElement("div");n.classList.add("singular-ship-btns");const e=document.createElement("div");e.classList.add("multiple-ship-btns");const t=document.createElement("div");t.innerHTML="PLACING:",t.classList.add("placing-div");const r=document.createElement("button");r.classList.add(`${this.name}`,"horizontal-or-vertical-btn"),r.textContent="HORIZONTAL";const i=document.createElement("button");i.classList.add(`${this.name}`,"undo-btn"),i.textContent="↶";const a=document.createElement("button");a.classList.add(`${this.name}`,"randomise-btn"),a.textContent="RANDOMISE";const o=document.createElement("button");o.classList.add(`${this.name}`,"confirm-btn"),o.textContent="CONFIRM";const s=document.createElement("button");s.classList.add(`${this.name}`,"reset-btn"),s.textContent="RESET",n.appendChild(t),n.appendChild(r),n.appendChild(i),e.appendChild(a),e.appendChild(s),e.appendChild(o);const l=document.querySelector(`.${this.name}-grid.game-board`);l.insertAdjacentElement("afterend",e),l.insertAdjacentElement("afterend",n)},resetGrid:function(){for(let e=0;e<=9;e++)for(let t=0;t<=9;t++)n.board[e][t]=null,n.missed[e][t]=null;c.bind(this)(),d.bind(this)()},removeShips:m,removeButtons:u,hideGridShips:g,updateTurnText:M,updateClassListOnDraggableShip:b,buildRules:p,removeRules:function(){const n=document.getElementById(`${this.name}GridOverlay`);n.style.paddingLeft="0",this.showOverlay(!1),n.innerHTML=""},toggleShipsInvisible:function(){e.forEach((n=>{n.classList.add("invisible"),n.classList.remove("placing")}))},resetShips:function(){m.bind(this)(),h.bind(this)(),y.bind(this)()},resetHTMLGrid:c,progressFromShipPlacement:function(n){"computer"===this.opponent.name?(u.bind(this)(),m.bind(this)(),B(),this.opponent.removeRules()):"player2TurnStart"===n?(p.bind(this)(),m.bind(this)(),B(),this.opponent.removeRules(),this.opponent.buildShips(),this.opponent.applyDraggableShips()):"player2TurnFinish"===n&&(this.opponent.removeRules(),this.opponent.removeButtons(),m.bind(this)(),u.bind(this)(),B(),this.opponent.hideGridShips(),g.bind(this)())},resetShipsArray:d,planeOfPlacingShip:a,winningCounter:null,removeLastShip:function(){if(n.ships.length>0){const a=function(e){const t=[];for(let r=0;r<=9;r++)for(let i=0;i<=9;i++)n.board[r][i]===e&&(n.board[r][i]=null,t.push([r,i]));return t}(n.ships.pop(n.ships.length-1));I.bind(this)(a),function(e){for(let t of e){const e=t[0],r=w(t[1],e);for(let e of r){const t=e[1],r=e[0];null!=n.missed[t][r]&&(n.missed[t][r]=null)}}}(a),function(){const n=r.pop(),a=i.pop();n.classList.remove("invisible"),e.splice(a,0,n),t.classList.remove("placing"),t=n}()}}}};function y(){const n=document.querySelector(".player-selection-container").offsetLeft+200;document.documentElement.style.setProperty("--player-selection-distance",`${n}px`)}function b(){const n=document.querySelector(".player2-moniker-text"),e=document.querySelector(".player2-name-is-computer"),t=("none"===window.getComputedStyle(e).getPropertyValue("display")?n:e).offsetLeft+200;document.documentElement.style.setProperty("--moniker-selection-distance",`${t}px`)}let I=[];class B{constructor(n,e=0,t=!1){this.length=n,this.hits=e,this.sunk=t}}function v(n){if(null===n)return void console.log("Need to provide coordinates");let e;const[t,r,i,a]=n;if(t===r&&i===a)e=new B(1),I[i][t]=e;else if(t===r){const n=a-i+1;e=new B(n);for(let r=0;r<n;r++)I[i+r][t]=e}else{if(i!==a)throw Error;{const n=r-t+1;e=new B(n);for(let r=0;r<n;r++)I[i][t+r]=e}}}function E(n,e){const t=function(n,e){const t=[];for(let r=e-1;r<=e+1;r++)for(let e=n-1;e<=n+1;e++)Math.min(e,r)<0||Math.max(e,r)>9||null!=I[r][e]||t.push([e,r]);return t}(n,e);for(let n of t){const e=n[0],t=n[1];null===I[t][e]&&(I[t][e]="Nearby")}}async function S(){I=Array.from({length:10},(()=>Array(10).fill(null)));const n=["horizontal","vertical"],e=[{length:4},{length:3},{length:3},{length:2},{length:2},{length:2},{length:1},{length:1},{length:1},{length:1}],t=[];for(let r of e){let e=Math.round(Math.random());r.direction=n[e];let i,a,o,s,l=!1;for(;!l;){if("horizontal"===r.direction){let n=Math.round(9*Math.random());o=n,s=n,i=Math.round(9*Math.random()),a=i+(r.length-1),a>9&&(a=i,i=a-(r.length-1));let e=!1;for(let n=i;n<=a;n++)if(null!=I[o][n]){e=!0;break}if(e)continue}else{let n=Math.round(9*Math.random());i=n,a=n,o=Math.round(9*Math.random()),s=o+(r.length-1),s>9&&(s=o,o=s-(r.length-1));let e=!1;for(let n=o;n<=s;n++)if(null!=I[n][i]){e=!0;break}if(e)continue}if(await v([i,a,o,s]),"horizontal"===r.direction)for(let n=i;n<=a;n++)await E(n,o);else for(let n=o;n<=s;n++)await E(i,n);t.push([i,a,o,s]),l=!0}}return t}function k(n){n.classList.contains("player1"),n.textContent="HORIZONTAL"===n.textContent?"VERTICAL":"HORIZONTAL"}function L(n,e,t){n.classList.contains("player1")?e.removeLastShip():t.removeLastShip()}async function x(n,e,t){const r=await S();n.classList.contains("player1")?(e.resetGrid(),e.positionShips(r),e.buildHTMLGrid(!0),e.toggleShipsInvisible()):(t.resetGrid(),t.positionShips(r),t.buildHTMLGrid(!0),t.toggleShipsInvisible())}function w(n,e,t){n.classList.contains("player1")?(e.resetGrid(),e.buildHTMLGrid(!0),e.resetShips()):(t.resetGrid(),t.buildHTMLGrid(!0),t.resetShips())}function O(n){const e=document.querySelector(`.${n.name}.confirm-btn`);e.classList.add("denied"),e.addEventListener("animationend",(()=>{e.classList.remove("denied")}))}function T(n,e=!1){let t;t=e?[document.querySelector("#player1GridOverlay"),document.querySelector("#computerGridOverlay")]:[document.querySelector("#player1GridOverlay"),document.querySelector("#player2GridOverlay")],"blue"===n?t.forEach((n=>{n.style.backgroundColor="rgb(73, 110, 235)"})):"partially-transparent"===n&&t.forEach((n=>{n.style.backgroundColor="rgba(0, 0, 0, 0.5)"}))}let M=null,G=null,R=null,q=null,P=null;!async function n(){if(null===R){const{chosenPlayer2:n,player1MonikerValue:e,player2MonikerValue:t}=await function(){const n=document.getElementById("overallOverlay");n.style.display="block";const e=document.createElement("div");e.classList.add("centered-container"),e.innerHTML='\n        <h1 class="welcome-title">WELCOME TO BATTLESHIPS:</h1>\n        <div class="player-selection">\n            <h3>PLAYER</h3>\n            <h3>VS</h3>\n            <div class="player-selection-container">\n                <div class="player-2-btn-container">\n                    <button class="player-2-btn">PLAYER</button>\n                </div>\n                <div class="computer-btn-container">\n                    <button class="computer-btn">COMPUTER</button>\n                </div>\n            </div>\n            <div class="confirm-player-or-computer-btn-container">\n                <button class="confirm-player-or-computer-btn">CONFIRM</button>\n            </div>\n            <div class="player-selection-overlay"></div>            \n        </div>\n        <div class="moniker-selection">\n            <div class="player1-moniker-container">\n                <input type="text" class="player1-moniker-text" placeholder="PLAYER1" value="PLAYER1" size="10" maxlength="15">\n            </div>\n            <h3>VS</h3>\n            <div class="player2-moniker-container">\n                <input type="text" class="player2-moniker-text" placeholder="PLAYER2" value="PLAYER2" size="10" maxlength="15">\n            </div>\n            <h3 class="player2-name-is-computer">COMPUTER</h3>\n            <div class="moniker-btns-container">\n                <div class="confirm-moniker-btn-container">\n                    <button class="confirm-moniker-btn">CONFIRM</button>\n                </div>\n                <div class="back-btn-container">\n                    <button class="back-btn">BACK</button>\n                </div>\n            </div>\n        </div>\n        <div class="game-rules-overlay" id="gameRulesOverlay">\n            <h3 class="game-rules-title">GAME RULES</h3>\n            <p>Try and work out where the enemy ships are and sink them first!</p>\n            <p>Each player places their ships, between 1 to 4 squares in size, secretly on their gameboard.</p>\n            <p>Players take turns shooting at the opponents grid\'s by clicking on a square to a response of "HIT", "MISS" or "SUNK".</p>\n            <p>First player to sink all of their opponent\'s ships wins! Good Luck!</p>\n\n            <p>Player vs Player is local play which means the screen is shared>\n            <p>Local play requires the opponent to not look at the screen whilst the other player is positioning their ships!</p>\n\n            <p>TIP: Watch the game tracker beneath the title if you get lost</p>\n        </div>\n        ',n.appendChild(e),y(),window.addEventListener("resize",y),window.addEventListener("resize",b);let t=null;const r=document.querySelector("body"),i=document.querySelector(".player-selection"),a=document.querySelector(".moniker-selection"),o=document.querySelector(".player-2-btn"),s=document.querySelector(".computer-btn"),l=document.querySelector(".player1-moniker-text"),A=document.querySelector(".player2-moniker-text"),c=document.querySelector(".player2-name-is-computer");let d="PLAYER1",p="PLAYER2";o.addEventListener("click",(()=>{t="player",o.classList.add("highlighted","green"),s.classList.remove("highlighted","green")})),s.addEventListener("click",(()=>{t="computer",s.classList.add("highlighted","green"),o.classList.remove("highlighted","green")}));const u=document.querySelector(".confirm-player-or-computer-btn");u.addEventListener("click",(()=>{t?("computer"===t?(A.style.display="none",p="COMPUTER",c.style.display="block"):(c.style.display="none",A.style.display="block",p=A.value),i.classList.add("player-selection-leave"),r.style.overflow="hidden",i.addEventListener("animationend",(()=>{i.style.display="none",i.classList.remove("player-selection-leave"),a.style.display="flex",b(),a.classList.add("moniker-selection-enter")}),{once:!0}),a.addEventListener("animationend",(()=>{a.classList.remove("moniker-selection-enter"),r.style.overflow="auto"}),{once:!0})):(u.classList.add("denied"),u.addEventListener("animationend",(()=>{u.classList.remove("denied")})))})),l.addEventListener("input",(n=>{d=n.target.value})),A.addEventListener("input",(n=>{p=n.target.value})),document.querySelector(".back-btn").addEventListener("click",(()=>{a.classList.add("moniker-selection-leave"),r.style.overflow="hidden",a.addEventListener("animationend",(()=>{a.style.display="none",a.classList.remove("moniker-selection-leave"),i.style.display="flex",y(),i.classList.add("player-selection-enter")}),{once:!0}),i.addEventListener("animationend",(()=>{i.classList.remove("player-selection-enter"),r.style.overflow="auto"}),{once:!0})}));const h=document.querySelector(".confirm-moniker-btn");return new Promise((e=>{h.addEventListener("click",(()=>{""===d&&(d="PLAYER1"),""===p&&(p="computer"===t?"COMPUTER":"PLAYER2"),d===p&&(d+="1",p+="2"),e({chosenPlayer2:t,player1MonikerValue:d,player2MonikerValue:p}),n.innerHTML="",n.style.display="none",window.removeEventListener("resize",y),window.removeEventListener("resize",b)}))}))}();R="player"===n?"player2":"computer",q=e,P=t,M=0,G=0,document.querySelector(".grid-containers").innerHTML=""}const e=C();e.name="player1",e.moniker=q;const t=C();t.name=`${R}`,t.moniker=P,e.opponent=t,t.opponent=e,e.winningCounter=M,t.winningCounter=G,e.buildHTMLDivContainers(),t.buildHTMLDivContainers(),e.updateTurnText(`${e.moniker} <span class="highlighted green">PLACE YOUR SHIPS</span>`),e.buildHTMLGrid(!0),e.buildShips(),e.applyDraggableShips(),t.buildRules(),e.buildButtonContainer(),t.buildButtonContainer(),"computer"===t.name?(t.buildHTMLGrid(!1),T("blue",!0)):t.buildHTMLGrid(!0),document.querySelector(".game-rules-btn").addEventListener("click",(()=>{!function(){const n=document.querySelector(".game-rules-overlay"),e=document.querySelector("body");"none"===n.style.display?(n.style.display="block",e.style.overflow="hidden",n.classList.add("rules-load-in"),n.addEventListener("animationend",(()=>{n.classList.remove("rules-load-in")}),{once:!0})):(e.style.overflow="hidden",n.classList.add("rules-load-out"),n.addEventListener("animationend",(()=>{n.classList.remove("rules-load-out"),n.style.display="none",e.style.overflow="auto"}),{once:!0}))}()}));const r=document.querySelectorAll(".horizontal-or-vertical-btn");for(const n of r)n.onclick=()=>k(n);const i=document.querySelectorAll(".undo-btn");for(const n of i)n.onclick=()=>L(n,e,t);const a=document.querySelectorAll(".randomise-btn");for(const n of a)n.onclick=()=>x(n,e,t);const o=document.querySelectorAll(".reset-btn");for(const n of o)n.onclick=()=>w(n,e,t);if(await async function(n,e){"computer"===e.name?await function(n,e){const t=document.querySelector(".player1.confirm-btn");let r;return new Promise((i=>{r=i,t.onclick=()=>{n.allShipsPlaced()?(n.progressFromShipPlacement(),e.removeButtons(),T("partially-transparent",!0),i()):O(n)}}))}(n,e):await function(n,e){T("blue"),document.querySelector(".player1.confirm-btn").onclick=()=>{n.allShipsPlaced()?(n.progressFromShipPlacement("player2TurnStart"),e.updateTurnText(`${e.moniker} <span class="highlighted green">PLACE YOUR SHIPS</span>`)):O(n)};const t=document.querySelector(".player2.confirm-btn");let r;return new Promise((n=>{r=n,t.onclick=()=>{e.allShipsPlaced()?(e.progressFromShipPlacement("player2TurnFinish"),T("partially-transparent"),n()):O(e)}}))}(n,e)}(e,t),"computer"===t.name){t.resetGrid(),t.generateComputerGuesses();const n=await S();t.positionShips(n),t.buildHTMLGrid(!1)}else e.resetHTMLGrid(),e.buildHTMLGrid(),t.resetHTMLGrid(),t.buildHTMLGrid(),e.registerGridDivEventListener();e.buildShips(),t.buildShips(),t.registerGridDivEventListener();let s=function(n){let e=Math.random(),t=Math.round(e),r=n[t].moniker;return document.querySelector(".turn-text").textContent=`${r.toUpperCase()} GOES FIRST`,n[t]}([e,t]);s.showOverlay(!0),"computer"===s.name&&(console.log("COMPUTER GUESSED FIRST"),t.computerGuess()),document.querySelector(".reset-btn").addEventListener("click",(()=>{R=null,document.getElementById("gameEndingOverlay").style.display="none",document.querySelector(".grid-containers").innerHTML="",e.resetShipsArray(),t.resetShipsArray(),n()})),document.querySelector(".refresh-btn").addEventListener("click",(()=>{M=e.winningCounter,G=t.winningCounter,document.getElementById("gameEndingOverlay").style.display="none",document.querySelector(".grid-containers").innerHTML="",e.resetShipsArray(),t.resetShipsArray(),n()}))}()}},n=>{n(n.s=508)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFLM0IsT0FIZ0JsSixTQUFTQyxjQUFjLGNBQy9CNEcsWUFBYyxHQUFHZ04sRUFBTUMsMkJBRXhCSCxFQUFRcFUsRUFDbkIsQ0QySGV3VSxDQUFVLENBQUN2RCxFQUFTQyxJQUMvQmlELEVBQUtuTyxhQUFZLEdBRUMsYUFBZG1PLEVBQUsxTyxPQUNMOUIsUUFBUUMsSUFBSSwwQkFDWnNOLEVBQVFySCxpQkFJV3BKLFNBQVNDLGNBQWMsY0FDL0JvSCxpQkFBaUIsU0FBUyxLQUNyQzRCLEVBQVcsS0FFS2pKLFNBQVNxRixlQUFlLHFCQUNoQ3hGLE1BQU0rTSxRQUFVLE9BRU41TSxTQUFTQyxjQUFjLG9CQUUvQmdGLFVBQVksR0FFdEJ1TCxFQUFRdEwsa0JBQ1J1TCxFQUFRdkwsa0JBRVJzTSxHQUFnQixJQUdBeFIsU0FBU0MsY0FBYyxnQkFDL0JvSCxpQkFBaUIsU0FBUyxLQUNsQytKLEVBQXdCWixFQUFRekQsZUFDaENzRSxFQUF3QlosRUFBUTFELGVBRWhCL00sU0FBU3FGLGVBQWUscUJBQ2hDeEYsTUFBTStNLFFBQVUsT0FFTjVNLFNBQVNDLGNBQWMsb0JBRS9CZ0YsVUFBWSxHQUV0QnVMLEVBQVF0TCxrQkFDUnVMLEVBQVF2TCxrQkFFUnNNLEdBQWdCLEdBRXhCLENBRUFBLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9zdHlsZXMuY3NzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvc3R5bGVzLmNzcz80NGIyIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL2NsYXNzQ3JlYXRvci5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9kaXN0YW5jZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9yYW5kb21pc2UuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvYnV0dG9uTG9naWMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvcGxheWVyU2VsZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIGA6cm9vdCB7XHJcbiAgICAtLXBsYXllci1zZWxlY3Rpb24tZGlzdGFuY2U6IDA7IC8qIFZhcmlhYmxlIGZvciBhbmltYXRpb24gb2YgdGhlIGdyaWRPdmVybGF5J3MgKi9cclxuICAgIC0tbW9uaWtlci1zZWxlY3Rpb24tZGlzdGFuY2U6IDA7XHJcbiAgfVxyXG5cclxuYm9keSB7XHJcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG5oZWFkZXIge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87XHJcbn1cclxuXHJcbmgxLnRpdGxlLCAud2lubmVyLWNvbmZpcm1hdGlvbiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogcmdiKDczLCAxMTAsIDIzNSk7XHJcbn1cclxuXHJcbi5wbGF5ZXIxLXdpbm5pbmctY291bnRlciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBsZWZ0OiA0NSU7XHJcbiAgICBncmlkLWFyZWE6IDEgLyAyO1xyXG4gICAgY29sb3I6IHJnYigzOCwgMjA5LCAzOCk7XHJcbn1cclxuXHJcbi5wbGF5ZXIyLXdpbm5pbmctY291bnRlciwgLmNvbXB1dGVyLXdpbm5pbmctY291bnRlciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICByaWdodDogNDUlO1xyXG4gICAgZ3JpZC1hcmVhOiAxIC8gMjtcclxuICAgIGNvbG9yOiByZ2IoMzgsIDIwOSwgMzgpO1xyXG59XHJcblxyXG4ucGxheWVyMS1ncmlkLm51bWJlciwgLnBsYXllcjItZ3JpZC5udW1iZXIsIC5jb21wdXRlci1ncmlkLm51bWJlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcclxuICAgIGNvbG9yOiBibGFjaztcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jZW50ZXJlZC1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogMmZyIGF1dG8gM2ZyO1xyXG4gICAgaGVpZ2h0OiAxMDAlOyBcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcclxuXHJcbiAgICBnYXA6IDJlbTtcclxufVxyXG5cclxuLmdhbWUtcnVsZXMtYnRuIHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDkwJTtcclxuICAgIHRvcDogMy40JTtcclxuXHJcbiAgICBjb2xvcjogcmdiKDczLCAxMTAsIDIzNSk7XHJcbiAgICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xyXG59XHJcblxyXG4uZ2FtZS1ydWxlcy1vdmVybGF5IHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnJ1bGVzLWxvYWQtaW4ge1xyXG4gICAgYW5pbWF0aW9uOiBmYWRlSW4gMXMgZWFzZTtcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZUluIHtcclxuICAgIDAlIHtcclxuICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg1MCUpOyAvKiBTbGlkZSBpbiBmcm9tIGJvdHRvbSAqL1xyXG4gICAgfVxyXG4gICAgMTAwJSB7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4ucnVsZXMtbG9hZC1vdXQge1xyXG4gICAgYW5pbWF0aW9uOiBmYWRlT3V0IDFzIGVhc2U7XHJcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIGZhZGVPdXQge1xyXG4gICAgMCUgeyBcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgIH1cclxuICAgIDEwMCUgeyBcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNTAlKTsgIC8qIFNsaWRlIG91dCBmcm9tIGJvdHRvbSAqL1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICB9XHJcbn1cclxuXHJcbi5nYW1lLXJ1bGVzLXRpdGxlIHtcclxuICAgIGNvbG9yOiByZ2IoNzMsIDExMCwgMjM1KTtcclxufVxyXG5cclxuI2dhbWVFbmRpbmdPdmVybGF5IHtcclxuICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG5cclxufVxyXG5cclxuLnJlc2V0LWJ0bi1kaXYsIC5yZWZyZXNoLWJ0bi1kaXYge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTZweDtcclxufVxyXG5cclxuLmdhbWUtZW5kLWJ0bi1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4ud2VsY29tZS10aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleDogNDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xyXG5cclxuICAgIGNvbG9yOiByZ2IoNzMsIDExMCwgMjM1KTtcclxufVxyXG5cclxuLnBsYXllci1zZWxlY3Rpb24sIC5tb25pa2VyLXNlbGVjdGlvbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBnYXA6IDJlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcclxuICAgIC8qIGhlaWdodDogMTAwJTsgKi9cclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZmxleDogNTtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5wbGF5ZXItc2VsZWN0aW9uLWVudGVyIHtcclxuICAgIGFuaW1hdGlvbjogcGxheWVyLXNlbGVjdGlvbi1lbnRlciAwLjI1cyBlYXNlLW91dDtcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgcGxheWVyLXNlbGVjdGlvbi1lbnRlciB7XHJcbiAgICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH1cclxuICAgIDQwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1JSk7IH1cclxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cclxufVxyXG5cclxuLnBsYXllci1zZWxlY3Rpb24tbGVhdmUge1xyXG4gICAgYW5pbWF0aW9uOiBwbGF5ZXItc2VsZWN0aW9uLWxlYXZlIDAuMjVzIGVhc2UtaW47XHJcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHBsYXllci1zZWxlY3Rpb24tbGVhdmUge1xyXG4gICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDUlKTsgfVxyXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH1cclxufVxyXG5cclxuLm1vbmlrZXItc2VsZWN0aW9uLWVudGVyIHtcclxuICAgIGFuaW1hdGlvbjogbW9uaWtlci1zZWxlY3Rpb24tZW50ZXIgMC4yNXMgZWFzZS1vdXQ7XHJcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIG1vbmlrZXItc2VsZWN0aW9uLWVudGVyIHtcclxuICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOyB9XHJcbiAgICA0MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUlKTsgfVxyXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxyXG59XHJcblxyXG4ubW9uaWtlci1zZWxlY3Rpb24tbGVhdmUge1xyXG4gICAgYW5pbWF0aW9uOiBtb25pa2VyLXNlbGVjdGlvbi1sZWF2ZSAwLjI1cyBlYXNlLWluO1xyXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBtb25pa2VyLXNlbGVjdGlvbi1sZWF2ZSB7XHJcbiAgICA1MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUlKTsgfVxyXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsgfVxyXG59XHJcblxyXG4ucGxheWVyLXNlbGVjdGlvbi1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMWVtO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4ucGxheWVyLTItYnRuLWNvbnRhaW5lciwgLmNvbXB1dGVyLWJ0bi1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59XHJcblxyXG4ucGxheWVyLTItYnRuLCAuY29tcHV0ZXItYnRue1xyXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICBmb250LXNpemU6IGxhcmdlO1xyXG4gICAgcGFkZGluZzogNHB4IDhweDtcclxufVxyXG5cclxuLnBsYXllci0yLWJ0biB7XHJcbiAgICB3aWR0aDogMTAzLjk1cHg7XHJcbn1cclxuXHJcbi5wbGF5ZXIyLW5hbWUtaXMtY29tcHV0ZXIge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGxlZnQ6IC0xZW07XHJcbn1cclxuXHJcbi5wbGF5ZXIxLW1vbmlrZXItdGV4dCwgLnBsYXllcjItbW9uaWtlci10ZXh0IHtcclxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiBsYXJnZTtcclxufVxyXG5cclxuLmNvbmZpcm0tcGxheWVyLW9yLWNvbXB1dGVyLWJ0bi1jb250YWluZXIge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogdmFyKC0tcGxheWVyLXNlbGVjdGlvbi1kaXN0YW5jZSk7XHJcbn1cclxuXHJcbi5jb25maXJtLXBsYXllci1vci1jb21wdXRlci1idG4ge1xyXG4gICAgbWFyZ2luOiAxOC43MnB4O1xyXG59XHJcblxyXG4ubW9uaWtlci1zZWxlY3Rpb24ge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICAgIG1pbi1oZWlnaHQ6IDgycHg7XHJcbn1cclxuXHJcbi5tb25pa2VyLWJ0bnMtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICBnYXA6IDFlbTtcclxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IHZhcigtLW1vbmlrZXItc2VsZWN0aW9uLWRpc3RhbmNlKTtcclxufVxyXG5cclxuLmJhY2stYnRuIHtcclxuICAgIHdpZHRoOiA5Mi4wOXB4O1xyXG59XHJcblxyXG4jaGl0LCAjcmV2ZWFsZWRNaXNzIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiYmIyYjI3OTtcclxufVxyXG5cclxuI3JldmVhbGVkTWlzcyB7XHJcbiAgICBjb2xvcjogcmdiKDExOCwgMTE1LCAxMTUpO1xyXG59XHJcblxyXG4ucGxheWVyMS1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQsIC5wbGF5ZXIyLWdyaWQubnVtYmVyLnNoaXAtcHJlc2VudCwgLmNvbXB1dGVyLWdyaWQubnVtYmVyLnNoaXAtcHJlc2VudCB7XHJcbiAgICBjb2xvcjogcmVkO1xyXG59XHJcblxyXG4vKiBTSElQIFBMQUNJTkcgKi9cclxuZGl2LnBsYXllcjEtZ3JpZC5udW1iZXIuaGlnaGxpZ2h0LCBkaXYucGxheWVyMi1ncmlkLm51bWJlci5oaWdobGlnaHQsIGRpdi5jb21wdXRlci1ncmlkLm51bWJlci5oaWdobGlnaHQge1xyXG4gICAgLyogQ0hPU0UgQk9SREVSIEFTIElUIElTIEVBU0lFUiBUTyBTRUUgV0hFTiBQTEFDSU5HICovXHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2IoMzgsIDIwOSwgMzgpO1xyXG59XHJcblxyXG5kaXYucGxheWVyMS1ncmlkLm51bWJlci5ub3QtdmFsaWQsIGRpdi5wbGF5ZXIyLWdyaWQubnVtYmVyLm5vdC12YWxpZCB7XHJcbiAgICAvKiBBUFBMWUlORyBCT1JERVIgQUxMT1dTIFVTRVIgVE8gREVURVJNSU5FIFdIQVQgSVMgQkVISU5EIFRIRSBDVVJTT1JcclxuICAgIE5FQ0VTU0FSWSBUTyBSRURVQ0UgV0lEVEggQU5EIEhFSUdIVCBCWSBCT1JERVIgRk9SIE5PIEJVR1MgKi9cclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcclxuICAgIHdpZHRoOiAyOHB4O1xyXG4gICAgaGVpZ2h0OiAyOHB4O1xyXG59XHJcblxyXG4uc2hha2luZy1hbmltYXRpb24ge1xyXG4gICAgYW5pbWF0aW9uLW5hbWU6IHNoYWtlQW5pbWF0aW9uO1xyXG4gICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAwLjI1cztcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgc2hha2VBbmltYXRpb24ge1xyXG4gICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cclxuICAgIDE1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxyXG4gICAgMzAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDVweCk7IH1cclxuICAgIDQ1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxyXG4gICAgNjAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDVweCk7IH1cclxuICAgIDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxyXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxyXG4gIH1cclxuXHJcblxyXG4vKiBEUkFHR0FCTEUgU0hJUFMgKi9cclxuLnNoaXAtY29udGFpbmVyLTEsIC5zaGlwLWNvbnRhaW5lci0yLCAuc2hpcC1jb250YWluZXItMyB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgYWxpZ24taXRlbXM6IGVuZDtcclxufVxyXG5cclxuLnNoaXBzLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAxZW07XHJcbiAgICBncmlkLWFyZWE6IDEgLyAxIC8gLTIgLyAxO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgIC8qIFBBRERJTkcgVE8gQUNDT1VOVCBGT1IgT1VUTElORSBXSURUSCAmIE1BS0UgR0FQIEZPUiBHUklEIE9WRVJMQVkgQ09OU0lTVEVOVCAqL1xyXG4gICAgcGFkZGluZzogMCAxZW0gMnB4IGNhbGMoMnB4ICsgMWVtKTtcclxufVxyXG5cclxuLmluc2lkZS1zaGlwIHtcclxuICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgaGVpZ2h0OiAzMnB4O1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXBbZGF0YS1zaXplPVwiMVwiXSB7XHJcbiAgICB3aWR0aDogMzJweDtcclxuICAgIGhlaWdodDogMzJweDtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cIjJcIl0ge1xyXG4gICAgd2lkdGg6IDMycHg7XHJcbiAgICBoZWlnaHQ6IDY0cHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMnB4O1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXBbZGF0YS1zaXplPVwiM1wiXSB7XHJcbiAgICB3aWR0aDogMzJweDtcclxuICAgIGhlaWdodDogOTZweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAycHg7XHJcbn1cclxuXHJcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XCI0XCJdIHtcclxuICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgaGVpZ2h0OiAxMjhweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAycHg7XHJcbn1cclxuXHJcbmgzLnRpdGxlIHtcclxuICAgIGdyaWQtYXJlYTogMSAvIDI7XHJcbn1cclxuXHJcbiNwbGF5ZXIxR3JpZCwgI3BsYXllcjJHcmlkLCAjY29tcHV0ZXJHcmlkIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMzJweCk7XHJcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMzJweCk7XHJcbiAgICBncmlkLWdhcDogMnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRibHVlO1xyXG5cclxuICAgIGdyaWQtYXJlYTogMiAvIDI7XHJcbiAgICBoZWlnaHQ6IG1heC1jb250ZW50O1xyXG4gICAgXHJcbn1cclxuXHJcbiNwbGF5ZXIxR3JpZE92ZXJsYXksICNwbGF5ZXIyR3JpZE92ZXJsYXksICNjb21wdXRlckdyaWRPdmVybGF5IHtcclxuICAgIGNvbG9yOiByZ2IoMjM3LCAyMzMsIDIzMyk7XHJcbn1cclxuXHJcbi5ncmlkLWNvbnRhaW5lcnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMmVtO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XHJcbn1cclxuXHJcbi5zaGlwLXByZXNlbnQucmV2ZWFsIHtcclxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG59XHJcblxyXG4uc3RhcnQtYnV0dG9uLWNvbnRhaW5lcntcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tdG9wOiAzMnB4O1xyXG5cclxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4uc3RhcnQtYnV0dG9uLCAucmVzZXQtYnRuLCAucmFuZG9taXNlLWJ0biwgLmNvbmZpcm0tYnRuLCAuaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG4sIC5yZWZyZXNoLWJ0biwgLmNvbmZpcm0tcGxheWVyLW9yLWNvbXB1dGVyLWJ0biwgLmJhY2stYnRuLCAuY29uZmlybS1tb25pa2VyLWJ0biwgLnVuZG8tYnRuIHtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xyXG5cclxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG59XHJcblxyXG4ubXVsdGlwbGUtc2hpcC1idG5zLCAuc2luZ3VsYXItc2hpcC1idG5zIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbn1cclxuXHJcbi5zaW5ndWxhci1zaGlwLWJ0bnMge1xyXG4gICAgZ2FwOiAxZW07XHJcbn1cclxuXHJcbi5tdWx0aXBsZS1zaGlwLWJ0bnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcclxufVxyXG5cclxuLnBsYWNpbmctZGl2IHtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbiAgICBjb2xvcjogcmdiKDczLCAxMTAsIDIzNSk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmhvcml6b250YWwtb3ItdmVydGljYWwtYnRuIHtcclxuICAgIG1pbi13aWR0aDogMTM0LjY3cHhcclxufVxyXG5cclxuaDMge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4uY29uZmlybS1idG4uZGVuaWVkLCAuY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuLmRlbmllZCB7XHJcbiAgICBhbmltYXRpb246IGRlbmllZCAwLjI1cztcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZGVuaWVkIHtcclxuICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyBcclxuICAgICAgICBjb2xvcjogcmdiKDEyOSwgMCwgMCk7fVxyXG4gICAgMTUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XHJcbiAgICAzMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTtcclxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7IH1cclxuICAgIDQ1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxyXG4gICAgNjAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDVweCk7XHJcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDAsIDApOyB9XHJcbiAgICA3NSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cclxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IFxyXG4gICAgICAgIGNvbG9yOiByZ2IoMTI5LCAwLCAwKTt9XHJcbiAgICAwJSB7XHJcbiAgICAgICAgY29sb3I6IHJnYigxMjksIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIDM1JSB7XHJcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIDY1JSB7XHJcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDAsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIDEwMCUge1xyXG4gICAgICAgIGNvbG9yOiByZ2IoMTI5LCAwLCAwKTtcclxuICAgIH1cclxufVxyXG5cclxuLyogR1JJRCBDT05UQUlORVJTICovXHJcbi5wbGF5ZXIxLWdyaWQtY29udGFpbmVyLCAucGxheWVyMi1ncmlkLWNvbnRhaW5lciwgLmNvbXB1dGVyLWdyaWQtY29udGFpbmVyIHtcclxuICAgIC8qIHBvc2l0aW9uOiByZWxhdGl2ZSBORUVERUQgVE8gQ09OVEFJTiBPVkVSTEFZIHRvIGp1c3QgdGhlIGdyaWQgY29udGFpbmVyKi9cclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvO1xyXG4gICAgZ2FwOiAxZW07XHJcblxyXG4gICAgcGFkZGluZy1yaWdodDogMWVtOyAvKiBLZWVwcyB0aGUgYXRoZXN0ZXRpYyB3aXRoIHRoZSBvdmVybGF5IGV2ZW4gKi9cclxuICAgIHotaW5kZXg6IGF1dG87XHJcblxyXG59XHJcblxyXG4uYnRuLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG4gICAgZ3JpZC1hcmVhOiAzIC8gMSAvIDMgLyAtMTtcclxufVxyXG5cclxuLmdyaWQtb3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7IC8qIFNlbWktdHJhbnNwYXJlbnQgYmxhY2sgb3ZlcmxheSAqL1xyXG4gICAgZGlzcGxheTogbm9uZTsgLyogSW5pdGlhbGx5IGhpZGRlbiAqL1xyXG59XHJcblxyXG4uc2hpcC1wcmVzZW50LnJldmVhbC5zdW5rIHtcclxuICAgIG91dGxpbmU6IDJweCBzb2xpZCByZWQ7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwLnN1bmsgPiAqIHtcclxuICAgIG91dGxpbmU6IDJweCBzb2xpZCByZWQ7XHJcbn1cclxuXHJcbi5kcmFnZ2FibGUtc2hpcC5wbGFjaW5nID4gKiB7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgcmdiKDM4LCAyMDksIDM4KTtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwLmludmlzaWJsZSA+ICoge1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHdoaXRlO1xyXG59XHJcblxyXG5cclxuLyogQ09MT1VSUyBGT1IgU1BBTidTIElOIFRVUk4gVEVYVCAqL1xyXG4vKiBISVQgKi9cclxuLmhpZ2hsaWdodGVkLnJlZCB7XHJcbiAgICBjb2xvcjogbGlnaHRjb3JhbDtcclxufVxyXG5cclxuLyogU1VOSyAqL1xyXG4uaGlnaGxpZ2h0ZWQub3JhbmdlIHtcclxuICAgIGNvbG9yOiBvcmFuZ2U7XHJcbn1cclxuXHJcbi8qIE1JU1NFRCAqL1xyXG4uaGlnaGxpZ2h0ZWQuYmx1ZSB7XHJcbiAgICBjb2xvcjogbGlnaHRza3libHVlO1xyXG59XHJcblxyXG4vKiBQTEFDSU5HICovXHJcbi5oaWdobGlnaHRlZC5ncmVlbiB7XHJcbiAgICBjb2xvcjogcmdiKDM4LCAyMDksIDM4KTtcclxufWAsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL3N0eWxlcy5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSw4QkFBOEIsRUFBRSxnREFBZ0Q7SUFDaEYsK0JBQStCO0VBQ2pDOztBQUVGO0lBQ0ksaUJBQWlCO0lBQ2pCLHFHQUFxRztBQUN6Rzs7QUFFQTtJQUNJLGFBQWE7SUFDYiwrQkFBK0I7QUFDbkM7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsd0JBQXdCO0FBQzVCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFNBQVM7SUFDVCxnQkFBZ0I7SUFDaEIsdUJBQXVCO0FBQzNC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LGFBQWE7O0FBRWpCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5Qix5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87SUFDUCxXQUFXO0lBQ1gsWUFBWTtJQUNaLG9DQUFvQyxFQUFFLG1DQUFtQztJQUN6RSxhQUFhLEVBQUUscUJBQXFCO0FBQ3hDOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksbUNBQW1DO0FBQ3ZDOztBQUVBO0lBQ0ksd0JBQXdCO0FBQzVCOzs7QUFHQSxvQ0FBb0M7QUFDcEMsUUFBUTtBQUNSO0lBQ0ksaUJBQWlCO0FBQ3JCOztBQUVBLFNBQVM7QUFDVDtJQUNJLGFBQWE7QUFDakI7O0FBRUEsV0FBVztBQUNYO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBLFlBQVk7QUFDWjtJQUNJLHVCQUF1QjtBQUMzQlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCI6cm9vdCB7XFxyXFxuICAgIC0tcGxheWVyLXNlbGVjdGlvbi1kaXN0YW5jZTogMDsgLyogVmFyaWFibGUgZm9yIGFuaW1hdGlvbiBvZiB0aGUgZ3JpZE92ZXJsYXkncyAqL1xcclxcbiAgICAtLW1vbmlrZXItc2VsZWN0aW9uLWRpc3RhbmNlOiAwO1xcclxcbiAgfVxcclxcblxcclxcbmJvZHkge1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxyXFxufVxcclxcblxcclxcbmhlYWRlciB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87XFxyXFxufVxcclxcblxcclxcbmgxLnRpdGxlLCAud2lubmVyLWNvbmZpcm1hdGlvbiB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgY29sb3I6IHJnYig3MywgMTEwLCAyMzUpO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyMS13aW5uaW5nLWNvdW50ZXIge1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIGxlZnQ6IDQ1JTtcXHJcXG4gICAgZ3JpZC1hcmVhOiAxIC8gMjtcXHJcXG4gICAgY29sb3I6IHJnYigzOCwgMjA5LCAzOCk7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXIyLXdpbm5pbmctY291bnRlciwgLmNvbXB1dGVyLXdpbm5pbmctY291bnRlciB7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgcmlnaHQ6IDQ1JTtcXHJcXG4gICAgZ3JpZC1hcmVhOiAxIC8gMjtcXHJcXG4gICAgY29sb3I6IHJnYigzOCwgMjA5LCAzOCk7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXIxLWdyaWQubnVtYmVyLCAucGxheWVyMi1ncmlkLm51bWJlciwgLmNvbXB1dGVyLWdyaWQubnVtYmVyIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XFxyXFxuICAgIGNvbG9yOiBibGFjaztcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5jZW50ZXJlZC1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IDJmciBhdXRvIDNmcjtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlOyBcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xcclxcblxcclxcbiAgICBnYXA6IDJlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbWUtcnVsZXMtYnRuIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBsZWZ0OiA5MCU7XFxyXFxuICAgIHRvcDogMy40JTtcXHJcXG5cXHJcXG4gICAgY29sb3I6IHJnYig3MywgMTEwLCAyMzUpO1xcclxcbiAgICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG4gICAgZm9udC1zaXplOiBsYXJnZTtcXHJcXG4gICAgcGFkZGluZzogNHB4IDhweDtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbWUtcnVsZXMtb3ZlcmxheSB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLnJ1bGVzLWxvYWQtaW4ge1xcclxcbiAgICBhbmltYXRpb246IGZhZGVJbiAxcyBlYXNlO1xcclxcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIGZhZGVJbiB7XFxyXFxuICAgIDAlIHtcXHJcXG4gICAgICAgIG9wYWNpdHk6IDA7XFxyXFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoNTAlKTsgLyogU2xpZGUgaW4gZnJvbSBib3R0b20gKi9cXHJcXG4gICAgfVxcclxcbiAgICAxMDAlIHtcXHJcXG4gICAgICAgIG9wYWNpdHk6IDE7XFxyXFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XFxyXFxuICAgIH1cXHJcXG59XFxyXFxuXFxyXFxuXFxyXFxuLnJ1bGVzLWxvYWQtb3V0IHtcXHJcXG4gICAgYW5pbWF0aW9uOiBmYWRlT3V0IDFzIGVhc2U7XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgZmFkZU91dCB7XFxyXFxuICAgIDAlIHsgXFxyXFxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7XFxyXFxuICAgICAgICBvcGFjaXR5OiAxO1xcclxcbiAgICB9XFxyXFxuICAgIDEwMCUgeyBcXHJcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg1MCUpOyAgLyogU2xpZGUgb3V0IGZyb20gYm90dG9tICovXFxyXFxuICAgICAgICBvcGFjaXR5OiAwO1xcclxcbiAgICB9XFxyXFxufVxcclxcblxcclxcbi5nYW1lLXJ1bGVzLXRpdGxlIHtcXHJcXG4gICAgY29sb3I6IHJnYig3MywgMTEwLCAyMzUpO1xcclxcbn1cXHJcXG5cXHJcXG4jZ2FtZUVuZGluZ092ZXJsYXkge1xcclxcbiAgICBkaXNwbGF5OiBub25lO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGhlaWdodDogYXV0bztcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLnJlc2V0LWJ0bi1kaXYsIC5yZWZyZXNoLWJ0bi1kaXYge1xcclxcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxyXFxuICAgIHBhZGRpbmc6IDE2cHg7XFxyXFxufVxcclxcblxcclxcbi5nYW1lLWVuZC1idG4tY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi53ZWxjb21lLXRpdGxlIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleDogNDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXHJcXG5cXHJcXG4gICAgY29sb3I6IHJnYig3MywgMTEwLCAyMzUpO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlbGVjdGlvbiwgLm1vbmlrZXItc2VsZWN0aW9uIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIGdhcDogMmVtO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XFxyXFxuICAgIC8qIGhlaWdodDogMTAwJTsgKi9cXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGZsZXg6IDU7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWxlY3Rpb24tZW50ZXIge1xcclxcbiAgICBhbmltYXRpb246IHBsYXllci1zZWxlY3Rpb24tZW50ZXIgMC4yNXMgZWFzZS1vdXQ7XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgcGxheWVyLXNlbGVjdGlvbi1lbnRlciB7XFxyXFxuICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgfVxcclxcbiAgICA0MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNSUpOyB9XFxyXFxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWxlY3Rpb24tbGVhdmUge1xcclxcbiAgICBhbmltYXRpb246IHBsYXllci1zZWxlY3Rpb24tbGVhdmUgMC4yNXMgZWFzZS1pbjtcXHJcXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBwbGF5ZXItc2VsZWN0aW9uLWxlYXZlIHtcXHJcXG4gICAgNTAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDUlKTsgfVxcclxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgfVxcclxcbn1cXHJcXG5cXHJcXG4ubW9uaWtlci1zZWxlY3Rpb24tZW50ZXIge1xcclxcbiAgICBhbmltYXRpb246IG1vbmlrZXItc2VsZWN0aW9uLWVudGVyIDAuMjVzIGVhc2Utb3V0O1xcclxcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIG1vbmlrZXItc2VsZWN0aW9uLWVudGVyIHtcXHJcXG4gICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH1cXHJcXG4gICAgNDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01JSk7IH1cXHJcXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxcclxcbn1cXHJcXG5cXHJcXG4ubW9uaWtlci1zZWxlY3Rpb24tbGVhdmUge1xcclxcbiAgICBhbmltYXRpb246IG1vbmlrZXItc2VsZWN0aW9uLWxlYXZlIDAuMjVzIGVhc2UtaW47XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgbW9uaWtlci1zZWxlY3Rpb24tbGVhdmUge1xcclxcbiAgICA1MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUlKTsgfVxcclxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOyB9XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItc2VsZWN0aW9uLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGdhcDogMWVtO1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci0yLWJ0bi1jb250YWluZXIsIC5jb21wdXRlci1idG4tY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItMi1idG4sIC5jb21wdXRlci1idG57XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcclxcbiAgICBmb250LXNpemU6IGxhcmdlO1xcclxcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLTItYnRuIHtcXHJcXG4gICAgd2lkdGg6IDEwMy45NXB4O1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyMi1uYW1lLWlzLWNvbXB1dGVyIHtcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICBsZWZ0OiAtMWVtO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyMS1tb25pa2VyLXRleHQsIC5wbGF5ZXIyLW1vbmlrZXItdGV4dCB7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcclxcbiAgICBmb250LXNpemU6IGxhcmdlO1xcclxcbn1cXHJcXG5cXHJcXG4uY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuLWNvbnRhaW5lciB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgbGVmdDogdmFyKC0tcGxheWVyLXNlbGVjdGlvbi1kaXN0YW5jZSk7XFxyXFxufVxcclxcblxcclxcbi5jb25maXJtLXBsYXllci1vci1jb21wdXRlci1idG4ge1xcclxcbiAgICBtYXJnaW46IDE4LjcycHg7XFxyXFxufVxcclxcblxcclxcbi5tb25pa2VyLXNlbGVjdGlvbiB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxuICAgIG1pbi1oZWlnaHQ6IDgycHg7XFxyXFxufVxcclxcblxcclxcbi5tb25pa2VyLWJ0bnMtY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ2FwOiAxZW07XFxyXFxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBsZWZ0OiB2YXIoLS1tb25pa2VyLXNlbGVjdGlvbi1kaXN0YW5jZSk7XFxyXFxufVxcclxcblxcclxcbi5iYWNrLWJ0biB7XFxyXFxuICAgIHdpZHRoOiA5Mi4wOXB4O1xcclxcbn1cXHJcXG5cXHJcXG4jaGl0LCAjcmV2ZWFsZWRNaXNzIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2JiYjJiMjc5O1xcclxcbn1cXHJcXG5cXHJcXG4jcmV2ZWFsZWRNaXNzIHtcXHJcXG4gICAgY29sb3I6IHJnYigxMTgsIDExNSwgMTE1KTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllcjEtZ3JpZC5udW1iZXIuc2hpcC1wcmVzZW50LCAucGxheWVyMi1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQsIC5jb21wdXRlci1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQge1xcclxcbiAgICBjb2xvcjogcmVkO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBTSElQIFBMQUNJTkcgKi9cXHJcXG5kaXYucGxheWVyMS1ncmlkLm51bWJlci5oaWdobGlnaHQsIGRpdi5wbGF5ZXIyLWdyaWQubnVtYmVyLmhpZ2hsaWdodCwgZGl2LmNvbXB1dGVyLWdyaWQubnVtYmVyLmhpZ2hsaWdodCB7XFxyXFxuICAgIC8qIENIT1NFIEJPUkRFUiBBUyBJVCBJUyBFQVNJRVIgVE8gU0VFIFdIRU4gUExBQ0lORyAqL1xcclxcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2IoMzgsIDIwOSwgMzgpO1xcclxcbn1cXHJcXG5cXHJcXG5kaXYucGxheWVyMS1ncmlkLm51bWJlci5ub3QtdmFsaWQsIGRpdi5wbGF5ZXIyLWdyaWQubnVtYmVyLm5vdC12YWxpZCB7XFxyXFxuICAgIC8qIEFQUExZSU5HIEJPUkRFUiBBTExPV1MgVVNFUiBUTyBERVRFUk1JTkUgV0hBVCBJUyBCRUhJTkQgVEhFIENVUlNPUlxcclxcbiAgICBORUNFU1NBUlkgVE8gUkVEVUNFIFdJRFRIIEFORCBIRUlHSFQgQlkgQk9SREVSIEZPUiBOTyBCVUdTICovXFxyXFxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcXHJcXG4gICAgd2lkdGg6IDI4cHg7XFxyXFxuICAgIGhlaWdodDogMjhweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNoYWtpbmctYW5pbWF0aW9uIHtcXHJcXG4gICAgYW5pbWF0aW9uLW5hbWU6IHNoYWtlQW5pbWF0aW9uO1xcclxcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuMjVzO1xcclxcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIHNoYWtlQW5pbWF0aW9uIHtcXHJcXG4gICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cXHJcXG4gICAgMTUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XFxyXFxuICAgIDMwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9XFxyXFxuICAgIDQ1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxcclxcbiAgICA2MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTsgfVxcclxcbiAgICA3NSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cXHJcXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxcclxcbiAgfVxcclxcblxcclxcblxcclxcbi8qIERSQUdHQUJMRSBTSElQUyAqL1xcclxcbi5zaGlwLWNvbnRhaW5lci0xLCAuc2hpcC1jb250YWluZXItMiwgLnNoaXAtY29udGFpbmVyLTMge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBhbGlnbi1pdGVtczogZW5kO1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcHMtY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZ2FwOiAxZW07XFxyXFxuICAgIGdyaWQtYXJlYTogMSAvIDEgLyAtMiAvIDE7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogZmxleC1lbmQ7XFxyXFxuICAgIC8qIFBBRERJTkcgVE8gQUNDT1VOVCBGT1IgT1VUTElORSBXSURUSCAmIE1BS0UgR0FQIEZPUiBHUklEIE9WRVJMQVkgQ09OU0lTVEVOVCAqL1xcclxcbiAgICBwYWRkaW5nOiAwIDFlbSAycHggY2FsYygycHggKyAxZW0pO1xcclxcbn1cXHJcXG5cXHJcXG4uaW5zaWRlLXNoaXAge1xcclxcbiAgICB3aWR0aDogMzJweDtcXHJcXG4gICAgaGVpZ2h0OiAzMnB4O1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XFxyXFxufVxcclxcblxcclxcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XFxcIjFcXFwiXSB7XFxyXFxuICAgIHdpZHRoOiAzMnB4O1xcclxcbiAgICBoZWlnaHQ6IDMycHg7XFxyXFxufVxcclxcblxcclxcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XFxcIjJcXFwiXSB7XFxyXFxuICAgIHdpZHRoOiAzMnB4O1xcclxcbiAgICBoZWlnaHQ6IDY0cHg7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGdhcDogMnB4O1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlLXNoaXBbZGF0YS1zaXplPVxcXCIzXFxcIl0ge1xcclxcbiAgICB3aWR0aDogMzJweDtcXHJcXG4gICAgaGVpZ2h0OiA5NnB4O1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcclxcbiAgICBnYXA6IDJweDtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cXFwiNFxcXCJdIHtcXHJcXG4gICAgd2lkdGg6IDMycHg7XFxyXFxuICAgIGhlaWdodDogMTI4cHg7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGdhcDogMnB4O1xcclxcbn1cXHJcXG5cXHJcXG5oMy50aXRsZSB7XFxyXFxuICAgIGdyaWQtYXJlYTogMSAvIDI7XFxyXFxufVxcclxcblxcclxcbiNwbGF5ZXIxR3JpZCwgI3BsYXllcjJHcmlkLCAjY29tcHV0ZXJHcmlkIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDMycHgpO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMzJweCk7XFxyXFxuICAgIGdyaWQtZ2FwOiAycHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcXHJcXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRibHVlO1xcclxcblxcclxcbiAgICBncmlkLWFyZWE6IDIgLyAyO1xcclxcbiAgICBoZWlnaHQ6IG1heC1jb250ZW50O1xcclxcbiAgICBcXHJcXG59XFxyXFxuXFxyXFxuI3BsYXllcjFHcmlkT3ZlcmxheSwgI3BsYXllcjJHcmlkT3ZlcmxheSwgI2NvbXB1dGVyR3JpZE92ZXJsYXkge1xcclxcbiAgICBjb2xvcjogcmdiKDIzNywgMjMzLCAyMzMpO1xcclxcbn1cXHJcXG5cXHJcXG4uZ3JpZC1jb250YWluZXJzIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZ2FwOiAyZW07XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcC1wcmVzZW50LnJldmVhbCB7XFxyXFxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xcclxcbn1cXHJcXG5cXHJcXG4uc3RhcnQtYnV0dG9uLWNvbnRhaW5lcntcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxyXFxuICAgIG1hcmdpbi10b3A6IDMycHg7XFxyXFxuXFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcclxcbn1cXHJcXG5cXHJcXG4uc3RhcnQtYnV0dG9uLCAucmVzZXQtYnRuLCAucmFuZG9taXNlLWJ0biwgLmNvbmZpcm0tYnRuLCAuaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG4sIC5yZWZyZXNoLWJ0biwgLmNvbmZpcm0tcGxheWVyLW9yLWNvbXB1dGVyLWJ0biwgLmJhY2stYnRuLCAuY29uZmlybS1tb25pa2VyLWJ0biwgLnVuZG8tYnRuIHtcXHJcXG4gICAgZm9udC1zaXplOiBsYXJnZTtcXHJcXG4gICAgcGFkZGluZzogNHB4IDhweDtcXHJcXG5cXHJcXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxyXFxufVxcclxcblxcclxcbi5tdWx0aXBsZS1zaGlwLWJ0bnMsIC5zaW5ndWxhci1zaGlwLWJ0bnMge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2luZ3VsYXItc2hpcC1idG5zIHtcXHJcXG4gICAgZ2FwOiAxZW07XFxyXFxufVxcclxcblxcclxcbi5tdWx0aXBsZS1zaGlwLWJ0bnMge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxufVxcclxcblxcclxcbi5wbGFjaW5nLWRpdiB7XFxyXFxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XFxyXFxuICAgIGNvbG9yOiByZ2IoNzMsIDExMCwgMjM1KTtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmhvcml6b250YWwtb3ItdmVydGljYWwtYnRuIHtcXHJcXG4gICAgbWluLXdpZHRoOiAxMzQuNjdweFxcclxcbn1cXHJcXG5cXHJcXG5oMyB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmNvbmZpcm0tYnRuLmRlbmllZCwgLmNvbmZpcm0tcGxheWVyLW9yLWNvbXB1dGVyLWJ0bi5kZW5pZWQge1xcclxcbiAgICBhbmltYXRpb246IGRlbmllZCAwLjI1cztcXHJcXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBkZW5pZWQge1xcclxcbiAgICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgXFxyXFxuICAgICAgICBjb2xvcjogcmdiKDEyOSwgMCwgMCk7fVxcclxcbiAgICAxNSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cXHJcXG4gICAgMzAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDVweCk7XFxyXFxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7IH1cXHJcXG4gICAgNDUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XFxyXFxuICAgIDYwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpO1xcclxcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDAsIDApOyB9XFxyXFxuICAgIDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxcclxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyBcXHJcXG4gICAgICAgIGNvbG9yOiByZ2IoMTI5LCAwLCAwKTt9XFxyXFxuICAgIDAlIHtcXHJcXG4gICAgICAgIGNvbG9yOiByZ2IoMTI5LCAwLCAwKTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAzNSUge1xcclxcbiAgICAgICAgY29sb3I6IHJnYigyNTUsIDAsIDApO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIDY1JSB7XFxyXFxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgMTAwJSB7XFxyXFxuICAgICAgICBjb2xvcjogcmdiKDEyOSwgMCwgMCk7XFxyXFxuICAgIH1cXHJcXG59XFxyXFxuXFxyXFxuLyogR1JJRCBDT05UQUlORVJTICovXFxyXFxuLnBsYXllcjEtZ3JpZC1jb250YWluZXIsIC5wbGF5ZXIyLWdyaWQtY29udGFpbmVyLCAuY29tcHV0ZXItZ3JpZC1jb250YWluZXIge1xcclxcbiAgICAvKiBwb3NpdGlvbjogcmVsYXRpdmUgTkVFREVEIFRPIENPTlRBSU4gT1ZFUkxBWSB0byBqdXN0IHRoZSBncmlkIGNvbnRhaW5lciovXFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bztcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvO1xcclxcbiAgICBnYXA6IDFlbTtcXHJcXG5cXHJcXG4gICAgcGFkZGluZy1yaWdodDogMWVtOyAvKiBLZWVwcyB0aGUgYXRoZXN0ZXRpYyB3aXRoIHRoZSBvdmVybGF5IGV2ZW4gKi9cXHJcXG4gICAgei1pbmRleDogYXV0bztcXHJcXG5cXHJcXG59XFxyXFxuXFxyXFxuLmJ0bi1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICAgIGdyaWQtYXJlYTogMyAvIDEgLyAzIC8gLTE7XFxyXFxufVxcclxcblxcclxcbi5ncmlkLW92ZXJsYXkge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOyAvKiBTZW1pLXRyYW5zcGFyZW50IGJsYWNrIG92ZXJsYXkgKi9cXHJcXG4gICAgZGlzcGxheTogbm9uZTsgLyogSW5pdGlhbGx5IGhpZGRlbiAqL1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcC1wcmVzZW50LnJldmVhbC5zdW5rIHtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHJlZDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwLnN1bmsgPiAqIHtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHJlZDtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwLnBsYWNpbmcgPiAqIHtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHJnYigzOCwgMjA5LCAzOCk7XFxyXFxufVxcclxcblxcclxcbi5kcmFnZ2FibGUtc2hpcC5pbnZpc2libGUgPiAqIHtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4vKiBDT0xPVVJTIEZPUiBTUEFOJ1MgSU4gVFVSTiBURVhUICovXFxyXFxuLyogSElUICovXFxyXFxuLmhpZ2hsaWdodGVkLnJlZCB7XFxyXFxuICAgIGNvbG9yOiBsaWdodGNvcmFsO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBTVU5LICovXFxyXFxuLmhpZ2hsaWdodGVkLm9yYW5nZSB7XFxyXFxuICAgIGNvbG9yOiBvcmFuZ2U7XFxyXFxufVxcclxcblxcclxcbi8qIE1JU1NFRCAqL1xcclxcbi5oaWdobGlnaHRlZC5ibHVlIHtcXHJcXG4gICAgY29sb3I6IGxpZ2h0c2t5Ymx1ZTtcXHJcXG59XFxyXFxuXFxyXFxuLyogUExBQ0lORyAqL1xcclxcbi5oaWdobGlnaHRlZC5ncmVlbiB7XFxyXFxuICAgIGNvbG9yOiByZ2IoMzgsIDIwOSwgMzgpO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKlxyXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XHJcbiAgdmFyIGxpc3QgPSBbXTtcclxuXHJcbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XHJcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcclxuICAgICAgaWYgKGl0ZW1bNF0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGl0ZW1bMl0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcclxuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XHJcbiAgICAgIH1cclxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xyXG4gICAgICBpZiAobmVlZExheWVyKSB7XHJcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXRlbVsyXSkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGl0ZW1bNF0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfSkuam9pbihcIlwiKTtcclxuICB9O1xyXG5cclxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XHJcbiAgICB9XHJcbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG4gICAgaWYgKGRlZHVwZSkge1xyXG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xyXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcclxuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xyXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XHJcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChtZWRpYSkge1xyXG4gICAgICAgIGlmICghaXRlbVsyXSkge1xyXG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcclxuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHN1cHBvcnRzKSB7XHJcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XHJcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xyXG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gbGlzdDtcclxufTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XHJcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xyXG4gIGlmICghY3NzTWFwcGluZykge1xyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XHJcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XHJcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcclxuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcclxuICB9XHJcbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xyXG59OyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIHN0eWxlc0luRE9NID0gW107XHJcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcclxuICB2YXIgcmVzdWx0ID0gLTE7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcclxuICAgICAgcmVzdWx0ID0gaTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcclxuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xyXG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XHJcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xyXG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XHJcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcclxuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgdmFyIG9iaiA9IHtcclxuICAgICAgY3NzOiBpdGVtWzFdLFxyXG4gICAgICBtZWRpYTogaXRlbVsyXSxcclxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxyXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcclxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cclxuICAgIH07XHJcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XHJcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XHJcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xyXG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xyXG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xyXG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXHJcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcclxuICAgICAgICByZWZlcmVuY2VzOiAxXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcclxuICB9XHJcbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xyXG59XHJcbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XHJcbiAgYXBpLnVwZGF0ZShvYmopO1xyXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcclxuICAgIGlmIChuZXdPYmopIHtcclxuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcGkucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gdXBkYXRlcjtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XHJcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgbGlzdCA9IGxpc3QgfHwgW107XHJcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcclxuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XHJcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xyXG4gICAgfVxyXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XHJcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XHJcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcclxuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcclxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xyXG4gIH07XHJcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgbWVtbyA9IHt9O1xyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcclxuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xyXG5cclxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXHJcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcclxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xyXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxyXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XHJcbiAgfVxyXG4gIHJldHVybiBtZW1vW3RhcmdldF07XHJcbn1cclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcclxuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XHJcbiAgaWYgKCF0YXJnZXQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XHJcbiAgfVxyXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XHJcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcclxuICByZXR1cm4gZWxlbWVudDtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XHJcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xyXG4gIGlmIChub25jZSkge1xyXG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcclxuICB2YXIgY3NzID0gXCJcIjtcclxuICBpZiAob2JqLnN1cHBvcnRzKSB7XHJcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xyXG4gIH1cclxuICBpZiAob2JqLm1lZGlhKSB7XHJcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcclxuICB9XHJcbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XHJcbiAgaWYgKG5lZWRMYXllcikge1xyXG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xyXG4gIH1cclxuICBjc3MgKz0gb2JqLmNzcztcclxuICBpZiAobmVlZExheWVyKSB7XHJcbiAgICBjc3MgKz0gXCJ9XCI7XHJcbiAgfVxyXG4gIGlmIChvYmoubWVkaWEpIHtcclxuICAgIGNzcyArPSBcIn1cIjtcclxuICB9XHJcbiAgaWYgKG9iai5zdXBwb3J0cykge1xyXG4gICAgY3NzICs9IFwifVwiO1xyXG4gIH1cclxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcclxuICB9XHJcblxyXG4gIC8vIEZvciBvbGQgSUVcclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXHJcbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXHJcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcbn1cclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xyXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXHJcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cclxuICAgIH07XHJcbiAgfVxyXG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuICByZXR1cm4ge1xyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XHJcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xyXG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuICB9IGVsc2Uge1xyXG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcbiAgICB9XHJcbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJjbGFzcyBTaGlwIHtcclxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgcGxhY2VkPWZhbHNlLCBoaXRzPTAsIHN1bms9ZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLnBsYWNlZCA9IHBsYWNlZDtcclxuICAgICAgICB0aGlzLmhpdHMgPSBoaXRzO1xyXG4gICAgICAgIHRoaXMuc3VuayA9IHN1bms7XHJcbiAgICB9XHJcblxyXG4gICAgaGl0KCkge1xyXG4gICAgICAgIHRoaXMuaGl0cysrO1xyXG4gICAgICAgIHRoaXMuaXNTdW5rKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaXNTdW5rKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhpdHMgPT09IHRoaXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuayA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgR2FtZWJvYXJkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYm9hcmQgPSBBcnJheS5mcm9tKHtsZW5ndGg6IDEwfSwgKCkgPT4gQXJyYXkoMTApLmZpbGwobnVsbCkpO1xyXG4gICAgY29uc3QgbWlzc2VkID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiAxMH0sICgpID0+IEFycmF5KDEwKS5maWxsKG51bGwpKTtcclxuICAgIGNvbnN0IHNoaXBzID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gcG9zaXRpb25TaGlwcyhjb29yZGluYXRlcykge1xyXG4gICAgICAgIGlmIChjb29yZGluYXRlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5lZWQgdG8gcHJvdmlkZSBjb29yZGluYXRlc1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcG9zaXRpb25cclxuICAgICAgICBmb3IgKHBvc2l0aW9uIG9mIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdTaGlwO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgW3gxLCB4MiwgeTEsIHkyXSA9IHBvc2l0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy8gTGVuZ3RoIDFcclxuICAgICAgICAgICAgaWYgKHgxID09PSB4MiAmJiB5MSA9PT0geTIpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZpbGwgYm9hcmQgd2l0aCBTaGlwXHJcbiAgICAgICAgICAgICAgICBuZXdTaGlwID0gbmV3IFNoaXAoMSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBib2FyZFt5MV1beDFdID0gbmV3U2hpcDtcclxuICAgICAgICAgICAgfSAvLyBGb3IgYSB2ZXJ0aWNhbCBzaGlwXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHgxID09PSB4Mikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeURpZmYgPSB5MiAtIHkxICsgMTtcclxuICAgICAgICAgICAgICAgIG5ld1NoaXAgPSBuZXcgU2hpcCh5RGlmZiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBGaWxsIGJvYXJkIHdpdGggU2hpcFxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB5RGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRbeTEgKyBpXVt4MV0gPSBuZXdTaGlwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IC8vIEZvciBhIGhvcml6b250YWwgc2hpcFxyXG4gICAgICAgICAgICBlbHNlIGlmICh5MSA9PT0geTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHhEaWZmID0geDIgLSB4MSArIDE7XHJcbiAgICAgICAgICAgICAgICBuZXdTaGlwID0gbmV3IFNoaXAoeERpZmYsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gRmlsbCBib2FyZCB3aXRoIFNoaXBcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeERpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkW3kxXVt4MSArIGldID0gbmV3U2hpcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93KEVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaGlwcy5wdXNoKG5ld1NoaXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWNpZXZlQXR0YWNrKFt4LHldKSB7XHJcbiAgICAgICAgaWYgKGJvYXJkW3ldW3hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgYm9hcmRbeV1beF0uaGl0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWlzc2VkW3ldW3hdID0gXCJYXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFsbFNoaXBzU3VuaygpIHtcclxuICAgICAgICByZXR1cm4gc2hpcHMuZXZlcnkoc2hpcCA9PiBzaGlwLnN1bmsgPT09IHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9idGFpbkN1cnJlbnRTaGlwcygpIHtcclxuICAgICAgICAvLyBhZGRzIGV2ZXJ5IHNoaXAgb24gYm9hcmQgdG8gY3VycmVudFNoaXBzXHJcbiAgICAgICAgY29uc3QgY3VycmVudFNoaXBzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gOTsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDw9IDk7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkW3ldW3hdICE9IG51bGwgJiYgIWN1cnJlbnRTaGlwcy5pbmNsdWRlcyhib2FyZFt5XVt4XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2hpcHMucHVzaChib2FyZFt5XVt4XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTaGlwcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbGxTaGlwc1BsYWNlZCgpIHtcclxuICAgICAgICAvLyBDb21wYXJlcyBldmVyeSBzaGlwIG9uIGJvYXJkIHdpdGggcmVxdWlyZWQgbGVuZ3Roc1xyXG4gICAgICAgIGNvbnN0IHJlcXVpcmVkU2hpcHNMZW5ndGggPSBbNCwgMywgMywgMiwgMiwgMiwgMSwgMSwgMSwgMV07XHJcbiAgICAgICAgY29uc3QgY3VycmVudFNoaXBzID0gb2J0YWluQ3VycmVudFNoaXBzKCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc2hpcCBvZiBjdXJyZW50U2hpcHMpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZXF1aXJlZFNoaXBzTGVuZ3RoLmluZGV4T2Yoc2hpcC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVxdWlyZWRTaGlwc0xlbmd0aC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiAocmVxdWlyZWRTaGlwc0xlbmd0aC5sZW5ndGggPT09IDAgJiYgY3VycmVudFNoaXBzLmV2ZXJ5KHNoaXAgPT4gc2hpcC5wbGFjZWQgPT09IHRydWUpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge2JvYXJkLCBtaXNzZWQsIHBvc2l0aW9uU2hpcHMsIHJlY2lldmVBdHRhY2ssIGFsbFNoaXBzU3Vuaywgc2hpcHMsIGFsbFNoaXBzUGxhY2VkLCBvYnRhaW5DdXJyZW50U2hpcHN9O1xyXG59XHJcblxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IHtTaGlwLCBHYW1lYm9hcmR9O1xyXG5cclxuY29uc3QgUGxheWVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZ2FtZWJvYXJkID0gR2FtZWJvYXJkKCk7XHJcbiAgICBjb25zdCBuYW1lID0gXCJcIjtcclxuICAgIGNvbnN0IG1vbmlrZXIgPSBcIlwiO1xyXG4gICAgY29uc3Qgb3Bwb25lbnQgPSBudWxsO1xyXG4gICAgbGV0IHdpbm5pbmdDb3VudGVyID0gbnVsbDtcclxuXHJcbiAgICAvLyBWYXJpYWJsZXMgZm9yIHNoaXAgcGxhY2VtZW50IHNlY3Rpb25cclxuICAgIGxldCBkcmFnZ2FibGVTaGlwcztcclxuICAgIGxldCBzZWxlY3RlZFNoaXAgPSBudWxsO1xyXG4gICAgbGV0IHByZXZTZWxlY3RlZFNoaXBBcnJheSA9IFtdO1xyXG4gICAgbGV0IHByZXZTZWxlY3RlZFNoaXBJbmRleEFycmF5ID0gW107XHJcbiAgICBsZXQgcGxhbmVPZlBsYWNpbmdTaGlwID0gXCJIT1JJWk9OVEFMXCI7XHJcbiAgICBcclxuXHJcbiAgICAvLyBGb3IgY29tcHV0ZXIgZ3Vlc3NpbmcgbG9naWNcclxuICAgIGxldCBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMgPSBudWxsO1xyXG5cclxuICAgIC8vIEZvciBsb2NhbGlzZWQgY29tcHV0ZXIgZ3Vlc3NpbmcgbG9naWNcclxuICAgIGxldCBsb2NhbGlzZWRHdWVzc2VzID0gbnVsbDtcclxuICAgIGxldCBzaGlwRGlyZWN0aW9uID0gbnVsbDtcclxuICAgIGNvbnN0IGRpcmVjdGlvbiA9IHt2ZXJ0aWNhbCA6IFtcImJlbmVhdGhcIiwgXCJhYm92ZVwiXSwgaG9yaXpvbnRhbCA6IFtcImxlZnRcIiwgXCJyaWdodFwiXX07XHJcblxyXG4gICAgLyogSU5JVElBTElTQVRJT04gQU5EIEhUTUwgQlVJTERJTkcgJiBSRVNFVFRJTkcgRlVOQ1RJT05TICovXHJcblxyXG4gICAgLy8gRnVuY3Rpb24gdG8gYnVpbGQgdGhlIHRvcCBsZXZlbCBIVE1MIHN0dWN0dXJlIGZvciBwbGF5ZXIncyBncmlkcyBcclxuICAgIGZ1bmN0aW9uIGJ1aWxkSFRNTERpdkNvbnRhaW5lcnMoKSB7XHJcbiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyaWQtY29udGFpbmVyc1wiKTtcclxuICAgICAgICBjb25zdCBwbGF5ZXJDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHBsYXllckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGAke3RoaXMubmFtZX0tZ3JpZC1jb250YWluZXJgKTtcclxuICAgICAgICBwbGF5ZXJDb250YWluZXIuaWQgPSBgJHt0aGlzLm5hbWV9Q29udGFpbmVyYDtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLm5hbWUsIHRoaXMubW9uaWtlcilcclxuICAgICAgICBwbGF5ZXJDb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxoMyBjbGFzcz1cIiR7dGhpcy5uYW1lfSB0aXRsZVwiPiR7dGhpcy5tb25pa2VyfTwvaDM+XHJcbiAgICAgICAgPGgzIGNsYXNzPVwiJHt0aGlzLm5hbWV9LXdpbm5pbmctY291bnRlclwiPiR7dGhpcy53aW5uaW5nQ291bnRlcn08L2gzPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCIke3RoaXMubmFtZX0tZ3JpZCBnYW1lLWJvYXJkXCIgaWQ9XCIke3RoaXMubmFtZX1HcmlkXCI+PC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImdyaWQtb3ZlcmxheVwiIGlkPVwiJHt0aGlzLm5hbWV9R3JpZE92ZXJsYXlcIj48L2Rpdj5cclxuICAgICAgICBgXHJcbiAgICAgICAgZ3JpZENvbnRhaW5lcnMuYXBwZW5kQ2hpbGQocGxheWVyQ29udGFpbmVyKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQnVpbGQgcGxheWVyJ3MgSFRNTCBncmlkIGJhc2VkIG9mZiBwbGF5ZXIncyBib2FyZCBhcnJheVxyXG4gICAgZnVuY3Rpb24gYnVpbGRIVE1MR3JpZChyZXZlYWwpIHtcclxuICAgICAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5uYW1lICsgXCJHcmlkXCIpO1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDw9IDk7IHkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSA5OyB4KyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdyaWREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QgPSBgJHtncmlkLmNsYXNzTGlzdH0gbnVtYmVyICR7eX0ke3h9YDtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5ib2FyZFt5XVt4XSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKFwic2hpcC1wcmVzZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXZlYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKFwicmV2ZWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGdyaWQuYXBwZW5kQ2hpbGQoZ3JpZERpdik7XHJcblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0SFRNTEdyaWQoKSB7XHJcbiAgICAgICAgY29uc3QgSFRNTEdyaWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9LWdyaWQuZ2FtZS1ib2FyZGApO1xyXG4gICAgICAgIEhUTUxHcmlkLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVzZXQgYm9hcmQgYXJyYXlcclxuICAgIGZ1bmN0aW9uIHJlc2V0R3JpZCgpIHtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSA5OyB5KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gOTsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQuYm9hcmRbeV1beF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkLm1pc3NlZFt5XVt4XSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzZXRIVE1MR3JpZC5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgcmVzZXRTaGlwc0FycmF5LmJpbmQodGhpcykoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldFNoaXBzQXJyYXkoKSB7XHJcbiAgICAgICAgZ2FtZWJvYXJkLnNoaXBzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgcHJldlNlbGVjdGVkU2hpcEFycmF5Lmxlbmd0aCA9IDA7XHJcbiAgICAgICAgcHJldlNlbGVjdGVkU2hpcEluZGV4QXJyYXkubGVuZ3RoID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEaXNwbGF5J3MgcnVsZXNcclxuICAgIGZ1bmN0aW9uIGJ1aWxkUnVsZXMoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMubmFtZX1HcmlkT3ZlcmxheWApO1xyXG5cclxuICAgICAgICBwbGF5ZXJPdmVybGF5LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIxZW1cIjtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93T3ZlcmxheSh0cnVlKTtcclxuXHJcbiAgICAgICAgcGxheWVyT3ZlcmxheS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInJ1bGVzLXRpdGxlXCI+UlVMRVMgRk9SIFNISVAgUExBQ0VNRU5UPC9oMz5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz5DbGljayBvbiB0aGUgZ3JpZCB0byBwbGFjZSB5b3VyIHNoaXBzITwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgICAgPHA+WW91IGNhbiA8c3Ryb25nPmNoYW5nZSB0aGUgc2hpcDwvc3Ryb25nPiB5b3Ugd2FudCB0byBwbGFjZSBieSA8c3Ryb25nPmNsaWNraW5nIG9uIGFub3RoZXI8L3N0cm9uZz4uPC9wPlxyXG4gICAgICAgICAgICA8cD48c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIGdyZWVuXCI+PHN0cm9uZz5MZWdhbDwvc3Ryb25nPjwvc3Bhbj4gcGxhY2VtZW50cyBoaWdobGlnaHQgPHN0cm9uZz48c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIGdyZWVuXCI+Z3JlZW48L3NwYW4+PC9zdHJvbmc+LiA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIHJlZFwiPjxzdHJvbmc+SWxsZWdhbDwvc3Ryb25nPjwvc3Bhbj4gcGxhY2VtZW50cyBoaWdobGlnaHQgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCByZWRcIj48c3Ryb25nPnJlZDwvc3Ryb25nPjwvc3Bhbj4uPC9wPlxyXG4gICAgICAgICAgICA8cD5Zb3UgPHN0cm9uZz5jYW5ub3QgcGxhY2U8L3N0cm9uZz4gYSBzaGlwIHdpdGhpbiA8c3Ryb25nPmEgc3F1YXJlPC9zdHJvbmc+IG9mIGFuIDxzdHJvbmc+YWxyZWFkeSBwbGFjZWQgc2hpcDwvc3Ryb25nPiwgb3IgaWYgdGhlIHNoaXAgPHN0cm9uZz5sZW5ndGg8L3N0cm9uZz4gbWVhbnMgaXQgaXMgcG9zaXRpb25lZCA8c3Ryb25nPm91dHNpZGUgdGhlIGdyaWQ8L3N0cm9uZz4uPC9wPlxyXG4gICAgICAgICAgICA8YnI+PC9icj5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz5CdXR0b24gZGVzY3JpcHRpb25zOjwvc3Ryb25nPjwvcD5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz5QTEFDSU5HOjwvc3Ryb25nPiBEaXNwbGF5cyB0aGUgPHN0cm9uZz5jdXJyZW50IGRpcmVjdGlvbjwvc3Ryb25nPiBvZiB0aGUgc2hpcCB0byBiZSBwbGFjZWQuIDxzdHJvbmc+Q2xpY2s8L3N0cm9uZz4gdGhlIGRpcmVjdGlvbiBvZiB0aGUgc2hpcCwgSE9SSVpPTlRBTCAvIFZFUlRJQ0FMLCB0byA8c3Ryb25nPmNoYW5nZTwvc3Ryb25nPiB0aGUgZGlyZWN0aW9uLjwvcD5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz7ihrY6PC9zdHJvbmc+IDxzdHJvbmc+VW5kbzwvc3Ryb25nPiB0aGUgPHN0cm9uZz5wcmV2aW91czwvc3Ryb25nPiBzaGlwIHBsYWNlbWVudC48L3A+XHJcbiAgICAgICAgICAgIDxwPjxzdHJvbmc+UkFORE9NSVNFOjwvc3Ryb25nPiBQbGFjZXMgYWxsIHNoaXBzIG9udG8gdGhlIGJvYXJkIGluIGEgcmFuZG9tIG1hbm5lci48L3A+XHJcbiAgICAgICAgICAgIDxwPjxzdHJvbmc+UkVTRVQ6PC9zdHJvbmc+IFJlbW92ZXMgYWxsIHNoaXBzIGZyb20gdGhlIGdyaWQgdG8gdGhlIHN0YXJ0aW5nIHBvc2l0aW9uLjwvcD5cclxuICAgICAgICBgO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVJ1bGVzKCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllck92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLm5hbWV9R3JpZE92ZXJsYXlgKTtcclxuXHJcbiAgICAgICAgcGxheWVyT3ZlcmxheS5zdHlsZS5wYWRkaW5nTGVmdCA9IFwiMFwiO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dPdmVybGF5KGZhbHNlKTtcclxuXHJcbiAgICAgICAgcGxheWVyT3ZlcmxheS5pbm5lckhUTUwgPSBgYFxyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBTSElQIFBMQUNFTUVOVCAoLyBVSSBTSElQUyBPTiBMSFMgT0YgR1JJRCkgRlVOQ1RJT05TICovXHJcblxyXG4gICAgLy8gQnV0dG9ucyBmb3IgU0hJUCBQT1NJVElPTklORyBTVEFHRVxyXG4gICAgZnVuY3Rpb24gYnVpbGRCdXR0b25Db250YWluZXIoKSB7XHJcbiAgICAgICAgY29uc3Qgc2luZ3VsYXJTaGlwQnRucyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgc2luZ3VsYXJTaGlwQnRucy5jbGFzc0xpc3QuYWRkKFwic2luZ3VsYXItc2hpcC1idG5zXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBtdWx0aXBsZVNoaXBCdG5zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBtdWx0aXBsZVNoaXBCdG5zLmNsYXNzTGlzdC5hZGQoXCJtdWx0aXBsZS1zaGlwLWJ0bnNcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IHBsYWNpbmdEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHBsYWNpbmdEaXYuaW5uZXJIVE1MID0gJ1BMQUNJTkc6J1xyXG4gICAgICAgIHBsYWNpbmdEaXYuY2xhc3NMaXN0LmFkZChgcGxhY2luZy1kaXZgKTtcclxuXHJcbiAgICAgICAgY29uc3QgaG9yaXpvbnRhbE9yVmVydGljYWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIGhvcml6b250YWxPclZlcnRpY2FsQnRuLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfWAsIGBob3Jpem9udGFsLW9yLXZlcnRpY2FsLWJ0bmApO1xyXG4gICAgICAgIGhvcml6b250YWxPclZlcnRpY2FsQnRuLnRleHRDb250ZW50ID0gXCJIT1JJWk9OVEFMXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHVuZG9CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHVuZG9CdG4uY2xhc3NMaXN0LmFkZChgJHt0aGlzLm5hbWV9YCwgYHVuZG8tYnRuYCk7XHJcbiAgICAgICAgdW5kb0J0bi50ZXh0Q29udGVudCA9IFwi4oa2XCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJhbmRvbWlzZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgcmFuZG9taXNlQnRuLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfWAsIGByYW5kb21pc2UtYnRuYCk7XHJcbiAgICAgICAgcmFuZG9taXNlQnRuLnRleHRDb250ZW50ID0gXCJSQU5ET01JU0VcIjtcclxuXHJcbiAgICAgICAgY29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgY29uZmlybUJ0bi5jbGFzc0xpc3QuYWRkKGAke3RoaXMubmFtZX1gLCBgY29uZmlybS1idG5gKTtcclxuICAgICAgICBjb25maXJtQnRuLnRleHRDb250ZW50ID0gXCJDT05GSVJNXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc2V0QnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICByZXNldEJ0bi5jbGFzc0xpc3QuYWRkKGAke3RoaXMubmFtZX1gLCBgcmVzZXQtYnRuYCk7XHJcbiAgICAgICAgcmVzZXRCdG4udGV4dENvbnRlbnQgPSBcIlJFU0VUXCI7XHJcblxyXG4gICAgICAgIHNpbmd1bGFyU2hpcEJ0bnMuYXBwZW5kQ2hpbGQocGxhY2luZ0Rpdik7XHJcbiAgICAgICAgc2luZ3VsYXJTaGlwQnRucy5hcHBlbmRDaGlsZChob3Jpem9udGFsT3JWZXJ0aWNhbEJ0bik7XHJcbiAgICAgICAgc2luZ3VsYXJTaGlwQnRucy5hcHBlbmRDaGlsZCh1bmRvQnRuKTtcclxuICAgICAgICBtdWx0aXBsZVNoaXBCdG5zLmFwcGVuZENoaWxkKHJhbmRvbWlzZUJ0bik7XHJcbiAgICAgICAgbXVsdGlwbGVTaGlwQnRucy5hcHBlbmRDaGlsZChyZXNldEJ0bik7XHJcbiAgICAgICAgbXVsdGlwbGVTaGlwQnRucy5hcHBlbmRDaGlsZChjb25maXJtQnRuKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5uYW1lfS1ncmlkLmdhbWUtYm9hcmRgKVxyXG4gICAgICAgIGdhbWVib2FyZC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBtdWx0aXBsZVNoaXBCdG5zKTtcclxuICAgICAgICBnYW1lYm9hcmQuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJlbmRcIiwgc2luZ3VsYXJTaGlwQnRucyk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQnV0dG9ucygpIHtcclxuICAgICAgICBjb25zdCBncmlkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5uYW1lfS1ncmlkLWNvbnRhaW5lcmApO1xyXG4gICAgICAgIGNvbnN0IHNpbmd1bGFyU2hpcEJ0bnMgPSBncmlkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC5zaW5ndWxhci1zaGlwLWJ0bnNgKTtcclxuICAgICAgICBjb25zdCBtdWx0aXBsZVNoaXBCdG5zID0gZ3JpZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAubXVsdGlwbGUtc2hpcC1idG5zYCk7XHJcblxyXG4gICAgICAgIGdyaWRDb250YWluZXIucmVtb3ZlQ2hpbGQoc2luZ3VsYXJTaGlwQnRucyk7XHJcbiAgICAgICAgZ3JpZENvbnRhaW5lci5yZW1vdmVDaGlsZChtdWx0aXBsZVNoaXBCdG5zKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBidWlsZHMgc2hpcHMgdG8gYmUgcGxhY2VkXHJcbiAgICBmdW5jdGlvbiBidWlsZFNoaXBzKCkge1xyXG4gICAgICAgIGNvbnN0IHNoaXBzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2hpcHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc2hpcHMtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIHNoaXBzQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2hpcC1jb250YWluZXItMVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCI0XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+IFxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIzXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIzXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaGlwLWNvbnRhaW5lci0yXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNoaXAtY29udGFpbmVyLTNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIxXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjFcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIC8vIEJlbmVhdGggaXMgZm9yIGNvcnJlY3QgVVggcGxhY2VtZW50IG9mIHRoZSBjb25maXJtIGJ1dHRvblxyXG4gICAgICAgIGNvbnN0IHBsYXllckdyaWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9LWdyaWQtY29udGFpbmVyYClcclxuICAgICAgICBwbGF5ZXJHcmlkQ29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgc2hpcHNDb250YWluZXIpO1xyXG5cclxuICAgICAgICAvLyBTdG9yZXMgdGhlIGRyYWdnYWJsZVNoaXBzIGRpdiBpbiBhcnJheSBmb3IgdXBkYXRlQ2xhc3NMaXN0T25EcmFnZ2FibGVTaGlwXHJcbiAgICAgICAgZHJhZ2dhYmxlU2hpcHMgPSBbLi4ucGxheWVyR3JpZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKFwiLmRyYWdnYWJsZS1zaGlwXCIpXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVTaGlwcygpIHtcclxuICAgICAgICBjb25zdCBncmlkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5uYW1lfS1ncmlkLWNvbnRhaW5lcmApO1xyXG4gICAgICAgIGNvbnN0IHNoaXBzQ29udGFpbmVyID0gZ3JpZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGAuc2hpcHMtY29udGFpbmVyYCk7XHJcblxyXG4gICAgICAgIGlmIChzaGlwc0NvbnRhaW5lcikge1xyXG4gICAgICAgICAgICBncmlkQ29udGFpbmVyLnJlbW92ZUNoaWxkKHNoaXBzQ29udGFpbmVyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIGhpZGVHcmlkU2hpcHMoKSB7XHJcbiAgICAgICAgLy8gVXNlZCBmb3IgbG9jYWwgcGxheSB0byByZW1vdmUgc2hpcHMgZnJvbSBzY3JlZW5cclxuICAgICAgICBjb25zdCBnYW1lYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLm5hbWV9LWdyaWQuZ2FtZS1ib2FyZC5udW1iZXJgKTtcclxuICAgICAgICBnYW1lYm9hcmQuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicmV2ZWFsXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJyZXZlYWxcIik7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdERlZmF1bHRTaGlwKGluZGV4PTApIHtcclxuICAgICAgICBpZiAoZHJhZ2dhYmxlU2hpcHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzZWxlY3RlZFNoaXAgPSBkcmFnZ2FibGVTaGlwc1tpbmRleCAlIGRyYWdnYWJsZVNoaXBzLmxlbmd0aF07XHJcbiAgICAgICAgICAgIHNlbGVjdGVkU2hpcC5jbGFzc0xpc3QuYWRkKFwicGxhY2luZ1wiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXBwbHlEcmFnZ2FibGVTaGlwcygpIHtcclxuICAgICAgICAvLyBTZXRzIGluaXRpYWwgc2hpcCBmb3Igc2hpcCBwbGFjZW1lbnRcclxuICAgICAgICBzZWxlY3REZWZhdWx0U2hpcCgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGRyYWdnYWJsZVNoaXBzLmZvckVhY2goc2hpcCA9PiB7XHJcbiAgICAgICAgICAgIHNoaXAuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBzaGlwU2VsZWN0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tJZlBvc2l0aW9uVmFsaWQoeSwgeCwgc2hpcFNpemUpIHtcclxuICAgICAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgbGV0IHNoaXBEaXZzID0gW107XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBORUVEIFRPIGNoYW5nZSBwbGFuZU9mUGxhY2luZ1NoaXAgaGVyZSBhcyB3aGVuIEkgZGlkIGl0IGluIHRoZSBob3Jpem9udGFsT3JWZXJ0aWNhbEhhbmRsZUNsaWNrIFxyXG4gICAgICAgICAgICAvLyBwbGFuZU9mUGxhY2luZ1NoaXAgZGlkIG5vdCB1cGRhdGUgaW4gdGhpcyBzY29wZSAtIE1heWJlIHNjb3BlIHJlbGF0ZWRcclxuICAgICAgICAgICAgcGxhbmVPZlBsYWNpbmdTaGlwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5uYW1lfS5ob3Jpem9udGFsLW9yLXZlcnRpY2FsLWJ0bmApLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzcXVhcmVzIHRvIGhpZ2hsaWdodCBiYXNlZCBvbiBzaGlwIHNpemVcclxuICAgICAgICAgICAgaWYgKHBsYW5lT2ZQbGFjaW5nU2hpcCA9PT0gXCJIT1JJWk9OVEFMXCIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcFNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkRGl2ID0gZ3JpZERpdkZyb21Db29yZGluYXRlcy5iaW5kKHRoaXMpKHksIHggKyBpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZERpdikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwRGl2cy5wdXNoKGdyaWREaXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZUludmFsaWQoeSwgeCArIGkpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBsYW5lT2ZQbGFjaW5nU2hpcCA9PT0gXCJWRVJUSUNBTFwiKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNoaXBTaXplOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgZ3JpZERpdiA9IGdyaWREaXZGcm9tQ29vcmRpbmF0ZXMuYmluZCh0aGlzKSh5ICsgaSwgeCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdyaWREaXYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hpcERpdnMucHVzaChncmlkRGl2KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvb3JkaW5hdGVJbnZhbGlkKHkgKyBpLCB4KSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gW3ZhbGlkLCBzaGlwRGl2c107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBIZWxwZXIgZnVuY3Rpb24gZm9yIGNoZWNrSWZQb3NpdGlvblZhbGlkXHJcbiAgICAgICAgZnVuY3Rpb24gY29vcmRpbmF0ZUludmFsaWQoeSwgeCkge1xyXG4gICAgICAgICAgICBpZiAoeSA+IDkgfHwgeCA+IDkgfHwgZ2FtZWJvYXJkLmJvYXJkW3ldW3hdICE9IG51bGwgfHwgZ2FtZWJvYXJkLm1pc3NlZFt5XVt4XSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBuZWFyYnlTaGlwU3F1YXJlc0hpdEZvclNoaXBQbGFjZW1lbnQoeCwgeSkge1xyXG4gICAgICAgICAgICAvLyBVcGRhdGVzIHNxdWFyZXMgd2hpY2ggbmVpZ2hib3VyIGEgc3VuayBzaGlwIHRvIGJlIGd1ZXNzZXNcclxuICAgICAgICAgICAgY29uc3Qgc3Vycm91bmRpbmdDb29yZGluYXRlcyA9IGZpbmRTdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKHgsIHkpO1xyXG4gICAgXHJcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhcnJheSB0byBkZXRlcm1pbmUgaWYgbmVlZHMgdG8gYmUgdXBkYXRlZDtcclxuICAgICAgICAgICAgZm9yIChsZXQgY29vcmRpbmF0ZXMgb2Ygc3Vycm91bmRpbmdDb29yZGluYXRlcykge1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQubWlzc2VkW3ldW3hdID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnJlY2lldmVBdHRhY2soW3gsIHldKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkcmFnRW50ZXIgbmVlZHMgdG8gYmUgYW4gYXJyb3cgZnVuY3Rpb24gc28gdGhhdCB0aGlzIGNhbiByZW1haW4gaW4gdGhlIGNvcnJlY3Qgc2NvcGVcclxuICAgICAgICAvLyBvdGhlcndpc2UgdGhpcyBiZWNvbWVzIHRoZSBncmlkRGl2XHJcbiAgICAgICAgY29uc3QgZHJhZ0VudGVyID0gKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBpZiAoZHJhZ2dhYmxlU2hpcHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgW3ksIHhdID0gY2xhc3NUb0ludGVnZXIuYmluZCh0aGlzKShlLnRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzaGlwU2l6ZSA9IHBhcnNlSW50KHNlbGVjdGVkU2hpcC5kYXRhc2V0LnNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFJldHVybnMgaWYgcG9zaXRpb25WYWxpZCB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGRpdnNcclxuICAgICAgICAgICAgICAgIGxldCBbdmFsaWQsIHNoaXBEaXZzXSA9IGNoZWNrSWZQb3NpdGlvblZhbGlkLmJpbmQodGhpcykoeSwgeCwgc2hpcFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWREaXYgb2Ygc2hpcERpdnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWREaXYgb2Ygc2hpcERpdnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKCdub3QtdmFsaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGRyYWdMZWF2ZShlKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBoaWdobGlnaHQgZWZmZWN0IGZyb20gYWxsIHNxdWFyZXNcclxuICAgICAgICAgICAgbGV0IGhpZ2hsaWdodGVkU3F1YXJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQnKTtcclxuICAgICAgICAgICAgaWYgKGhpZ2hsaWdodGVkU3F1YXJlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgIGhpZ2hsaWdodGVkU3F1YXJlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5ub3QtdmFsaWQnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaGlnaGxpZ2h0ZWRTcXVhcmVzLmZvckVhY2goc3F1YXJlID0+IHtcclxuICAgICAgICAgICAgICAgIHNxdWFyZS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQnLCAnbm90LXZhbGlkJywgJ3NoYWtpbmctYW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gXHJcblxyXG4gICAgICAgIGNvbnN0IGRyb3AgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChkcmFnZ2FibGVTaGlwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlci5iaW5kKHRoaXMpKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNoaXBTaXplID0gcGFyc2VJbnQoc2VsZWN0ZWRTaGlwLmRhdGFzZXQuc2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IG1pblkgPSB5O1xyXG4gICAgICAgICAgICAgICAgbGV0IG1heFkgPSB5O1xyXG4gICAgICAgICAgICAgICAgbGV0IG1pblggPSB4O1xyXG4gICAgICAgICAgICAgICAgbGV0IG1heFggPSB4O1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCBbdmFsaWQsIHNoaXBEaXZzXSA9IGNoZWNrSWZQb3NpdGlvblZhbGlkLmJpbmQodGhpcykoeSwgeCwgc2hpcFNpemUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgc3F1YXJlcyB0byBoaWdobGlnaHQgYmFzZWQgb24gc2hpcCBzaXplXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWREaXYgb2Ygc2hpcERpdnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUGxhY2Ugc2hpcCBvbiBIVE1MXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LmFkZCgnc2hpcC1wcmVzZW50JywgJ3JldmVhbCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGhpZ2hsaWdodCBlZmZlY3QgZnJvbSB0aGUgZ3JpZCBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LnJlbW92ZShcImhpZ2hsaWdodFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYW5lT2ZQbGFjaW5nU2hpcCA9PT0gXCJIT1JJWk9OVEFMXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WCA9IHggKyBzaGlwU2l6ZSAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5wb3NpdGlvblNoaXBzKFtbbWluWCwgbWF4WCwgbWluWSwgbWF4WV1dKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcFNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVhcmJ5U2hpcFNxdWFyZXNIaXRGb3JTaGlwUGxhY2VtZW50LmJpbmQodGhpcykoeCtpLCB5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhbmVPZlBsYWNpbmdTaGlwID09PSBcIlZFUlRJQ0FMXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4WSA9IHkgKyBzaGlwU2l6ZSAtIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5wb3NpdGlvblNoaXBzKFtbbWluWCwgbWF4WCwgbWluWSwgbWF4WV1dKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcFNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVhcmJ5U2hpcFNxdWFyZXNIaXRGb3JTaGlwUGxhY2VtZW50LmJpbmQodGhpcykoeCwgeStpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgdGhlIFVJIG9mIHRoZSBzaGlwcyB0byBiZSBwbGFjZWRcclxuICAgICAgICAgICAgICAgICAgICBtYWtlRHJhZ2dhYmxlU2hpcEludmlzaWJsZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBncmlkRGl2IG9mIHNoaXBEaXZzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgYW5pbWF0aW9uIHdpdGggY2xhc3NMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vdC12YWxpZCBhbHNvIGFkZGVkIGhlcmUgaW4gdGhlIGVkZ2UgY2FzZSB3aGVyZSB0aGUgdXNlciBjbGlja3MgdGhlIHNxdWFyZSBkaXJlY3RseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZnRlciBkcm9wcGluZyBhIHNoaXAgb24gdGhhdCBzcXVhcmVcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LmFkZCgnc2hha2luZy1hbmltYXRpb24nLCdub3QtdmFsaWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIHRvIHJlbW92ZSBzaGFraW5nIGFuaW1hdGlvbiBjbGFzcyB3aGVuIGFuaW1hdGlvbiBlbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWREaXYuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QucmVtb3ZlKCdzaGFraW5nLWFuaW1hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7IC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lciBhZnRlciBhbmltYXRpb24gZW5kc1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gICAgICAgICBcclxuICAgICAgICAgICAgfSBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGdyaWRFbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMubmFtZX0tZ3JpZC5nYW1lLWJvYXJkLm51bWJlcmApXHJcbiAgICAgICAgZ3JpZEVsZW1lbnRzLmZvckVhY2goZ3JpZEVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBncmlkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWVudGVyJywgZHJhZ0VudGVyKTtcclxuICAgICAgICAgICAgZ3JpZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIGRyYWdMZWF2ZSk7XHJcbiAgICAgICAgICAgIGdyaWRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGRyb3ApO1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHNoaXBTZWxlY3QoZSkge1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRTaGlwKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNoaXAuY2xhc3NMaXN0LnJlbW92ZShcInBsYWNpbmdcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2VsZWN0ZWRTaGlwID0gZS50YXJnZXQucGFyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgc2VsZWN0ZWRTaGlwLmNsYXNzTGlzdC5hZGQoXCJwbGFjaW5nXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gbWFrZURyYWdnYWJsZVNoaXBJbnZpc2libGUoKSB7XHJcbiAgICAgICAgICAgIC8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgY2xhc3NMaXN0IG9mIHRoZSBIVE1MIGVsZW1lbnQgd2hlbiB0aGUgYXNzb2NpYXRlZCBzaGlwIGlzIGJlaW5nL2lzIHBsYWNlZFxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYWdnYWJsZVNoaXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRTaGlwID09PSBkcmFnZ2FibGVTaGlwc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZVNoaXBzW2ldLmNsYXNzTGlzdC5hZGQoXCJpbnZpc2libGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlU2hpcHMuc3BsaWNlKGksIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBBZGRzIHByZXZTZWxlY3RlZFNoaXAgb25jZSBpdCdzIGJlZW4gZHJvcHBlZCBvbnRvIHRoZSBnYW1lYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICBwcmV2U2VsZWN0ZWRTaGlwQXJyYXkucHVzaChzZWxlY3RlZFNoaXApO1xyXG4gICAgICAgICAgICAgICAgICAgIHByZXZTZWxlY3RlZFNoaXBJbmRleEFycmF5LnB1c2goaSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmVzIHRoZSBzaGlwIHRvIGJlIHBsYWNlZCB0byB0aGUgZm9sbG93aW5nIHNoaXBcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3REZWZhdWx0U2hpcChpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNoaXBzSW52aXNpYmxlKCkge1xyXG4gICAgICAgIGRyYWdnYWJsZVNoaXBzLmZvckVhY2goc2hpcCA9PiB7XHJcbiAgICAgICAgICAgIHNoaXAuY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgc2hpcC5jbGFzc0xpc3QucmVtb3ZlKFwicGxhY2luZ1wiKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0U2hpcHMoKSB7XHJcbiAgICAgICAgcmVtb3ZlU2hpcHMuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgIGJ1aWxkU2hpcHMuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgIGFwcGx5RHJhZ2dhYmxlU2hpcHMuYmluZCh0aGlzKSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc0xpc3RPbkRyYWdnYWJsZVNoaXAoc2hpcCkge1xyXG4gICAgICAgIC8vIEZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgY2xhc3NMaXN0IG9mIHRoZSBIVE1MIGVsZW1lbnQgd2hlbiB0aGUgYXNzb2NpYXRlZCBzaGlwIGlzIHN1bmtcclxuICAgICAgICAvLyBJIGNvbXBhcmUgdGhlIGxlbmd0aCBvcHBvc2VkIHRvIHRoZSBpbmRpdmlkdWFsIGRpdiBhcyB0aGlzIG1lYW5zIGVhY2ggc2hpcCBpcyBzdW5rIGZyb20gdGhlIHRvcCBkb3duIHdoaWNoIGlzIG1vcmUgbG9naWNhbCBhbmQgbGVzcyBjb25mdXNpbmdcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRyYWdnYWJsZVNoaXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFTaXplID0gcGFyc2VJbnQoZHJhZ2dhYmxlU2hpcHNbaV0uZGF0YXNldC5zaXplKTtcclxuICAgICAgICAgICAgaWYgKHNoaXAubGVuZ3RoID09PSBkYXRhU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlU2hpcHNbaV0uY2xhc3NMaXN0LmFkZChcInN1bmtcIik7XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGVTaGlwcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVMYXN0U2hpcCgpIHtcclxuICAgICAgICBpZiAoZ2FtZWJvYXJkLnNoaXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy8gTmVlZCB0byByZW1vdmUgTGFzdCBTaGlwIGZyb20gc2hpcHMgYXJyYXlcclxuICAgICAgICAgICAgY29uc3Qgc2hpcFRvQmVSZW1vdmVkID0gZ2FtZWJvYXJkLnNoaXBzLnBvcChnYW1lYm9hcmQuc2hpcHMubGVuZ3RoIC0gMSlcclxuICAgICAgICAgICAgY29uc3Qgc2hpcFRvQmVSZW1vdmVkQ29vcmRpbmF0ZXMgPSByZW1vdmVTaGlwRnJvbUJvYXJkQXJyYXkoc2hpcFRvQmVSZW1vdmVkKTtcclxuICAgICAgICAgICAgcmVtb3ZlU2hpcEZyb21IVE1MR2FtZWJvYXJkLmJpbmQodGhpcykoc2hpcFRvQmVSZW1vdmVkQ29vcmRpbmF0ZXMpO1xyXG4gICAgICAgICAgICByZW1vdmVYVmFsdWVzRnJvbU1pc3NlZEdhbWVib2FyZChzaGlwVG9CZVJlbW92ZWRDb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIHJlaW5zdGF0ZVRvSFRNTERyYWdnYWJsZVNoaXBzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVNoaXBGcm9tQm9hcmRBcnJheShzaGlwKSB7XHJcbiAgICAgICAgLy8gRnVuY3Rpb24gcmV0dXJucyBnYW1lYm9hcmQgY29vcmRpbmF0ZXMgb2Ygc2hpcCBhbmQgc2ltdWx0YW5lb3VzbHkgcmVtb3ZlcyBpdCBmcm9tIHRoZSBnYW1lYm9hcmRcclxuICAgICAgICBjb25zdCBzaGlwQ29vcmRpbmF0ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSA5OyB5KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gOTsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmJvYXJkW3ldW3hdID09PSBzaGlwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlcyBzaGlwIGZyb20gZ2FtZWJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLmJvYXJkW3ldW3hdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBzaGlwQ29vcmRpbmF0ZXMucHVzaChbeSwgeF0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNoaXBDb29yZGluYXRlc1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVNoaXBGcm9tSFRNTEdhbWVib2FyZChzaGlwQ29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhzaGlwQ29vcmRpbmF0ZXMpXHJcbiAgICAgICAgZm9yIChsZXQgY29vcmRpbmF0ZXMgb2Ygc2hpcENvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgICAgICAgY29uc3QgeCA9IGNvb3JkaW5hdGVzWzFdO1xyXG4gICAgICAgICAgICBjb25zdCBncmlkRGl2ID0gZ3JpZERpdkZyb21Db29yZGluYXRlcy5iaW5kKHRoaXMpKHksIHgpO1xyXG4gICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJzaGlwLXByZXNlbnRcIiwgXCJyZXZlYWxcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVhWYWx1ZXNGcm9tTWlzc2VkR2FtZWJvYXJkKHNoaXBDb29yZGluYXRlcykge1xyXG4gICAgICAgIGZvciAobGV0IGNvb3JkaW5hdGVzIG9mIHNoaXBDb29yZGluYXRlcykge1xyXG4gICAgICAgICAgICBjb25zdCB5ID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBjb29yZGluYXRlc1sxXTtcclxuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXNGb3JNaXNzZWRHYW1lYm9hcmQgPSBmaW5kU3Vycm91bmRpbmdDb29yZGluYXRlcyh4LCB5KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgbWlzc2VkQ29vcmRpbmF0ZXMgb2YgY29vcmRpbmF0ZXNGb3JNaXNzZWRHYW1lYm9hcmQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFkgPSBtaXNzZWRDb29yZGluYXRlc1sxXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFggPSBtaXNzZWRDb29yZGluYXRlc1swXTtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQubWlzc2VkW1ldW1hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQubWlzc2VkW1ldW1hdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWluc3RhdGVUb0hUTUxEcmFnZ2FibGVTaGlwcygpIHtcclxuICAgICAgICAvLyBMYXN0IGFkZGVkIHNoaXAgaXMgdGhlIHByZXZpb3VzU2VsZWN0ZWRTaGlwXHJcbiAgICAgICAgY29uc3QgcHJldlNlbGVjdGVkU2hpcCA9IHByZXZTZWxlY3RlZFNoaXBBcnJheS5wb3AoKTtcclxuICAgICAgICBjb25zdCBwcmV2U2VsZWN0ZWRTaGlwSW5kZXggPSBwcmV2U2VsZWN0ZWRTaGlwSW5kZXhBcnJheS5wb3AoKTtcclxuXHJcbiAgICAgICAgLy8gQWRkIHByZXZpb3VzbHkgcGxhY2VkIHNoaXAgYmFjayBpbnRvIGRyYWdnYWJsZSBzaGlwcyBhbmQgdGhlIGRyYWdnZ2FibGUtc2hpcCBjb250YWluZXJcclxuICAgICAgICBwcmV2U2VsZWN0ZWRTaGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZpc2libGVcIik7XHJcbiAgICAgICAgZHJhZ2dhYmxlU2hpcHMuc3BsaWNlKHByZXZTZWxlY3RlZFNoaXBJbmRleCwgMCwgcHJldlNlbGVjdGVkU2hpcCk7XHJcblxyXG4gICAgICAgIC8vIFJldmVydCB0aGUgY3VycmVudCBzZWxlY3RlZFNoaXAgdG8gYmUgdGhlIHByZXZpb3VzXHJcbiAgICAgICAgc2VsZWN0ZWRTaGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJwbGFjaW5nXCIpO1xyXG4gICAgICAgIHNlbGVjdGVkU2hpcCA9IHByZXZTZWxlY3RlZFNoaXA7XHJcbiAgICAgICAgXHJcbiAgICB9ICAgXHJcblxyXG4gICAgZnVuY3Rpb24gcHJvZ3Jlc3NGcm9tU2hpcFBsYWNlbWVudChwbGF5ZXIyVHVyblRyYWNrZXIpIHtcclxuICAgICAgICAvLyBJZiBWUyBDT01QVVRFUiwgZnVuY3Rpb24gaXMgb25seSBjYWxsZWQgb24gUGxheWVyIDEhXHJcbiAgICAgICAgaWYgKHRoaXMub3Bwb25lbnQubmFtZSA9PT0gXCJjb21wdXRlclwiKSB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBSdWxlcywgQnV0dG9ucyBhbmQgU2hpcHNcclxuICAgICAgICAgICAgcmVtb3ZlQnV0dG9ucy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgIHJlbW92ZVNoaXBzLmJpbmQodGhpcykoKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE5lZWQgdG8gcmVzZXQgbWlzc2VkIGdhbWVib2FyZCBhcyBpdCB3YXMgdXNlZCB0byBwcmV2ZW50IGludmFsaWQgc2hpcCBwbGFjZW1lbnRcclxuICAgICAgICAgICAgLy8gRm9yIHNoaXBzIHRvbyBjbG9zZSB0b2dldGhlclxyXG4gICAgICAgICAgICByZXNldE1pc3NlZCgpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5yZW1vdmVSdWxlcygpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIENhbGxlZCBvbiBQbGF5ZXIxXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIyVHVyblRyYWNrZXIgPT09IFwicGxheWVyMlR1cm5TdGFydFwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgUnVsZXMgYW5kIFNoaXBzLCBrZWVwcyBidXR0b25zIGZvciBhZXRoc3RldGljIHJlYXNvbnMgZm9yIGhvdyB0aGUgcnVsZXMgbG9va1xyXG4gICAgICAgICAgICAgICAgYnVpbGRSdWxlcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVTaGlwcy5iaW5kKHRoaXMpKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byByZXNldCBtaXNzZWQgZ2FtZWJvYXJkIGFzIGl0IHdhcyB1c2VkIHRvIHByZXZlbnQgaW52YWxpZCBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gRm9yIHNoaXBzIHRvbyBjbG9zZSB0b2dldGhlclxyXG4gICAgICAgICAgICAgICAgcmVzZXRNaXNzZWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50LnJlbW92ZVJ1bGVzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50LmJ1aWxkU2hpcHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuYXBwbHlEcmFnZ2FibGVTaGlwcygpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAvLyBDYWxsZWQgb24gUGxheWVyMlxyXG4gICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIyVHVyblRyYWNrZXIgPT09IFwicGxheWVyMlR1cm5GaW5pc2hcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIFJ1bGVzLCBCdXR0b25zIGFuZCBTaGlwc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5yZW1vdmVSdWxlcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5yZW1vdmVCdXR0b25zKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVTaGlwcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVCdXR0b25zLmJpbmQodGhpcykoKTsgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byByZXNldCBtaXNzZWQgZ2FtZWJvYXJkIGFzIGl0IHdhcyB1c2VkIHRvIHByZXZlbnQgaW52YWxpZCBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gRm9yIHNoaXBzIHRvbyBjbG9zZSB0b2dldGhlclxyXG4gICAgICAgICAgICAgICAgcmVzZXRNaXNzZWQoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlcyBTaGlwcyBvbiBIVE1MIGJvYXJkIGZyb20gc2lnaHQgYXMgdGhpcyBtb2RlIGlzIGxvY2FsIFBsYXllciB2cyBQbGF5ZXJcclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuaGlkZUdyaWRTaGlwcygpO1xyXG4gICAgICAgICAgICAgICAgaGlkZUdyaWRTaGlwcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldE1pc3NlZCgpIHtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSA5OyB4KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gOTsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQubWlzc2VkW3ldW3hdID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBHQU1FIExPR0lDICovXHJcblxyXG4gICAgLy8gTW92ZWQgZm9yIHJlbW92ZUV2ZW50TGlzdGVuZXIgYnV0IHRoZSBiaW5kKHRoaXMpIG1lYW5zIHRoZSBpbnN0YW5jZSBpcyBub3QgdGhlIHNhbWUsIHNvIGl0IGNhbm5vdCB3b3JrXHJcbiAgICBmdW5jdGlvbiBjbGlja0hhbmRsZXIoZ3JpZERpdikge1xyXG4gICAgICAgIGNsaWNrVG9IVE1MLmJpbmQodGhpcykoZ3JpZERpdik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJHcmlkRGl2RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICAvLyBBbGxvd3MgZm9yIHBsYXllciBpbnRlcmFjdGlvbiB3aXRoIGdyaWRcclxuICAgICAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5uYW1lICsgXCJHcmlkXCIpXHJcbiAgICAgICAgY29uc3QgZ3JpZERpdnMgPSBncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpO1xyXG5cclxuICAgICAgICBncmlkRGl2cy5mb3JFYWNoKGdyaWREaXYgPT4ge1xyXG4gICAgICAgICAgICAvLyBTdG9yZSB0aGUgYm91bmQgZnVuY3Rpb24gcmVmZXJlbmNlIGFzIGEgcHJvcGVydHkgb2YgdGhlIGdyaWREaXZcclxuICAgICAgICAgICAgY29uc3QgYm91bmRDbGlja0hhbmRsZXIgPSBjbGlja0hhbmRsZXIuYmluZCh0aGlzLCBncmlkRGl2KTtcclxuICAgICAgICAgICAgZ3JpZERpdi5fYm91bmRDbGlja0hhbmRsZXIgPSBib3VuZENsaWNrSGFuZGxlcjtcclxuXHJcbiAgICAgICAgICAgIGdyaWREaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJvdW5kQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbGlja1RvSFRNTChncmlkRGl2KSB7XHJcbiAgICAgICAgLy8gQ29udmVydCdzIHBsYXllciBpbnRlcmFjdGlvbiB3aXRoIGdyaWQgaW50byBhIGd1ZXNzIGJ5IGNoYW5naW5nIEhUTUxcclxuICAgICAgICBpZiAoZ3JpZERpdi50ZXh0Q29udGVudCA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICBpZiAoZ3JpZERpdi5jbGFzc0xpc3QuY29udGFpbnMoXCJzaGlwLXByZXNlbnRcIikpIHtcclxuICAgICAgICAgICAgICAgIGdyaWREaXYudGV4dENvbnRlbnQgPSBcIlhcIjtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVR1cm5UZXh0KGAke3RoaXMub3Bwb25lbnQubW9uaWtlcn0gPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCByZWRcIj5ISVQ8L3NwYW4+YClcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZ3JpZERpdi5jbGFzc0xpc3QuY29udGFpbnMoXCJoaWRkZW5cIikpIHtcclxuICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKFwicmV2ZWFsXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZ3JpZERpdi50ZXh0Q29udGVudCA9IFwi4pePXCI7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUdXJuVGV4dChgJHt0aGlzLm9wcG9uZW50Lm1vbmlrZXJ9IDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgYmx1ZVwiPk1JU1NFRDwvc3Bhbj5gKVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd092ZXJsYXkodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50LnNob3dPdmVybGF5KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGdyaWREaXYuaWQgPSBcImhpdFwiO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBDb21wdXRlciBndWVzc0luZGV4IGlmIHBsYXllciBtaXNzc2VzXHJcbiAgICAgICAgICAgICAgICAvLyBLZWVwcyBnb2luZyB1bnRpbCBpdCBoaXRzIGFuZCBYXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uYW1lID09PSBcImNvbXB1dGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWxpc2VkR3Vlc3Nlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhbGlzZWRDb21wdXRlckd1ZXNzLmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wdXRlckd1ZXNzLmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgSFRNTHRvYm9hcmQuYmluZCh0aGlzKShncmlkRGl2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2hpcFN1bmsoZ3JpZERpdikge1xyXG4gICAgICAgIGNvbnN0IFt5LCB4XSA9IGNsYXNzVG9JbnRlZ2VyKGdyaWREaXYpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wcG9uZW50LmdhbWVib2FyZC5ib2FyZFt5XVt4XS5zdW5rOyAgICAgICAgXHJcbiAgICB9ICAgXHJcblxyXG4gICAgLy8gVXNlZCBmb3IgaW50ZXJhY3Rpb24gYmV0d2VlbiBET00gYW5kIGJvYXJkIGFycmF5XHJcbiAgICBmdW5jdGlvbiBjbGFzc1RvSW50ZWdlcihncmlkRGl2KSB7XHJcbiAgICAgICAgY29uc3QgY2xhc3NMaXN0U3RyaW5nID0gZ3JpZERpdi5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKTtcclxuICAgICAgICBjb25zdCBudW1iZXJzID0gXCIwMTIzNDU2Nzg5XCJcclxuICAgICAgICBmb3IgKGxldCBjbGFzc05hbWUgb2YgY2xhc3NMaXN0U3RyaW5nLnNwbGl0KFwiIFwiKSkge1xyXG4gICAgICAgICAgICBpZiAobnVtYmVycy5pbmNsdWRlcyhjbGFzc05hbWVbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW3BhcnNlSW50KGNsYXNzTmFtZVswXSksIHBhcnNlSW50KGNsYXNzTmFtZVsxXSldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQncyBwbGF5ZXIgaW50ZXJhY3Rpb24gd2l0aCBncmlkIGludG8gYSBndWVzcyBieSBjaGFuZ2luZyBib2FyZCBhcnJheVxyXG4gICAgZnVuY3Rpb24gSFRNTHRvYm9hcmQoZ3JpZERpdikge1xyXG4gICAgICAgIGlmICghZ2FtZWJvYXJkKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlcihncmlkRGl2KTtcclxuICAgICAgICBcclxuICAgICAgICBnYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhbeCwgeV0pO1xyXG5cclxuICAgICAgICBpZiAoZ2FtZWJvYXJkLmJvYXJkW3ldW3hdICE9IG51bGwgJiYgZ2FtZWJvYXJkLmJvYXJkW3ldW3hdLnN1bmspIHtcclxuICAgICAgICAgICAgdXBkYXRlVHVyblRleHQoYCR7dGhpcy5vcHBvbmVudC5tb25pa2VyfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIG9yYW5nZVwiPlNBTks8L3NwYW4+IE9ORSBPRiAke3RoaXMubW9uaWtlcn0ncyBTSElQU2ApXHJcbiAgICAgXHJcbiAgICAgICAgICAgIC8vIEFsZ29yaXRobSB0byBmaW5kIGFsbCBhbGwgcGFydHMgb2Ygc3VuayBzaGlwIHRvIGNoYW5nZSBib3JkZXIgdG8gcmVkXHJcbiAgICAgICAgICAgIC8vIEFsbG93cyBmb3IgXCJzdW5rXCIgdG8gYmUgYWRkZWQgdG8gZWFjaCBwYXJ0IG9mIHRoZSBzdW5rZW4gc2hpcCwgbm90IGp1c3QgdGhlIGhpdCB3aGljaCBzYW5rIHRoZSBzaGlwICBcclxuICAgICAgICAgICAgY29uc3QgY29vcmRpbmF0ZXMgPSBmaW5kVG91Y2hpbmdTaGlwcyhnYW1lYm9hcmQuYm9hcmQsIHgsIHksIG5ldyBTZXQoKSk7XHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzLmZvckVhY2goY29vcmRpbmF0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHBhcnNlSW50KGNvb3JkaW5hdGVbMV0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSBwYXJzZUludChjb29yZGluYXRlWzBdKTtcclxuICAgICAgICAgICAgICAgIGxldCBzaGlwRGl2ID0gZ3JpZERpdkZyb21Db29yZGluYXRlcy5iaW5kKHRoaXMpKHksIHgpO1xyXG4gICAgICAgICAgICAgICAgc2hpcERpdi5jbGFzc0xpc3QuYWRkKFwic3Vua1wiKTtcclxuICAgICAgICAgICAgICAgIG5lYXJieVNoaXBTcXVhcmVzSGl0LmJpbmQodGhpcykoeCwgeSk7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICB1cGRhdGVDbGFzc0xpc3RPbkRyYWdnYWJsZVNoaXAuYmluZCh0aGlzKShnYW1lYm9hcmQuYm9hcmRbeV1beF0pO1xyXG5cclxuICAgICAgICAgICAgLy8gR2FtZSBvdmVyIGNoZWNrP1xyXG4gICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyT3ZlcmFsbE92ZXJsYXkuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG5lYXJieVNoaXBTcXVhcmVzSGl0KHgsIHksIHBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyA9IG51bGwpIHtcclxuICAgICAgICAvLyBVcGRhdGVzIHNxdWFyZXMgd2hpY2ggbmVpZ2hib3VyIGEgc3VuayBzaGlwIHRvIGJlIGd1ZXNzZXNcclxuICAgICAgICBjb25zdCBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzID0gZmluZFN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMoeCwgeSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFycmF5IHRvIGRldGVybWluZSBpZiBuZWVkcyB0byBiZSB1cGRhdGVkO1xyXG4gICAgICAgIGZvciAobGV0IGNvb3JkaW5hdGVzIG9mIHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMpIHtcclxuICAgICAgICAgICAgbGV0IHggPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgICAgICAgbGV0IHkgPSBjb29yZGluYXRlc1sxXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChnYW1lYm9hcmQubWlzc2VkW3ldW3hdID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQucmVjaWV2ZUF0dGFjay5iaW5kKHRoaXMpKFt4LCB5XSlcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1pc3NlZERpdiA9IGdyaWREaXZGcm9tQ29vcmRpbmF0ZXMuYmluZCh0aGlzKSh5LCB4KTtcclxuICAgICAgICAgICAgICAgIG1pc3NlZERpdi50ZXh0Q29udGVudCA9IFwi4pePXCI7XHJcbiAgICAgICAgICAgICAgICBtaXNzZWREaXYuaWQgPSBcInJldmVhbGVkTWlzc1wiO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wcG9uZW50Lm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNvbXB1dGVyR3Vlc3MobWlzc2VkRGl2LCBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kU3Vycm91bmRpbmdDb29yZGluYXRlcyh4LCB5KSB7XHJcbiAgICAgICAgLy8gRmluZCBhbGwgY29vcmRpbmF0ZXMgc3Vycm91bmRpbmcgaW5wdXQgY29vcmRpbmF0ZXMgKEluY2x1ZGluZyBkaWFnb25hbClcclxuICAgICAgICBjb25zdCBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgWSA9IHkgLSAxOyBZIDw9IHkgKyAxOyBZKyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgWCA9IHggLSAxOyBYIDw9IHggKyAxOyBYKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChNYXRoLm1pbihYLCBZKSA8IDAgfHwgTWF0aC5tYXgoWCwgWSkgPiA5IHx8IGdhbWVib2FyZC5ib2FyZFtZXVtYXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzLnB1c2goW1gsIFldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3Vycm91bmRpbmdDb29yZGluYXRlcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBncmlkRGl2RnJvbUNvb3JkaW5hdGVzKHksIHgpIHtcclxuICAgICAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5uYW1lICsgXCJHcmlkXCIpO1xyXG4gICAgICAgIGNvbnN0IGdyaWREaXZzID0gZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKTtcclxuICAgICAgICBsZXQgZm91bmRHcmlkRGl2ID0gbnVsbDtcclxuXHJcbiAgICAgICAgZ3JpZERpdnMuZm9yRWFjaChncmlkRGl2ID0+IHtcclxuICAgICAgICAgICAgaWYgKGdyaWREaXYuY2xhc3NMaXN0LmNvbnRhaW5zKGAke3l9JHt4fWApKSB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZEdyaWREaXYgPSBncmlkRGl2OyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGZvdW5kR3JpZERpdjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaW5kVG91Y2hpbmdTaGlwcyhnYW1lYm9hcmQsIHgsIHksIHBhdGgpIHtcclxuICAgICAgICBpZiAocGF0aC5oYXMoYCR7eX0ke3h9YCkgfHwgTWF0aC5tYXgoeCwgeSkgPiA5IHx8IE1hdGgubWluKHgsIHkpIDwgMCB8fCBnYW1lYm9hcmRbeV1beF0gPT09IG51bGwpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQ09ERSBGT1IgTVkgT1dOIFVOREVSU1RBTkRJTkdcclxuICAgICAgICAvLyBQcmV2aW91c2x5IGhhZCBcInBhdGguYWRkKFt5LCB4XSlcIlxyXG4gICAgICAgIC8vIFRoaXMgbGluZSBhdHRlbXB0cyB0byBhZGQgYW4gYXJyYXkgW3ksIHhdIHRvIHRoZSBTZXQuIEhvd2V2ZXIsIEphdmFTY3JpcHQgY29uc2lkZXJzIHR3byBhcnJheXMgdG8gXHJcbiAgICAgICAgLy8gYmUgZXF1YWwgb25seSBpZiB0aGV5IHJlZmVyZW5jZSB0aGUgc2FtZSBhcnJheSBvYmplY3QsIG5vdCBpZiB0aGVpciBjb250ZW50cyBhcmUgdGhlIHNhbWUuIFNpbmNlIHlvdSBcclxuICAgICAgICAvLyBhcmUgY3JlYXRpbmcgbmV3IGFycmF5IG9iamVjdHMgZWFjaCB0aW1lIHlvdSB1c2UgW3ksIHhdLCB0aGV5IGFyZSBub3QgY29uc2lkZXJlZCBlcXVhbCwgYW5kIHRodXMgZWFjaCBcclxuICAgICAgICAvLyBhdHRlbXB0IHRvIGFkZCBhIG5ldyBbeSwgeF0gYXJyYXkgdG8gdGhlIFNldCB3aWxsIHN1Y2NlZWQsIHJlc3VsdGluZyBpbiBkdXBsaWNhdGVzLlxyXG5cclxuICAgICAgICAvLyBCZW5lYXRoIGFsbG93cyBmb3IgcHJvcGVyIGNoZWNrc1xyXG4gICAgICAgIHBhdGguYWRkKGAke3l9JHt4fWApO1xyXG5cclxuICAgICAgICBmaW5kVG91Y2hpbmdTaGlwcyhnYW1lYm9hcmQsIHggKyAxLCB5LCBwYXRoKSBcclxuICAgICAgICBmaW5kVG91Y2hpbmdTaGlwcyhnYW1lYm9hcmQsIHggLSAxLCB5LCBwYXRoKVxyXG4gICAgICAgIGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZCwgeCwgeSArIDEsIHBhdGgpXHJcbiAgICAgICAgZmluZFRvdWNoaW5nU2hpcHMoZ2FtZWJvYXJkLCB4LCB5IC0gMSwgcGF0aClcclxuXHJcbiAgICAgICAgcmV0dXJuIHBhdGhcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dPdmVybGF5KHNob3dPdmVybGF5LCBuYW1lPXRoaXMubmFtZSkge1xyXG4gICAgICAgIGxldCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmFtZSArIFwiR3JpZE92ZXJsYXlcIik7XHJcbiAgICAgICAgaWYgKHNob3dPdmVybGF5KSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdXBkYXRlVHVyblRleHQodGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHR1cm5EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnR1cm4tdGV4dFwiKTtcclxuICAgICAgICB0dXJuRGl2LmlubmVySFRNTCA9IHRleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyogQ09NUFVURVIgR1VFU1NJTkcgTE9HSUMgKi9cclxuICAgIFxyXG4gICAgYXN5bmMgZnVuY3Rpb24gY29tcHV0ZXJHdWVzcygpIHtcclxuICAgICAgICBsZXQgZ3Vlc3NJbmRleCA9IGF3YWl0IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5sZW5ndGgpO1xyXG4gICAgICAgIHdoaWxlIChndWVzc0luZGV4ID49IHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgZ3Vlc3NJbmRleCA9IGF3YWl0IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBndWVzc2VkRGl2ID0gYXdhaXQgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzW2d1ZXNzSW5kZXhdO1xyXG5cclxuICAgICAgICBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMuc3BsaWNlKGd1ZXNzSW5kZXgsIDEpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFJhbmRvbWlzZXMgYWRqdXN0cyB0aGUgY29tcHV0ZXIgcmVzcG9uc2UgdGltZSB3aXRoIG1pblRpbWVcclxuICAgICAgICBsZXQgbWluVGltZSA9IGF3YWl0IE1hdGgubWF4KDE1MCwgTWF0aC5yYW5kb20oKSAqIDUwMCkgXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1pblRpbWUpKTtcclxuXHJcbiAgICAgICAgY29tcHV0ZXJHdWVzc1RvSFRNTC5iaW5kKHRoaXMpKGd1ZXNzZWREaXYpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBHZW5lcmF0aW5nIGNvbXB1dGVyIGd1ZXNzZXMgb24gaW5pdGlhbGlzYXRpb25cclxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlQ29tcHV0ZXJHdWVzc2VzKCkge1xyXG4gICAgICAgIHBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyA9IFtdXHJcbiAgICAgICAgY29uc3QgY29tcHV0ZXJHcmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5vcHBvbmVudC5uYW1lfUdyaWRgKVxyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVyR3JpZERpdnMgPSBjb21wdXRlckdyaWQucXVlcnlTZWxlY3RvckFsbChcIipcIik7XHJcbiAgICAgICAgY29tcHV0ZXJHcmlkRGl2cy5mb3JFYWNoKGRpdiA9PiB7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5wdXNoKGRpdik7XHJcbiAgICAgICAgfSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVXNlZCBmb3IgdGhlIHJlbW92YWwgb2YgZGl2J3MgbmVhcmJ5IHRvIGEgc2hpcCB3aGVuIGEgc2hpcCBpcyBzdW5rXHJcbiAgICBmdW5jdGlvbiByZW1vdmVDb21wdXRlckd1ZXNzKGRpdlRvUmVtb3ZlLCBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzW2ldID09PSBkaXZUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXF1aXJlcyBvd24gZnVuY3Rpb24gZHVlIHRvIGxvZ2ljIG9mIGEgY29tcHV0ZXIgZ3Vlc3Nlc1xyXG4gICAgLy8gcmVsYXRpdmVMb2NhdGlvbk9mRGl2IGlzIHdoZW4gdGhlIHBsYW5lIG9mIHRoZSBzaGlwICh2ZXJ0aWNhbCBvciBob3Jpem9udGFsKSBpcyBrbm93blxyXG4gICAgZnVuY3Rpb24gY29tcHV0ZXJHdWVzc1RvSFRNTChncmlkRGl2LCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmIChncmlkRGl2LmNsYXNzTGlzdC5jb250YWlucyhcInNoaXAtcHJlc2VudFwiKSkge1xyXG4gICAgICAgICAgICBncmlkRGl2LnRleHRDb250ZW50ID0gXCJYXCI7XHJcbiAgICAgICAgICAgIHVwZGF0ZVR1cm5UZXh0KGBDT01QVVRFUiA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIHJlZFwiPkhJVDwvc3Bhbj5gKVxyXG5cclxuICAgICAgICAgICAgY29tcHV0ZXJIVE1MVG9Cb2FyZC5iaW5kKHRoaXMpKGdyaWREaXYpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2hpcFN1bmsuYmluZCh0aGlzKShncmlkRGl2KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyR3Vlc3MuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbGlzZWRDb21wdXRlckd1ZXNzLmJpbmQodGhpcykoZ3JpZERpdiwgcmVsYXRpdmVMb2NhdGlvbk9mRGl2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBncmlkRGl2LnRleHRDb250ZW50ID0gXCLil49cIjtcclxuICAgICAgICAgICAgdXBkYXRlVHVyblRleHQoYENPTVBVVEVSIDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgYmx1ZVwiPk1JU1NFRDwvc3Bhbj5gKVxyXG5cclxuICAgICAgICAgICAgY29tcHV0ZXJIVE1MVG9Cb2FyZC5iaW5kKHRoaXMpKGdyaWREaXYpO1xyXG5cclxuICAgICAgICAgICAgLy8gSW4gQ29tcHV0ZXIgdnMgUGxheWVyIHRoZSBjb21wdXRlciBib2FyZCBuZWVkcyB0byBiZSBhY2Nlc3NlZCB0aHJvdWdoIHRoZSBwbGF5ZXIgY2xhc3NcclxuICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHJldmVyc2UgdG8gbG9naWMgaW4gcGxheWVyIGNsYXNzXHJcbiAgICAgICAgICAgIHRoaXMuc2hvd092ZXJsYXkoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLm9wcG9uZW50LnNob3dPdmVybGF5KHRydWUpO1xyXG4gICAgICAgICAgICBncmlkRGl2LmlkID0gXCJoaXRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnZlcnQncyBjb21wdXRlcidzIGd1ZXNzIHRvIGJvYXJkXHJcbiAgICBmdW5jdGlvbiBjb21wdXRlckhUTUxUb0JvYXJkKGdyaWREaXYpIHtcclxuICAgICAgICBpZiAoIWdhbWVib2FyZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgW3ksIHhdID0gY2xhc3NUb0ludGVnZXIoZ3JpZERpdik7ICAgICAgICAgICAgXHJcbiAgICAgICAgdGhpcy5vcHBvbmVudC5nYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhbeCwgeV0pO1xyXG4gICAgICAgIGlmICh0aGlzLm9wcG9uZW50LmdhbWVib2FyZC5ib2FyZFt5XVt4XSAhPSBudWxsICYmIHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmJvYXJkW3ldW3hdLnN1bmspIHtcclxuICAgICAgICAgICAgdXBkYXRlVHVyblRleHQoYENPTVBVVEVSIDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgb3JhbmdlXCI+U0FOSzwvc3Bhbj4gT05FIE9GICR7dGhpcy5vcHBvbmVudC5tb25pa2VyfSdzIFNISVBTYClcclxuICAgICAgICAgICAgbG9jYWxpc2VkR3Vlc3NlcyA9IG51bGw7XHJcbiAgICAgICAgICAgIHNoaXBEaXJlY3Rpb24gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gQWxnb3JpdGhtIHRvIGZpbmQgYWxsIGFsbCBwYXJ0cyBvZiBzdW5rIHNoaXAgdG8gY2hhbmdlIGJvcmRlciB0byByZWQgXHJcbiAgICAgICAgICAgIC8vIEFsbG93cyBmb3IgXCJzdW5rXCIgdG8gYmUgYWRkZWQgdG8gZWFjaCBwYXJ0IG9mIHRoZSBzdW5rZW4gc2hpcCwgbm90IGp1c3QgdGhlIGhpdCB3aGljaCBzYW5rIHRoZSBzaGlwIFxyXG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IGZpbmRUb3VjaGluZ1NoaXBzKHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmJvYXJkLCB4LCB5LCBuZXcgU2V0KCkpO1xyXG4gICAgICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKGNvb3JkaW5hdGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBwYXJzZUludChjb29yZGluYXRlWzFdKTtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gcGFyc2VJbnQoY29vcmRpbmF0ZVswXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2hpcERpdiA9IHRoaXMub3Bwb25lbnQuZ3JpZERpdkZyb21Db29yZGluYXRlcyh5LCB4KTtcclxuICAgICAgICAgICAgICAgIHNoaXBEaXYuY2xhc3NMaXN0LmFkZChcInN1bmtcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50Lm5lYXJieVNoaXBTcXVhcmVzSGl0KHgsIHksIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcyk7XHJcbiAgICAgICAgICAgIH0pICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3Bwb25lbnQudXBkYXRlQ2xhc3NMaXN0T25EcmFnZ2FibGVTaGlwKHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmJvYXJkW3ldW3hdKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEdhbWUgb3ZlciBjaGVjaz9cclxuICAgICAgICAgICAgaWYgKHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyT3ZlcmFsbE92ZXJsYXkuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGZ1bmN0aW9uIGxvY2FsaXNlZENvbXB1dGVyR3Vlc3MoZ3JpZERpdj1udWxsLCBkaXNjb3ZlcmVkU2hpcERpcmVjdGlvbj1mYWxzZSkge1xyXG4gICAgICAgIC8vIEZpcnN0IGhpdCBvZiBhIHNoaXBcclxuICAgICAgICBpZiAoIWxvY2FsaXNlZEd1ZXNzZXMpIHtcclxuICAgICAgICAgICAgbG9jYWxpc2VkR3Vlc3NlcyA9IGdlbmVyYXRlTG9jYWxDb21wdXRlckd1ZXNzZXMoZ3JpZERpdik7XHJcbiAgICAgICAgfSAvLyBTZWNvbmQgaGl0IG9yIGdyZWF0ZXJcclxuICAgICAgICBlbHNlIGlmIChkaXNjb3ZlcmVkU2hpcERpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAvLyBHZW5lcmF0ZSBuZXcgbmVhcmJ5IGRpdnNcclxuICAgICAgICAgICAgY29uc3QgbmV3RGl2cyA9IGdlbmVyYXRlTG9jYWxDb21wdXRlckd1ZXNzZXMoZ3JpZERpdik7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHBvdGVudGlhbEd1ZXNzIGluIG5ld0RpdnMpIHtcclxuICAgICAgICAgICAgICAgIGxvY2FsaXNlZEd1ZXNzZXNbcG90ZW50aWFsR3Vlc3NdID0gbmV3RGl2c1twb3RlbnRpYWxHdWVzc107XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkaXZzIHdoaWNoIGFyZSBub3QgaW4gY29ycmVjdCBwbGFuZVxyXG4gICAgICAgICAgICByZW1vdmVMb2NhbENvbXB1dGVyR3Vlc3NlcyhkaXNjb3ZlcmVkU2hpcERpcmVjdGlvbik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSYW5kb21seSBhZGp1c3RzIHRoZSBjb21wdXRlciByZXNwb25zZSB0aW1lIHdpdGggbWluVGltZVxyXG4gICAgICAgIGxldCBtaW5UaW1lID0gYXdhaXQgTWF0aC5tYXgoMTUwLCBNYXRoLnJhbmRvbSgpICogNTAwKSBcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWluVGltZSkpO1xyXG5cclxuICAgICAgICAvLyBQZXJmb3JtcyBhbiBpbnRlbGxpZ2VudCBjb21wdXRlciBndWVzc1xyXG4gICAgICAgIGNvbnN0IFsgbG9jYWxHdWVzcywgcmVsYXRpdmVMb2NhdGlvbk9mRGl2IF0gPSBvYmplY3RTaGlmdC5iaW5kKHRoaXMpKGxvY2FsaXNlZEd1ZXNzZXMpO1xyXG4gICAgICAgIHJlbW92ZUNvbXB1dGVyR3Vlc3MobG9jYWxHdWVzcywgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzKTtcclxuICAgICAgICBjb21wdXRlckd1ZXNzVG9IVE1MLmJpbmQodGhpcykobG9jYWxHdWVzcywgcmVsYXRpdmVMb2NhdGlvbk9mRGl2KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzKGdyaWREaXYpIHtcclxuICAgICAgICAvLyBSZWNpZXZlZCBbeSwgeF0gdG8gbWF0Y2ggdXAgd2l0aCB0aGUgZ2FtZWJvYXJkXHJcbiAgICAgICAgY29uc3QgW3ksIHhdID0gY2xhc3NUb0ludGVnZXIoZ3JpZERpdik7XHJcbiAgICAgICAgY29uc3QgbmVhcmJ5Q29vcmRpbmF0ZXMgPSBbXHJcbiAgICAgICAgICAgIFt5KzEsIHgsIFwiYmVuZWF0aFwiXSxcclxuICAgICAgICAgICAgW3ktMSwgeCwgXCJhYm92ZVwiXSxcclxuICAgICAgICAgICAgW3ksIHgrMSwgXCJyaWdodFwiXSxcclxuICAgICAgICAgICAgW3ksIHgtMSwgXCJsZWZ0XCJdLFxyXG4gICAgICAgIF0gXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbmVhcmJ5R3Vlc3NlcyA9IHt9O1xyXG4gICAgICAgIGZvciAobGV0IGNvb3JkaW5hdGUgb2YgbmVhcmJ5Q29vcmRpbmF0ZXMpIHtcclxuICAgICAgICAgICAgbGV0IFt5LCB4LCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXZdID0gY29vcmRpbmF0ZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIGNvbXB1dGVyRGl2RnJvbUludGVnZXIgcmV0dXJucyBudWxsIGlmIG5vdCBmb3VuZFxyXG4gICAgICAgICAgICAvLyBUaGVyZWZvcmUgd2lsbCBiZSBudWxsIGlmIG5vdCBpbiBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMgb3IgaWYgb3V0IG9mIHJhbmdlXHJcbiAgICAgICAgICAgIGNvbnN0IG5lYXJieURpdiA9IGNvbXB1dGVyRGl2RnJvbUludGVnZXIoeCwgeSlcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFNlcmlhbGl6YXRpb246IFdoZW4geW91IHVzZSBhbiBIVE1MRWxlbWVudCBvYmplY3QgYXMgYSBrZXkgaW4gYW4gb2JqZWN0LCBpdCBpcyBpbXBsaWNpdGx5IFxyXG4gICAgICAgICAgICAvLyBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcgdXNpbmcgaXRzIHRvU3RyaW5nKCkgbWV0aG9kLiBUaGlzIG1lYW5zIHRoYXQgdGhlIGFjdHVhbCBvYmplY3QgXHJcbiAgICAgICAgICAgIC8vIHJlZmVyZW5jZSBpcyBub3QgdXNlZCBhcyB0aGUga2V5LCBidXQgcmF0aGVyIGl0cyBzdHJpbmcgcmVwcmVzZW50YXRpb24uXHJcbiAgICAgICAgICAgIGlmIChuZWFyYnlEaXYpIG5lYXJieUd1ZXNzZXNbcmVsYXRpdmVMb2NhdGlvbk9mRGl2XSA9IG5lYXJieURpdjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBuZWFyYnlHdWVzc2VzOyAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNpbWlsYXIgbG9naWMgdG8gZ3JpZERpdkZyb21Db29yZGluYXRlc1xyXG4gICAgZnVuY3Rpb24gY29tcHV0ZXJEaXZGcm9tSW50ZWdlcih4LCB5KSB7XHJcbiAgICAgICAgbGV0IGZvdW5kR3JpZERpdiA9IG51bGw7XHJcblxyXG4gICAgICAgIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5mb3JFYWNoKGdyaWREaXYgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ3JpZERpdi5jbGFzc0xpc3QuY29udGFpbnMoYCR7eX0ke3h9YCkpIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kR3JpZERpdiA9IGdyaWREaXY7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgcmV0dXJuIGZvdW5kR3JpZERpdjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBvYmplY3RTaGlmdChvYmplY3QpIHtcclxuICAgICAgICAvLyBHZXQgdGhlIGZpcnN0IGtleVxyXG4gICAgICAgIGNvbnN0IHJlbGF0aXZlTG9jYXRpb25PZkRpdiA9IE9iamVjdC5rZXlzKG9iamVjdClbMF07XHJcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBrZXktdmFsdWUgcGFpclxyXG4gICAgICAgIGNvbnN0IG5lYXJieURpdiA9IG9iamVjdFtyZWxhdGl2ZUxvY2F0aW9uT2ZEaXZdO1xyXG4gICAgICAgIGRlbGV0ZSBvYmplY3RbcmVsYXRpdmVMb2NhdGlvbk9mRGl2XTtcclxuICAgICAgICByZXR1cm4gWyBuZWFyYnlEaXYsIHJlbGF0aXZlTG9jYXRpb25PZkRpdiBdO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzKHJlbGF0aXZlTG9jYXRpb25PZkRpdikge1xyXG4gICAgICAgIC8vIElmIHNoaXAgZGlyZWN0aW9uIGhhcyBub3QgYmUgZGV0ZXJtaW5lZCwgY2FsY3VsYXRlIHNoaXBEaXJlY3Rpb25cclxuICAgICAgICBpZiAoIXNoaXBEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgc2hpcERpcmVjdGlvbiA9IGNhbGN1bGF0ZVNoaXBEaXJlY3Rpb24uYmluZCh0aGlzKShyZWxhdGl2ZUxvY2F0aW9uT2ZEaXYpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBwb3RlbnRpYWxHdWVzc2VzIHdoaWNoIGFyZSBub3Qgb24gdGhlIHNhbWUgcGxhbmUgYXMgdGhlIHNoaXBEaXJlY3Rpb25cclxuICAgICAgICBmb3IgKGNvbnN0IHBvdGVudGlhbERpcmVjdGlvbiBpbiBsb2NhbGlzZWRHdWVzc2VzKSB7XHJcbiAgICAgICAgICAgIGlmICghZGlyZWN0aW9uW3NoaXBEaXJlY3Rpb25dLmluY2x1ZGVzKHBvdGVudGlhbERpcmVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBsb2NhbGlzZWRHdWVzc2VzW3BvdGVudGlhbERpcmVjdGlvbl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY2FsY3VsYXRlU2hpcERpcmVjdGlvbihyZWxhdGl2ZUxvY2F0aW9uT2ZEaXYpIHtcclxuICAgICAgICBpZiAocmVsYXRpdmVMb2NhdGlvbk9mRGl2ID09PSBcImFib3ZlXCIgfHwgcmVsYXRpdmVMb2NhdGlvbk9mRGl2ID09PSBcImJlbmVhdGhcIikge1xyXG4gICAgICAgICAgICBzaGlwRGlyZWN0aW9uID0gXCJ2ZXJ0aWNhbFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNoaXBEaXJlY3Rpb24gPSBcImhvcml6b250YWxcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNoaXBEaXJlY3Rpb247XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qIEdhbWUgZW5kaW5nIGZ1bmN0aW9ucyAqL1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGFsbEdyaWREaXZzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmdhbWUtYm9hcmQubnVtYmVyXCIpKTtcclxuXHJcbiAgICAgICAgYWxsR3JpZERpdnMuZm9yRWFjaChncmlkRGl2ID0+IHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB1c2luZyB0aGUgc3RvcmVkIGJvdW5kIGZ1bmN0aW9uIHJlZmVyZW5jZVxyXG4gICAgICAgICAgICBncmlkRGl2LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBncmlkRGl2Ll9ib3VuZENsaWNrSGFuZGxlcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdHJpZ2dlck92ZXJhbGxPdmVybGF5KCkge1xyXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVFbmRpbmdPdmVybGF5XCIpO1xyXG4gICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG5cclxuICAgICAgICAvLyBSZXNldCBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMgbGVuZ3RoIHRvIHByZXZlbnQgdGhlIGNvbXB1dGVyIGZyb20gZ3Vlc3NpbmcgZnVydGhlclxyXG4gICAgICAgIGlmIChwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMpIHtcclxuICAgICAgICAgICAgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZW1vdmVBbGxFdmVudExpc3RlbmVycy5iaW5kKHRoaXMpKCk7XHJcblxyXG4gICAgICAgIC8vIE9idGFpbiB0aGUgZGl2IGVsZW1lbnQgd2hpY2ggd2lsbCBob2xkIHRoZSBwbGF5ZXItc2VsZWN0aW9uIEhUTUwgY29udGVudFxyXG4gICAgICAgIGNvbnN0IGNvbmdyYXR1bGF0aW9uc1RpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uZXItY29uZmlybWF0aW9uXCIpO1xyXG5cclxuICAgICAgICBsZXQgd2lubmVyO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5nYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcclxuICAgICAgICAgICAgd2lubmVyID0gdGhpcy5vcHBvbmVudC5tb25pa2VyO1xyXG4gICAgICAgICAgICB0aGlzLm9wcG9uZW50Lndpbm5pbmdDb3VudGVyKys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2lubmVyID0gdGhpcy5tb25pa2VyO1xyXG4gICAgICAgICAgICB0aGlzLndpbm5pbmdDb3VudGVyKys7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIGlubmVyIEhUTUwgY29udGVudCBmb3IgdGhlIHBsYXllci1zZWxlY3Rpb24gZGl2XHJcbiAgICAgICAgY29uZ3JhdHVsYXRpb25zVGl0bGUudGV4dENvbnRlbnQgPSBgQ29uZ3JhdHVsYXRpb25zICR7d2lubmVyfSB3aW5zIWBcclxuXHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTY29yZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY3VycmVudC1zY29yZSNnYW1lRW5kXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLm5hbWUgPT09IFwicGxheWVyMVwiKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZS50ZXh0Q29udGVudCA9IGAke3RoaXMubW9uaWtlcn0gOiAke3RoaXMud2lubmluZ0NvdW50ZXJ9ICAgICAtICAgICAke3RoaXMub3Bwb25lbnQud2lubmluZ0NvdW50ZXJ9IDogJHt0aGlzLm9wcG9uZW50Lm1vbmlrZXJ9YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdXJyZW50U2NvcmUudGV4dENvbnRlbnQgPSBgJHt0aGlzLm9wcG9uZW50Lm1vbmlrZXJ9IDogJHt0aGlzLm9wcG9uZW50Lndpbm5pbmdDb3VudGVyfSAgICAgLSAgICAgJHt0aGlzLndpbm5pbmdDb3VudGVyfSA6ICR7dGhpcy5tb25pa2VyfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBcclxuXHJcbiAgICByZXR1cm4ge2J1aWxkSFRNTEdyaWQsIHNob3dPdmVybGF5LCByZWdpc3RlckdyaWREaXZFdmVudExpc3RlbmVyLCBidWlsZEhUTUxEaXZDb250YWluZXJzLCBjb21wdXRlckd1ZXNzLCBvcHBvbmVudCwgZ2VuZXJhdGVDb21wdXRlckd1ZXNzZXMsIHBvc2l0aW9uU2hpcHM6IGdhbWVib2FyZC5wb3NpdGlvblNoaXBzLCBhbGxTaGlwc1N1bms6IGdhbWVib2FyZC5hbGxTaGlwc1N1bmssIGFsbFNoaXBzUGxhY2VkOiBnYW1lYm9hcmQuYWxsU2hpcHNQbGFjZWQsIGdhbWVib2FyZCwgZ3JpZERpdkZyb21Db29yZGluYXRlcywgbmVhcmJ5U2hpcFNxdWFyZXNIaXQsIHBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcywgYnVpbGRTaGlwcywgYXBwbHlEcmFnZ2FibGVTaGlwcywgYnVpbGRCdXR0b25Db250YWluZXIsIHJlc2V0R3JpZCwgcmVtb3ZlU2hpcHMsIHJlbW92ZUJ1dHRvbnMsIGhpZGVHcmlkU2hpcHMsIHVwZGF0ZVR1cm5UZXh0LCB1cGRhdGVDbGFzc0xpc3RPbkRyYWdnYWJsZVNoaXAsIGJ1aWxkUnVsZXMsIHJlbW92ZVJ1bGVzLCB0b2dnbGVTaGlwc0ludmlzaWJsZSwgcmVzZXRTaGlwcywgcmVzZXRIVE1MR3JpZCwgcHJvZ3Jlc3NGcm9tU2hpcFBsYWNlbWVudCwgcmVzZXRTaGlwc0FycmF5LCBwbGFuZU9mUGxhY2luZ1NoaXAsIHdpbm5pbmdDb3VudGVyLCByZW1vdmVMYXN0U2hpcH1cclxufVxyXG5leHBvcnQge1NoaXAsIEdhbWVib2FyZCwgUGxheWVyfTsiLCJmdW5jdGlvbiB1cGRhdGVQbGF5ZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlKCkge1xyXG4gICAgY29uc3QgcGxheWVyU2VsZWN0aW9uRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItc2VsZWN0aW9uLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW4gY29udGFpbmVyc1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSBwbGF5ZXJTZWxlY3Rpb25EaXYub2Zmc2V0TGVmdCArIDIwMDtcclxuXHJcbiAgICAvLyBBcHBseSB0aGUgZGlzdGFuY2UgdG8gQ1NTIGFuaW1hdGlvblxyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLXBsYXllci1zZWxlY3Rpb24tZGlzdGFuY2UnLCBgJHtkaXN0YW5jZX1weGApO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVNb25pa2VyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSgpIHtcclxuICAgIGNvbnN0IHBsYXllcjJNb25pa2VyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIyLW1vbmlrZXItdGV4dFwiKTtcclxuICAgIGNvbnN0IGNvbXB1dGVyTW9uaWtlckRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyMi1uYW1lLWlzLWNvbXB1dGVyXCIpO1xyXG5cclxuICAgIC8vIENoZWNrIGNvbXB1dGVkIHN0eWxlIGZvciBkaXNwbGF5IHByb3BlcnR5XHJcbiAgICBjb25zdCBjb21wdXRlck1vbmlrZXJEaXNwbGF5U3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShjb21wdXRlck1vbmlrZXJEaXYpLmdldFByb3BlcnR5VmFsdWUoJ2Rpc3BsYXknKTtcclxuXHJcbiAgICBjb25zdCBwbGF5ZXIyTW9uaWtlciA9IChjb21wdXRlck1vbmlrZXJEaXNwbGF5U3R5bGUgPT09IFwibm9uZVwiID8gcGxheWVyMk1vbmlrZXJEaXYgOiBjb21wdXRlck1vbmlrZXJEaXYpXHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBkaXN0YW5jZSBiZXR3ZWVuIGNvbnRhaW5lcnNcclxuICAgIGNvbnN0IGRpc3RhbmNlID0gcGxheWVyMk1vbmlrZXIub2Zmc2V0TGVmdCArIDIwMDtcclxuXHJcbiAgICAvLyBBcHBseSB0aGUgZGlzdGFuY2UgdG8gQ1NTIGFuaW1hdGlvblxyXG4gICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLnNldFByb3BlcnR5KCctLW1vbmlrZXItc2VsZWN0aW9uLWRpc3RhbmNlJywgYCR7ZGlzdGFuY2V9cHhgKTtcclxufVxyXG5cclxuZXhwb3J0IHt1cGRhdGVQbGF5ZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlLCB1cGRhdGVNb25pa2VyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZX0iLCJsZXQgYm9hcmQgPSBbXTtcclxuXHJcbmNsYXNzIFNoaXAge1xyXG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCBoaXRzPTAsIHN1bms9ZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLmhpdHMgPSBoaXRzO1xyXG4gICAgICAgIHRoaXMuc3VuayA9IHN1bms7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBvc2l0aW9uU2hpcHMoY29vcmRpbmF0ZXMpIHtcclxuICAgIGlmIChjb29yZGluYXRlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiTmVlZCB0byBwcm92aWRlIGNvb3JkaW5hdGVzXCIpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGxldCBuZXdTaGlwO1xyXG5cclxuICAgIGNvbnN0IFt4MSwgeDIsIHkxLCB5Ml0gPSBjb29yZGluYXRlcztcclxuICAgIC8vIEFzc3VtaW5nIGVhY2ggY29vcmRpbmF0ZSBpcyBmaW5lIGJjIGl0IHdpbGwgY29tZSBmcm9tIHRoZSBVSVxyXG4gICAgLy8gTGVuZ3RoIDFcclxuICAgIGlmICh4MSA9PT0geDIgJiYgeTEgPT09IHkyKSB7XHJcbiAgICAgICAgLy8gRmlsbCBib2FyZCB3aXRoIFNoaXBcclxuICAgICAgICBuZXdTaGlwID0gbmV3IFNoaXAoMSk7XHJcbiAgICAgICAgYm9hcmRbeTFdW3gxXSA9IG5ld1NoaXA7XHJcbiAgICB9IC8vIEZvciBhIGNvbnN0YW50IFhcclxuICAgIGVsc2UgaWYgKHgxID09PSB4Mikge1xyXG4gICAgICAgIGNvbnN0IHlEaWZmID0geTIgLSB5MSArIDE7XHJcbiAgICAgICAgbmV3U2hpcCA9IG5ldyBTaGlwKHlEaWZmKTtcclxuICAgICAgICAvLyBGaWxsIGJvYXJkIHdpdGggU2hpcFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeURpZmY7IGkrKykge1xyXG4gICAgICAgICAgICBib2FyZFt5MSArIGldW3gxXSA9IG5ld1NoaXA7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh5MSA9PT0geTIpIHtcclxuICAgICAgICBjb25zdCB4RGlmZiA9IHgyIC0geDEgKyAxO1xyXG4gICAgICAgIG5ld1NoaXAgPSBuZXcgU2hpcCh4RGlmZik7XHJcbiAgICAgICAgLy8gRmlsbCBib2FyZCB3aXRoIFNoaXBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHhEaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgYm9hcmRbeTFdW3gxICsgaV0gPSBuZXdTaGlwO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3coRXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBuZWFyYnlTaGlwU3F1YXJlc0hpdCh4LCB5KSB7XHJcbiAgICBjb25zdCBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzID0gZmluZFN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMoeCwgeSk7XHJcblxyXG4gICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFycmF5IHRvIGRldGVybWluZSBpZiBuZWVkcyB0byBiZSB1cGRhdGVkO1xyXG4gICAgZm9yIChsZXQgY29vcmRpbmF0ZXMgb2Ygc3Vycm91bmRpbmdDb29yZGluYXRlcykge1xyXG4gICAgICAgIGNvbnN0IHhDb29yZCA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICAgIGNvbnN0IHlDb29yZCA9IGNvb3JkaW5hdGVzWzFdO1xyXG5cclxuICAgICAgICBpZiAoYm9hcmRbeUNvb3JkXVt4Q29vcmRdID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGJvYXJkW3lDb29yZF1beENvb3JkXSA9IFwiTmVhcmJ5XCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaW5kU3Vycm91bmRpbmdDb29yZGluYXRlcyh4LCB5KSB7XHJcbiAgICBjb25zdCBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzID0gW107XHJcbiAgICBmb3IgKGxldCBZID0geSAtIDE7IFkgPD0geSArIDE7IFkrKykge1xyXG4gICAgICAgIGZvciAobGV0IFggPSB4IC0gMTsgWCA8PSB4ICsgMTsgWCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChNYXRoLm1pbihYLCBZKSA8IDAgfHwgTWF0aC5tYXgoWCwgWSkgPiA5IHx8IGJvYXJkW1ldW1hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMucHVzaChbWCwgWV0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiByYW5kb21pc2UoKSB7XHJcbiAgICAvLyBSZWluaXRpYWxpemUgYm9hcmQgYXJyYXkgZm9yIGV2ZXJ5IHJhbmRvbWlzZSgpXHJcbiAgICBib2FyZCA9IEFycmF5LmZyb20oe2xlbmd0aDogMTB9LCAoKSA9PiBBcnJheSgxMCkuZmlsbChudWxsKSk7XHJcblxyXG4gICAgY29uc3QgZGlyZWN0aW9ucyA9IFtcImhvcml6b250YWxcIiwgXCJ2ZXJ0aWNhbFwiXTtcclxuICAgIGNvbnN0IHNoaXBzID0gW3tsZW5ndGg6NH0se2xlbmd0aDozfSx7bGVuZ3RoOjN9LHtsZW5ndGg6Mn0se2xlbmd0aDoyfSx7bGVuZ3RoOjJ9LHtsZW5ndGg6MX0se2xlbmd0aDoxfSx7bGVuZ3RoOjF9LHtsZW5ndGg6MX1dO1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSBbXTtcclxuXHJcbiAgICBmb3IgKGxldCBzaGlwIG9mIHNoaXBzKSB7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKTtcclxuICAgICAgICBzaGlwW1wiZGlyZWN0aW9uXCJdID0gZGlyZWN0aW9uc1tpbmRleF07XHJcblxyXG4gICAgICAgIGxldCB2aWFibGUgPSBmYWxzZTtcclxuICAgICAgICBsZXQgeDEsIHgyLCB5MSwgeTI7XHJcblxyXG4gICAgICAgIHdoaWxlICghdmlhYmxlKSB7XHJcbiAgICAgICAgICAgIGlmIChzaGlwW1wiZGlyZWN0aW9uXCJdID09PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICAgICAgICAgICAgbGV0IHlDb29yZGluYXRlID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSk7XHJcbiAgICAgICAgICAgICAgICB5MSA9IHlDb29yZGluYXRlO1xyXG4gICAgICAgICAgICAgICAgeTIgPSB5Q29vcmRpbmF0ZTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgeDEgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5KTtcclxuICAgICAgICAgICAgICAgIHgyID0geDEgKyAoc2hpcFtcImxlbmd0aFwiXSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHgyID4gOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHgyID0geDE7XHJcbiAgICAgICAgICAgICAgICAgICAgeDEgPSB4MiAtIChzaGlwW1wibGVuZ3RoXCJdIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGNvbmZsaWN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgdmlhYmxlIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0geDE7IGkgPD0geDI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZFt5MV1baV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25mbGljdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmxpY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCB4Q29vcmRpbmF0ZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpO1xyXG4gICAgICAgICAgICAgICAgeDEgPSB4Q29vcmRpbmF0ZTtcclxuICAgICAgICAgICAgICAgIHgyID0geENvb3JkaW5hdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgeTEgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5KTtcclxuICAgICAgICAgICAgICAgIHkyID0geTEgKyAoc2hpcFtcImxlbmd0aFwiXSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHkyID4gOSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHkyID0geTE7XHJcbiAgICAgICAgICAgICAgICAgICAgeTEgPSB5MiAtIChzaGlwW1wibGVuZ3RoXCJdIC0gMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHZpYWJsZSBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAgICAgbGV0IGNvbmZsaWN0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0geTE7IGkgPD0geTI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChib2FyZFtpXVt4MV0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25mbGljdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoY29uZmxpY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUG9zaXRpb24gc2hpcHMgYW5kIG1hcmsgbmVhcmJ5IHNxdWFyZXMgdG8gcHJldmVudCBpbGxlZ2FsIHNoaXAgcGxhY2VtZW50XHJcbiAgICAgICAgICAgIGF3YWl0IHBvc2l0aW9uU2hpcHMoW3gxLCB4MiwgeTEsIHkyXSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2hpcFtcImRpcmVjdGlvblwiXSA9PT0gXCJob3Jpem9udGFsXCIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB4MTsgaSA8PSB4MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmVhcmJ5U2hpcFNxdWFyZXNIaXQoaSwgeTEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHkxOyBpIDw9IHkyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZWFyYnlTaGlwU3F1YXJlc0hpdCh4MSwgaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29vcmRpbmF0ZXMucHVzaChbeDEsIHgyLCB5MSwgeTJdKTtcclxuICAgICAgICAgICAgdmlhYmxlID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY29vcmRpbmF0ZXNcclxufVxyXG5cclxuZXhwb3J0IHtyYW5kb21pc2V9O1xyXG5cclxuIiwiaW1wb3J0IHsgcmFuZG9taXNlIH0gZnJvbSBcIi4vcmFuZG9taXNlXCI7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVHYW1lUnVsZXNCdXR0b25DbGljaygpIHtcclxuICAgIGNvbnN0IGdhbWVSdWxlc092ZXJsYXkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWUtcnVsZXMtb3ZlcmxheVwiKTtcclxuXHJcbiAgICAgICAgLy8gQm9keSBpcyB1c2VkIHRvIHByZXZlbnQgdGhlIHNjcm9sbCBiYXIgd2hpbHN0IHRoZSBhbmltYXRpb24gdGFrZXMgcGxhY2VcclxuICAgICAgICAvLyBTY3JvbGwgYmFyIGNhdXNlcyB1bndhbnRlZCBtb3ZlbWVudCBvZiBvdGhlciBkaXZzXHJcbiAgICAgICAgY29uc3QgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChnYW1lUnVsZXNPdmVybGF5LnN0eWxlLmRpc3BsYXkgPT09IFwibm9uZVwiKSB7XHJcbiAgICAgICAgICAgIGdhbWVSdWxlc092ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgICAgIGdhbWVSdWxlc092ZXJsYXkuY2xhc3NMaXN0LmFkZChcInJ1bGVzLWxvYWQtaW5cIik7XHJcblxyXG4gICAgICAgICAgICBnYW1lUnVsZXNPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVJ1bGVzT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwicnVsZXMtbG9hZC1pblwiKTtcclxuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcbiAgICAgICAgICAgIGdhbWVSdWxlc092ZXJsYXkuY2xhc3NMaXN0LmFkZChcInJ1bGVzLWxvYWQtb3V0XCIpO1xyXG5cclxuICAgICAgICAgICAgZ2FtZVJ1bGVzT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGdhbWVSdWxlc092ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZShcInJ1bGVzLWxvYWQtb3V0XCIpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVJ1bGVzT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KVxyXG4gICAgICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlSG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25DbGljayhidXR0b24pIHtcclxuICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicGxheWVyMVwiKSkge1xyXG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IChidXR0b24udGV4dENvbnRlbnQgPT09IFwiSE9SSVpPTlRBTFwiID8gXCJWRVJUSUNBTFwiIDogXCJIT1JJWk9OVEFMXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAoYnV0dG9uLnRleHRDb250ZW50ID09PSBcIkhPUklaT05UQUxcIiA/IFwiVkVSVElDQUxcIiA6IFwiSE9SSVpPTlRBTFwiKTtcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVVbmRvQnV0dG9uQ2xpY2soYnV0dG9uLCBwbGF5ZXIxLCBwbGF5ZXIyKSB7XHJcbiAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcInBsYXllcjFcIikpIHsgXHJcbiAgICAgICAgcGxheWVyMS5yZW1vdmVMYXN0U2hpcCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXIyLnJlbW92ZUxhc3RTaGlwKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIERlZmluZSBhbiBhc3luYyBmdW5jdGlvbiB0byB1c2UgYXdhaXRcclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmFuZG9taXNlQnV0dG9uQ2xpY2soYnV0dG9uLCBwbGF5ZXIxLCBwbGF5ZXIyKSB7XHJcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IGF3YWl0IHJhbmRvbWlzZSgpOyAvLyBXYWl0IGZvciByYW5kb21pc2UoKSB0byByZXNvbHZlXHJcbiAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcInBsYXllcjFcIikpIHtcclxuICAgICAgICBwbGF5ZXIxLnJlc2V0R3JpZCgpXHJcbiAgICAgICAgcGxheWVyMS5wb3NpdGlvblNoaXBzKGNvb3JkaW5hdGVzKTtcclxuICAgICAgICBwbGF5ZXIxLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcbiAgICAgICAgcGxheWVyMS50b2dnbGVTaGlwc0ludmlzaWJsZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXIyLnJlc2V0R3JpZCgpXHJcbiAgICAgICAgcGxheWVyMi5wb3NpdGlvblNoaXBzKGNvb3JkaW5hdGVzKTtcclxuICAgICAgICBwbGF5ZXIyLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcbiAgICAgICAgcGxheWVyMi50b2dnbGVTaGlwc0ludmlzaWJsZSgpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVSZXNldEJ1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMikge1xyXG4gICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwbGF5ZXIxXCIpKSB7XHJcbiAgICAgICAgcGxheWVyMS5yZXNldEdyaWQoKTtcclxuICAgICAgICBwbGF5ZXIxLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcbiAgICAgICAgcGxheWVyMS5yZXNldFNoaXBzKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllcjIucmVzZXRHcmlkKCk7XHJcbiAgICAgICAgcGxheWVyMi5idWlsZEhUTUxHcmlkKHRydWUpO1xyXG4gICAgICAgIHBsYXllcjIucmVzZXRTaGlwcygpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29uZmlybUJ0bkNsaWNrKHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIGlmIChwbGF5ZXIyLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgIGF3YWl0IHNpbmdsZVBsYXllckNvbmZpcm1CdG4ocGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IG11bHRpUGxheWVyQ29uZmlybUJ0bihwbGF5ZXIxLCBwbGF5ZXIyKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2luZ2xlUGxheWVyQ29uZmlybUJ0bihwbGF5ZXIxLCBwbGF5ZXIyKSB7XHJcbiAgICBjb25zdCBwbGF5ZXIxQ29uZmlybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyMS5jb25maXJtLWJ0blwiKTtcclxuICAgIGxldCByZXNvbHZlUHJvbWlzZTtcclxuXHJcbiAgICBjb25zdCBtb3ZlT25Qcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xyXG4gICAgICAgIHBsYXllcjFDb25maXJtQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENhbGxpbmcgYWxsU2hpcHNQbGFjZWQgY2hlY2tzIGlmIHRoZSBnYW1lIGlzIHJlYWR5IHRvIGJlIHByb2dyZXNzZWQgdG8gbmV4dCBzdGFnZVxyXG4gICAgICAgICAgICBpZiAocGxheWVyMS5hbGxTaGlwc1BsYWNlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxLnByb2dyZXNzRnJvbVNoaXBQbGFjZW1lbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyLnJlbW92ZUJ1dHRvbnMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VPdmVybGF5c1RvKFwicGFydGlhbGx5LXRyYW5zcGFyZW50XCIsIHRydWUpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJDb25maXJtQnV0dG9uRXJyb3IocGxheWVyMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICByZXR1cm4gbW92ZU9uUHJvbWlzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gbXVsdGlQbGF5ZXJDb25maXJtQnRuKHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIC8vIENoYW5nZSB0aGUgb3ZlcmxheSBjb2xvdXIgZm9yIHNoaXAgcGxhY2VtZW50IHJ1bGVzXHJcbiAgICBjaGFuZ2VPdmVybGF5c1RvKFwiYmx1ZVwiKTtcclxuXHJcbiAgICBjb25zdCBwbGF5ZXIxQ29uZmlybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyMS5jb25maXJtLWJ0blwiKTtcclxuXHJcbiAgICBwbGF5ZXIxQ29uZmlybUJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIENhbGxpbmcgYWxsU2hpcHNQbGFjZWQgY2hlY2tzIGlmIHRoZSBnYW1lIGlzIHJlYWR5IHRvIGJlIHByb2dyZXNzZWQgdG8gbmV4dCBzdGFnZVxyXG4gICAgICAgIGlmIChwbGF5ZXIxLmFsbFNoaXBzUGxhY2VkKCkpIHtcclxuICAgICAgICAgICAgcGxheWVyMS5wcm9ncmVzc0Zyb21TaGlwUGxhY2VtZW50KFwicGxheWVyMlR1cm5TdGFydFwiKVxyXG5cclxuICAgICAgICAgICAgcGxheWVyMi51cGRhdGVUdXJuVGV4dChgJHtwbGF5ZXIyLm1vbmlrZXJ9IDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgZ3JlZW5cIj5QTEFDRSBZT1VSIFNISVBTPC9zcGFuPmApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRyaWdnZXJDb25maXJtQnV0dG9uRXJyb3IocGxheWVyMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBsYXllcjJDb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIyLmNvbmZpcm0tYnRuXCIpO1xyXG4gICAgbGV0IHJlc29sdmVQcm9taXNlOyAvLyBEZWNsYXJlIGEgdmFyaWFibGUgdG8gc3RvcmUgdGhlIHJlc29sdmUgZnVuY3Rpb25cclxuICAgIFxyXG4gICAgY29uc3QgbW92ZU9uUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIC8vIEFzc2lnbiB0aGUgcmVzb2x2ZSBmdW5jdGlvbiB0byB0aGUgdmFyaWFibGVcclxuICAgICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcGxheWVyMkNvbmZpcm1CdG4ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gQ2FsbGluZyBhbGxTaGlwc1BsYWNlZCBjaGVja3MgaWYgdGhlIGdhbWUgaXMgcmVhZHkgdG8gYmUgcHJvZ3Jlc3NlZCB0byBuZXh0IHN0YWdlXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIyLmFsbFNoaXBzUGxhY2VkKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcjIucHJvZ3Jlc3NGcm9tU2hpcFBsYWNlbWVudChcInBsYXllcjJUdXJuRmluaXNoXCIpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJldmVydCBvdmVybGF5IGNvbG91ciBiYWNrIHRvIG9yaWdpbmFsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VPdmVybGF5c1RvKFwicGFydGlhbGx5LXRyYW5zcGFyZW50XCIpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHdoZW4gdGhlIHBsYXllciAyIGNvbmZpcm1hdGlvbiBidXR0b24gaXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNvbmZpcm1CdXR0b25FcnJvcihwbGF5ZXIyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAvLyBSZXR1cm4gdGhlIHByb21pc2VcclxuICAgIHJldHVybiBtb3ZlT25Qcm9taXNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0cmlnZ2VyQ29uZmlybUJ1dHRvbkVycm9yKHBsYXllcikge1xyXG4gICAgY29uc3QgY29uZmlybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3BsYXllci5uYW1lfS5jb25maXJtLWJ0bmApO1xyXG4gICAgY29uZmlybUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVuaWVkXCIpO1xyXG5cclxuICAgIGNvbmZpcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgY29uZmlybUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGVuaWVkXCIpO1xyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlT3ZlcmxheXNUbyhjb2xvdXIsIGNvbXB1dGVyPWZhbHNlKSB7XHJcbiAgICBsZXQgcGxheWVyT3ZlcmxheXM7XHJcbiAgICBpZiAoY29tcHV0ZXIpIHtcclxuICAgICAgICBwbGF5ZXJPdmVybGF5cyA9IFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcGxheWVyMUdyaWRPdmVybGF5YCksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjb21wdXRlckdyaWRPdmVybGF5YCldO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXJPdmVybGF5cyA9IFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcGxheWVyMUdyaWRPdmVybGF5YCksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGF5ZXIyR3JpZE92ZXJsYXlgKV07XHJcbiAgICB9XHJcbiAgICBpZiAoY29sb3VyID09PSBcImJsdWVcIikge1xyXG4gICAgICAgIHBsYXllck92ZXJsYXlzLmZvckVhY2gob3ZlcmxheSA9PiB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNzMsIDExMCwgMjM1KVwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChjb2xvdXIgPT09IFwicGFydGlhbGx5LXRyYW5zcGFyZW50XCIpIHtcclxuICAgICAgICBwbGF5ZXJPdmVybGF5cy5mb3JFYWNoKG92ZXJsYXkgPT4ge1xyXG4gICAgICAgICAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgwLCAwLCAwLCAwLjUpXCI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVTaGlwc0NvbnRhaW5lcihoaWRlLCBwbGF5ZXJOYW1lKSB7XHJcbiAgICBjb25zdCBzaGlwc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3BsYXllck5hbWV9LWdyaWQtY29udGFpbmVyID4gLnNoaXBzLWNvbnRhaW5lcmApO1xyXG4gICAgaWYgKGhpZGUpIHtcclxuICAgICAgICBzaGlwc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNoaXBzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgaGFuZGxlR2FtZVJ1bGVzQnV0dG9uQ2xpY2ssIGhhbmRsZUhvcml6b250YWxPclZlcnRpY2FsQnV0dG9uQ2xpY2ssIGhhbmRsZVVuZG9CdXR0b25DbGljaywgaGFuZGxlUmFuZG9taXNlQnV0dG9uQ2xpY2ssIGhhbmRsZVJlc2V0QnV0dG9uQ2xpY2ssIGhhbmRsZUNvbmZpcm1CdG5DbGljaywgaGlkZVNoaXBzQ29udGFpbmVyLCBjaGFuZ2VPdmVybGF5c1RvIH1cclxuIiwiaW1wb3J0IFwiLi9zdHlsZXMuY3NzXCJcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSBcIi4vY2xhc3NDcmVhdG9yXCI7XHJcbmltcG9ydCB7IGdvZXNGaXJzdCwgcGxheWVyT3JDb21wdXRlciB9IGZyb20gXCIuL3BsYXllclNlbGVjdGlvblwiO1xyXG5pbXBvcnQgeyBoYW5kbGVHYW1lUnVsZXNCdXR0b25DbGljaywgaGFuZGxlVW5kb0J1dHRvbkNsaWNrLCBoYW5kbGVSYW5kb21pc2VCdXR0b25DbGljaywgaGFuZGxlUmVzZXRCdXR0b25DbGljaywgaGFuZGxlQ29uZmlybUJ0bkNsaWNrLCBjaGFuZ2VPdmVybGF5c1RvLCBoYW5kbGVIb3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbkNsaWNrIH0gZnJvbSBcIi4vYnV0dG9uTG9naWNcIjtcclxuaW1wb3J0IHsgcmFuZG9taXNlIH0gZnJvbSBcIi4vcmFuZG9taXNlXCI7XHJcblxyXG5sZXQgcGxheWVyMVdpbm5pbmdDb3VudGVyID0gbnVsbDtcclxubGV0IHBsYXllcjJXaW5uaW5nQ291bnRlciA9IG51bGw7XHJcbmxldCBvcHBvbmVudCA9IG51bGw7XHJcbmxldCBwbGF5ZXIxTW9uaWtlciA9IG51bGw7XHJcbmxldCBwbGF5ZXIyTW9uaWtlciA9IG51bGw7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXNlR2FtZSgpIHtcclxuXHJcbiAgICAvLyBXRUxDT01FIFNUQUdFXHJcbiAgICBpZiAob3Bwb25lbnQgPT09IG51bGwpIHtcclxuICAgICAgICBjb25zdCB7IGNob3NlblBsYXllcjIsIHBsYXllcjFNb25pa2VyVmFsdWUsIHBsYXllcjJNb25pa2VyVmFsdWUgfSA9IGF3YWl0IHBsYXllck9yQ29tcHV0ZXIoKTtcclxuICAgICAgICBvcHBvbmVudCA9IGNob3NlblBsYXllcjIgPT09IFwicGxheWVyXCIgPyBcInBsYXllcjJcIiA6IFwiY29tcHV0ZXJcIjtcclxuICAgICAgICBwbGF5ZXIxTW9uaWtlciA9IHBsYXllcjFNb25pa2VyVmFsdWU7XHJcbiAgICAgICAgcGxheWVyMk1vbmlrZXIgPSBwbGF5ZXIyTW9uaWtlclZhbHVlO1xyXG5cclxuICAgICAgICBwbGF5ZXIxV2lubmluZ0NvdW50ZXIgPSAwO1xyXG4gICAgICAgIHBsYXllcjJXaW5uaW5nQ291bnRlciA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc2V0SFRNTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJzXCIpO1xyXG5cclxuICAgICAgICByZXNldEhUTUwuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJbml0aWFsaXNpbmcgdGhlIHBsYXllciBjbGFzc2VzXHJcbiAgICBjb25zdCBwbGF5ZXIxID0gUGxheWVyKCk7XHJcbiAgICBwbGF5ZXIxLm5hbWUgPSBcInBsYXllcjFcIjtcclxuICAgIHBsYXllcjEubW9uaWtlciA9IHBsYXllcjFNb25pa2VyO1xyXG5cclxuICAgIGNvbnN0IHBsYXllcjIgPSBQbGF5ZXIoKTtcclxuICAgIHBsYXllcjIubmFtZSA9IGAke29wcG9uZW50fWA7XHJcbiAgICBwbGF5ZXIyLm1vbmlrZXIgPSBwbGF5ZXIyTW9uaWtlcjtcclxuICAgIFxyXG4gICAgcGxheWVyMS5vcHBvbmVudCA9IHBsYXllcjI7XHJcbiAgICBwbGF5ZXIyLm9wcG9uZW50ID0gcGxheWVyMTtcclxuXHJcbiAgICBwbGF5ZXIxLndpbm5pbmdDb3VudGVyID0gcGxheWVyMVdpbm5pbmdDb3VudGVyO1xyXG4gICAgcGxheWVyMi53aW5uaW5nQ291bnRlciA9IHBsYXllcjJXaW5uaW5nQ291bnRlcjtcclxuXHJcbiAgICBwbGF5ZXIxLmJ1aWxkSFRNTERpdkNvbnRhaW5lcnMoKTtcclxuICAgIHBsYXllcjIuYnVpbGRIVE1MRGl2Q29udGFpbmVycygpO1xyXG5cclxuICAgIC8vIFNISVAgUE9TSVRJT04gU1RBR0VcclxuICAgIHBsYXllcjEudXBkYXRlVHVyblRleHQoYCR7cGxheWVyMS5tb25pa2VyfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIGdyZWVuXCI+UExBQ0UgWU9VUiBTSElQUzwvc3Bhbj5gKTtcclxuXHJcbiAgICBwbGF5ZXIxLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcbiAgICBwbGF5ZXIxLmJ1aWxkU2hpcHMoKTtcclxuICAgIHBsYXllcjEuYXBwbHlEcmFnZ2FibGVTaGlwcygpO1xyXG5cclxuICAgIC8vIEFzIHBsYXllcjEgd2lsbCBhbHdheXMgcG9zaXRpb24gc2hpcHMgZmlyc3RcclxuICAgIHBsYXllcjIuYnVpbGRSdWxlcygpO1xyXG5cclxuICAgIHBsYXllcjEuYnVpbGRCdXR0b25Db250YWluZXIoKTtcclxuICAgIC8vIHBsYXllcjIgYnV0dG9uIGNvbnRhaW5lciBhbHdheXMgYnVpbHQgc28gdGhlcmUgaXMgZW5vdWdoIHNwYWNlIGZvciB0aGUgc2hpcCBwbGFjZW1lbnQgcnVsZXNcclxuICAgIHBsYXllcjIuYnVpbGRCdXR0b25Db250YWluZXIoKTtcclxuXHJcbiAgICBpZiAocGxheWVyMi5uYW1lID09PSBcImNvbXB1dGVyXCIpIHsgICAgICAgIFxyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZChmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIENoYW5nZSB0aGUgb3ZlcmxheSBjb2xvdXIgZm9yIHNoaXAgcGxhY2VtZW50IHJ1bGVzLCB0cnVlIHNpZ25hbHMgaXQgaXMgdnMgYSBjb21wdXRlclxyXG4gICAgICAgIGNoYW5nZU92ZXJsYXlzVG8oXCJibHVlXCIsIHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXIyLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2FtZVJ1bGVzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYW1lLXJ1bGVzLWJ0blwiKTtcclxuICAgIGdhbWVSdWxlc0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGhhbmRsZUdhbWVSdWxlc0J1dHRvbkNsaWNrKCk7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEF0dGFjaCBsb2dpYyB0byBlYWNoIGJ1dHRvbiAoSG9yaXpvbnRhbE9yVmVydGljYWwsIFJhbmRvbWlzZSwgUmVzZXQsIENvbmZpcm0pIGZvciBwb3NpdGlvbmluZyBzdGFnZVxyXG4gICAgLy8gVXNlIGEgZm9yLi4ub2YgbG9vcCB0byBpdGVyYXRlIG92ZXIgdGhlIGJ1dHRvbnMgXHJcbiAgICBjb25zdCBob3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhvcml6b250YWwtb3ItdmVydGljYWwtYnRuXCIpO1xyXG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgaG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25zKSB7XHJcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVIb3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbkNsaWNrKGJ1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgdW5kb0J1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnVuZG8tYnRuXCIpO1xyXG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgdW5kb0J1dHRvbnMpIHtcclxuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IGhhbmRsZVVuZG9CdXR0b25DbGljayhidXR0b24sIHBsYXllcjEsIHBsYXllcjIpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcmFuZG9taXNlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmFuZG9taXNlLWJ0blwiKTtcclxuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHJhbmRvbWlzZUJ1dHRvbnMpIHtcclxuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IGhhbmRsZVJhbmRvbWlzZUJ1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0IHJlc2V0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVzZXQtYnRuXCIpO1xyXG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgcmVzZXRCdXR0b25zKSB7XHJcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVSZXNldEJ1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2FtZSBkb2VzIG5vdCBwcm9ncmVzcyB1bnRpbCBoYW5kbGVDb25maXJtQnRuQ2xpY2sgaXMgZnVmaWxsZWRcclxuICAgIGF3YWl0IGhhbmRsZUNvbmZpcm1CdG5DbGljayhwbGF5ZXIxLCBwbGF5ZXIyKTtcclxuXHJcbiAgICAvLyBTdGFydGluZyB0aGUgZ2FtZVxyXG4gICAgLy8gR0FNRVBMQVkgU1RBR0VcclxuICAgIC8vIEZvciB0dXJuIHdpdGggY29tcHV0ZXIgSSBvbmx5IHJlZ2lzdGVyIHRoZSBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGNvbXB1dGVyIHNxdWFyZXNcclxuICAgIGlmIChwbGF5ZXIyLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgIC8vIFJlc2V0dGluZyBIVE1MIEdyaWQncyB0byByZW1vdmUgdGhlIGV2ZW50TGlzdGVuZXJzIGZvciBwbGFjaW5nIHNoaXBzXHJcbiAgICAgICAgLy8gTmVjZXNzYXJ5IGFzIEhUTUxHcmlkIG5lZWRlZCB0byBiZSBidWlsdCB0byBzaG93IHRoZSBydWxlc1xyXG4gICAgICAgIHBsYXllcjIucmVzZXRHcmlkKCkgICBcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZW5lcmF0ZSBwb3NpdGlvbiBvZiBjb21wdXRlcidzIHNoaXBzXHJcbiAgICAgICAgcGxheWVyMi5nZW5lcmF0ZUNvbXB1dGVyR3Vlc3NlcygpO1xyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVyQ29vcmRpbmF0ZXMgPSBhd2FpdCByYW5kb21pc2UoKTtcclxuICAgICAgICBwbGF5ZXIyLnBvc2l0aW9uU2hpcHMoY29tcHV0ZXJDb29yZGluYXRlcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZmFsc2UgaGlkZSdzIHRoZSBzaGlwcyBmcm9tIHVzZXIgdmlld1xyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZChmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJlc2V0dGluZyBIVE1MIEdyaWQncyB0byByZW1vdmUgdGhlIGV2ZW50TGlzdGVuZXJzIGZvciBwbGFjaW5nIHNoaXBzXHJcbiAgICAgICAgcGxheWVyMS5yZXNldEhUTUxHcmlkKCk7XHJcbiAgICAgICAgcGxheWVyMS5idWlsZEhUTUxHcmlkKCk7XHJcblxyXG4gICAgICAgIHBsYXllcjIucmVzZXRIVE1MR3JpZCgpO1xyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZCgpO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RlciBldmVudCBsaXN0ZW5lcnMgb24gYm90aCBncmlkc1xyXG4gICAgICAgIHBsYXllcjEucmVnaXN0ZXJHcmlkRGl2RXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwbGF5ZXIxLmJ1aWxkU2hpcHMoKTtcclxuICAgIHBsYXllcjIuYnVpbGRTaGlwcygpO1xyXG5cclxuICAgIHBsYXllcjIucmVnaXN0ZXJHcmlkRGl2RXZlbnRMaXN0ZW5lcigpO1xyXG5cclxuICAgIC8vIERldGVybWluZXMgd2hvIGdvZXMgZmlyc3RcclxuICAgIGxldCB0dXJuID0gZ29lc0ZpcnN0KFtwbGF5ZXIxLCBwbGF5ZXIyXSk7XHJcbiAgICB0dXJuLnNob3dPdmVybGF5KHRydWUpO1xyXG5cclxuICAgIGlmICh0dXJuLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ09NUFVURVIgR1VFU1NFRCBGSVJTVFwiKVxyXG4gICAgICAgIHBsYXllcjIuY29tcHV0ZXJHdWVzcygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSZXNldCB0aGUgZ2FtZSAtIE9OTFkgVklTVUFMSVNFUyBXSEVOIEdBTUUgSVMgRklOSVNIRURcclxuICAgIGNvbnN0IHJlc2V0V2hvbGVHYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXNldC1idG5cIik7XHJcbiAgICByZXNldFdob2xlR2FtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIG9wcG9uZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUVuZGluZ092ZXJsYXlcIik7XHJcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc2V0SFRNTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJzXCIpO1xyXG5cclxuICAgICAgICByZXNldEhUTUwuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICAgICAgcGxheWVyMS5yZXNldFNoaXBzQXJyYXkoKTtcclxuICAgICAgICBwbGF5ZXIyLnJlc2V0U2hpcHNBcnJheSgpO1xyXG5cclxuICAgICAgICBpbml0aWFsaXNlR2FtZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgcmVmcmVzaEdhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlZnJlc2gtYnRuXCIpO1xyXG4gICAgcmVmcmVzaEdhbWUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBwbGF5ZXIxV2lubmluZ0NvdW50ZXIgPSBwbGF5ZXIxLndpbm5pbmdDb3VudGVyO1xyXG4gICAgICAgIHBsYXllcjJXaW5uaW5nQ291bnRlciA9IHBsYXllcjIud2lubmluZ0NvdW50ZXI7XHJcblxyXG4gICAgICAgIGNvbnN0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdhbWVFbmRpbmdPdmVybGF5XCIpO1xyXG4gICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICBjb25zdCByZXNldEhUTUwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdyaWQtY29udGFpbmVyc1wiKTtcclxuXHJcbiAgICAgICAgcmVzZXRIVE1MLmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgIHBsYXllcjEucmVzZXRTaGlwc0FycmF5KCk7XHJcbiAgICAgICAgcGxheWVyMi5yZXNldFNoaXBzQXJyYXkoKTtcclxuICAgICAgICAgXHJcbiAgICAgICAgaW5pdGlhbGlzZUdhbWUoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5pbml0aWFsaXNlR2FtZSgpO1xyXG4iLCJpbXBvcnQgeyB1cGRhdGVQbGF5ZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlLCB1cGRhdGVNb25pa2VyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSB9IGZyb20gXCIuL2Rpc3RhbmNlXCI7XHJcblxyXG5mdW5jdGlvbiBnb2VzRmlyc3QocGxheWVycykge1xyXG4gICAgbGV0IG51bWJlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICBsZXQgaW5kZXggPSBNYXRoLnJvdW5kKG51bWJlcik7XHJcbiAgICBsZXQgZmlyc3QgPSBwbGF5ZXJzW2luZGV4XS5tb25pa2VyO1xyXG5cclxuICAgIGNvbnN0IHR1cm5EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnR1cm4tdGV4dFwiKTtcclxuICAgIHR1cm5EaXYudGV4dENvbnRlbnQgPSBgJHtmaXJzdC50b1VwcGVyQ2FzZSgpfSBHT0VTIEZJUlNUYDtcclxuICAgIFxyXG4gICAgcmV0dXJuIHBsYXllcnNbaW5kZXhdO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVGaXJzdFBsYXllclRleHQobmFtZSkge1xyXG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5hbWUgKyBcIkdyaWRcIilcclxuICAgIGNvbnN0IGdyaWREaXZzID0gZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKTtcclxuICAgIGdyaWREaXZzLmZvckVhY2goKGdyaWREaXYpID0+IHtcclxuICAgICAgICBncmlkRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cm5UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50dXJuLXRleHRcIik7XHJcbiAgICAgICAgICAgIGlmICh0dXJuVGV4dC50ZXh0Q29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgdHVyblRleHQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXllck9yQ29tcHV0ZXIoKSB7XHJcbiAgICAvLyBUdXJuIG9uIG92ZXJhbGwgb3ZlcmxheVxyXG4gICAgY29uc3QgZ3JpZE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJhbGxPdmVybGF5XCIpO1xyXG4gICAgZ3JpZE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgZGl2IGVsZW1lbnQgdG8gaG9sZCB0aGUgcGxheWVyLXNlbGVjdGlvbiBIVE1MIGNvbnRlbnRcclxuICAgIGNvbnN0IGNlbnRlcmVkQ29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGNlbnRlcmVkQ29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoXCJjZW50ZXJlZC1jb250YWluZXJcIik7XHJcblxyXG4gICAgLy8gQWRkIHRoZSBpbm5lciBIVE1MIGNvbnRlbnQgZm9yIHRoZSBwbGF5ZXItc2VsZWN0aW9uIGRpdlxyXG4gICAgY2VudGVyZWRDb250YWluZXJEaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxoMSBjbGFzcz1cIndlbGNvbWUtdGl0bGVcIj5XRUxDT01FIFRPIEJBVFRMRVNISVBTOjwvaDE+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBsYXllci1zZWxlY3Rpb25cIj5cclxuICAgICAgICAgICAgPGgzPlBMQVlFUjwvaDM+XHJcbiAgICAgICAgICAgIDxoMz5WUzwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwbGF5ZXItc2VsZWN0aW9uLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBsYXllci0yLWJ0bi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicGxheWVyLTItYnRuXCI+UExBWUVSPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21wdXRlci1idG4tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvbXB1dGVyLWJ0blwiPkNPTVBVVEVSPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb25maXJtLXBsYXllci1vci1jb21wdXRlci1idG4tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuXCI+Q09ORklSTTwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBsYXllci1zZWxlY3Rpb24tb3ZlcmxheVwiPjwvZGl2PiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtb25pa2VyLXNlbGVjdGlvblwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGxheWVyMS1tb25pa2VyLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJwbGF5ZXIxLW1vbmlrZXItdGV4dFwiIHBsYWNlaG9sZGVyPVwiUExBWUVSMVwiIHZhbHVlPVwiUExBWUVSMVwiIHNpemU9XCIxMFwiIG1heGxlbmd0aD1cIjE1XCI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aDM+VlM8L2gzPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGxheWVyMi1tb25pa2VyLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgY2xhc3M9XCJwbGF5ZXIyLW1vbmlrZXItdGV4dFwiIHBsYWNlaG9sZGVyPVwiUExBWUVSMlwiIHZhbHVlPVwiUExBWUVSMlwiIHNpemU9XCIxMFwiIG1heGxlbmd0aD1cIjE1XCI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8aDMgY2xhc3M9XCJwbGF5ZXIyLW5hbWUtaXMtY29tcHV0ZXJcIj5DT01QVVRFUjwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb25pa2VyLWJ0bnMtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29uZmlybS1tb25pa2VyLWJ0bi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY29uZmlybS1tb25pa2VyLWJ0blwiPkNPTkZJUk08L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJhY2stYnRuLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJiYWNrLWJ0blwiPkJBQ0s8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ2FtZS1ydWxlcy1vdmVybGF5XCIgaWQ9XCJnYW1lUnVsZXNPdmVybGF5XCI+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cImdhbWUtcnVsZXMtdGl0bGVcIj5HQU1FIFJVTEVTPC9oMz5cclxuICAgICAgICAgICAgPHA+VHJ5IGFuZCB3b3JrIG91dCB3aGVyZSB0aGUgZW5lbXkgc2hpcHMgYXJlIGFuZCBzaW5rIHRoZW0gZmlyc3QhPC9wPlxyXG4gICAgICAgICAgICA8cD5FYWNoIHBsYXllciBwbGFjZXMgdGhlaXIgc2hpcHMsIGJldHdlZW4gMSB0byA0IHNxdWFyZXMgaW4gc2l6ZSwgc2VjcmV0bHkgb24gdGhlaXIgZ2FtZWJvYXJkLjwvcD5cclxuICAgICAgICAgICAgPHA+UGxheWVycyB0YWtlIHR1cm5zIHNob290aW5nIGF0IHRoZSBvcHBvbmVudHMgZ3JpZCdzIGJ5IGNsaWNraW5nIG9uIGEgc3F1YXJlIHRvIGEgcmVzcG9uc2Ugb2YgXCJISVRcIiwgXCJNSVNTXCIgb3IgXCJTVU5LXCIuPC9wPlxyXG4gICAgICAgICAgICA8cD5GaXJzdCBwbGF5ZXIgdG8gc2luayBhbGwgb2YgdGhlaXIgb3Bwb25lbnQncyBzaGlwcyB3aW5zISBHb29kIEx1Y2shPC9wPlxyXG5cclxuICAgICAgICAgICAgPHA+UGxheWVyIHZzIFBsYXllciBpcyBsb2NhbCBwbGF5IHdoaWNoIG1lYW5zIHRoZSBzY3JlZW4gaXMgc2hhcmVkPlxyXG4gICAgICAgICAgICA8cD5Mb2NhbCBwbGF5IHJlcXVpcmVzIHRoZSBvcHBvbmVudCB0byBub3QgbG9vayBhdCB0aGUgc2NyZWVuIHdoaWxzdCB0aGUgb3RoZXIgcGxheWVyIGlzIHBvc2l0aW9uaW5nIHRoZWlyIHNoaXBzITwvcD5cclxuXHJcbiAgICAgICAgICAgIDxwPlRJUDogV2F0Y2ggdGhlIGdhbWUgdHJhY2tlciBiZW5lYXRoIHRoZSB0aXRsZSBpZiB5b3UgZ2V0IGxvc3Q8L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAvLyBBcHBlbmQgdGhlIHBsYXllci1zZWxlY3Rpb24gZGl2IHRvIHRoZSBncmlkLW92ZXJsYXkgZGl2XHJcbiAgICBncmlkT3ZlcmxheS5hcHBlbmRDaGlsZChjZW50ZXJlZENvbnRhaW5lckRpdik7XHJcblxyXG4gICAgLy8gQ29kZSB0byBhcHByb3ByaWF0ZWx5IHBvc2l0aW9uIHRoZSBjb25maXJtIGJ1dHRvbnNcclxuICAgIHVwZGF0ZVBsYXllclNlbGVjdGlvbkRpc3RhbmNlVmFyaWFibGUoKTtcclxuXHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlUGxheWVyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVNb25pa2VyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSk7XHJcblxyXG4gICAgLy8gVmFyaWFibGUgdG8gaG9sZCB0aGUgY2hvc2VuIHBsYXllclxyXG4gICAgbGV0IGNob3NlblBsYXllcjIgPSBudWxsO1xyXG5cclxuICAgIC8vIEJvZHkgaXMgdXNlZCB0byBwcmV2ZW50IHRoZSBzY3JvbGwgYmFyIHdoaWxzdCB0aGUgYW5pbWF0aW9uIHRha2VzIHBsYWNlXHJcbiAgICAvLyBTY3JvbGwgYmFyIGNhdXNlcyB1bndhbnRlZCBtb3ZlbWVudCBvZiBvdGhlciBkaXZzXHJcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XHJcblxyXG4gICAgLy8gRWxlbWVudHMgb2J0YWluZWQgdG8gZGlzcGxheSBjb3JyZWN0IGRpdiBkZXBlbmRpbmcgb24gcGxheWVyIHNlbGVjdGlvbiBzdGFnZVxyXG4gICAgY29uc3QgcGxheWVyU2VsZWN0aW9uRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItc2VsZWN0aW9uXCIpO1xyXG4gICAgY29uc3QgbW9uaWtlclNlbGVjdGlvbkRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9uaWtlci1zZWxlY3Rpb25cIik7XHJcblxyXG4gICAgLy8gUGxheWVyMiBzZWxlY3Rpb24gYnV0dG9uc1xyXG4gICAgY29uc3QgcGxheWVyMkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyLTItYnRuXCIpO1xyXG4gICAgY29uc3QgY29tcHV0ZXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbXB1dGVyLWJ0blwiKTtcclxuXHJcbiAgICAvLyBPYnRhaW4gbW9uaWtlciB0ZXh0IGlucHV0IGVsZW1lbnRzXHJcbiAgICBjb25zdCBwbGF5ZXIxTW9uaWtlclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllcjEtbW9uaWtlci10ZXh0XCIpO1xyXG4gICAgY29uc3QgcGxheWVyMk1vbmlrZXJUZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIyLW1vbmlrZXItdGV4dFwiKTtcclxuICAgIGNvbnN0IHBsYXllcjJOYW1lSXNDb21wdXRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyMi1uYW1lLWlzLWNvbXB1dGVyXCIpO1xyXG5cclxuICAgIC8vIFZhcmlhYmxlcyB0byBob2xkIG1vbmlrZXIgdGV4dCB2YWx1ZXNcclxuICAgIGxldCBwbGF5ZXIxTW9uaWtlclZhbHVlID0gXCJQTEFZRVIxXCI7XHJcbiAgICBsZXQgcGxheWVyMk1vbmlrZXJWYWx1ZSA9IFwiUExBWUVSMlwiO1xyXG4gICAgXHJcbiAgICAvLyBGdW5jdGlvbnMgdG8gdXBkYXRlIGFuZCBkaXNwbGF5IHRoZSBzZWxlY3RlZCBwbGF5ZXJcclxuICAgIHBsYXllcjJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICBjaG9zZW5QbGF5ZXIyID0gXCJwbGF5ZXJcIjtcclxuICAgICAgICBwbGF5ZXIyQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWdobGlnaHRlZFwiLCBcImdyZWVuXCIpO1xyXG4gICAgICAgIGNvbXB1dGVyQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWdobGlnaHRlZFwiLCBcImdyZWVuXCIpO1xyXG4gICAgfSlcclxuXHJcbiAgICBjb21wdXRlckJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNob3NlblBsYXllcjIgPSBcImNvbXB1dGVyXCI7XHJcbiAgICAgICAgY29tcHV0ZXJCdG4uY2xhc3NMaXN0LmFkZChcImhpZ2hsaWdodGVkXCIsIFwiZ3JlZW5cIik7XHJcbiAgICAgICAgcGxheWVyMkJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0ZWRcIiwgXCJncmVlblwiKTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8gUHJvZ3Jlc3NlcyBwbGF5ZXIgdG8gaW5wdXQgYSBuYW1lIChtb25pa2VyKVxyXG4gICAgY29uc3QgY2hvc2VuUGxheWVyQ29uZmlybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuXCIpO1xyXG4gICAgY2hvc2VuUGxheWVyQ29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGlmIChjaG9zZW5QbGF5ZXIyKSB7XHJcbiAgICAgICAgICAgIGlmIChjaG9zZW5QbGF5ZXIyID09PSBcImNvbXB1dGVyXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIE1ha2UgaW50ZXJuYWwgZXF1YWwgY29tcHV0ZXJcclxuICAgICAgICAgICAgICAgIHBsYXllcjJNb25pa2VyVGV4dC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyTW9uaWtlclZhbHVlID0gXCJDT01QVVRFUlwiO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMk5hbWVJc0NvbXB1dGVyLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyTmFtZUlzQ29tcHV0ZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMk1vbmlrZXJUZXh0LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyTW9uaWtlclZhbHVlID0gcGxheWVyMk1vbmlrZXJUZXh0LnZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBUcmlnZ2VyIGFuaW1hdGlvbiB0byB0aGUgbmV4dCBzdGFnZSAobW9uaWtlci1zZWxlY3Rpb24pXHJcbiAgICAgICAgICAgIHBsYXllclNlbGVjdGlvbkRpdi5jbGFzc0xpc3QuYWRkKFwicGxheWVyLXNlbGVjdGlvbi1sZWF2ZVwiKTtcclxuICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgICAgICBwbGF5ZXJTZWxlY3Rpb25EaXYuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJTZWxlY3Rpb25EaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyU2VsZWN0aW9uRGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJwbGF5ZXItc2VsZWN0aW9uLWxlYXZlXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIG1vbmlrZXJTZWxlY3Rpb25EaXYuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENhbGxlZCBoZXJlIGFzIHRoZSBtb25pa2VyU2VsZWN0aW9uRGl2IGhhcyBhIGxlZnRPZmZzZXRcclxuICAgICAgICAgICAgICAgIHVwZGF0ZU1vbmlrZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlKCk7XHJcbiAgICAgICAgICAgICAgICBtb25pa2VyU2VsZWN0aW9uRGl2LmNsYXNzTGlzdC5hZGQoXCJtb25pa2VyLXNlbGVjdGlvbi1lbnRlclwiKTtcclxuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAgICAgbW9uaWtlclNlbGVjdGlvbkRpdi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vbmlrZXJTZWxlY3Rpb25EaXYuY2xhc3NMaXN0LnJlbW92ZShcIm1vbmlrZXItc2VsZWN0aW9uLWVudGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hvc2VuUGxheWVyQ29uZmlybUJ0bi5jbGFzc0xpc3QuYWRkKFwiZGVuaWVkXCIpO1xyXG5cclxuICAgICAgICAgICAgY2hvc2VuUGxheWVyQ29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNob3NlblBsYXllckNvbmZpcm1CdG4uY2xhc3NMaXN0LnJlbW92ZShcImRlbmllZFwiKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEV2ZW50IGxpc3RuZXJzIHRvIHVwZGF0ZSB0aGUgc3RvcmVkIG1vbmlrZXIgdmFsdWUgd2hlbiB0aGUgaW5wdXQgY2hhbmdlc1xyXG4gICAgcGxheWVyMU1vbmlrZXJUZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgICBwbGF5ZXIxTW9uaWtlclZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xyXG4gICAgfSlcclxuXHJcbiAgICBwbGF5ZXIyTW9uaWtlclRleHQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIHBsYXllcjJNb25pa2VyVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICB9KVxyXG5cclxuICAgIC8vIEFsbG93cyB1c2VyIHRvIHJlLXNlbGVjdCBhIGRpZmZlcmVudCBvcHBvbmVudCBhZnRlciBsZWF2aW5nIHBsYXllciBzZWxlY3Rpb24gc2NyZWVuXHJcbiAgICBjb25zdCBiYWNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iYWNrLWJ0blwiKTtcclxuICAgIGJhY2tCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAvLyBUcmlnZ2VyIGFuaW1hdGlvbiB0byByZXZlcnQgdG8gcHJldmlvdXMgc3RhZ2UgKHBsYXllci1zZWxlY3Rpb24pXHJcbiAgICAgICAgbW9uaWtlclNlbGVjdGlvbkRpdi5jbGFzc0xpc3QuYWRkKFwibW9uaWtlci1zZWxlY3Rpb24tbGVhdmVcIik7XHJcbiAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIG1vbmlrZXJTZWxlY3Rpb25EaXYuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIG1vbmlrZXJTZWxlY3Rpb25EaXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICBtb25pa2VyU2VsZWN0aW9uRGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJtb25pa2VyLXNlbGVjdGlvbi1sZWF2ZVwiKTtcclxuXHJcbiAgICAgICAgICAgIHBsYXllclNlbGVjdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblxyXG4gICAgICAgICAgICAvLyBDYWxsZWQgaGVyZSBhcyB0aGUgcGxheWVyU2VsZWN0aW9uRGl2IGhhcyBhIGxlZnRPZmZzZXRcclxuICAgICAgICAgICAgdXBkYXRlUGxheWVyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSgpO1xyXG4gICAgICAgICAgICBwbGF5ZXJTZWxlY3Rpb25EaXYuY2xhc3NMaXN0LmFkZChcInBsYXllci1zZWxlY3Rpb24tZW50ZXJcIik7XHJcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBwbGF5ZXJTZWxlY3Rpb25EaXYuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBsYXllclNlbGVjdGlvbkRpdi5jbGFzc0xpc3QucmVtb3ZlKFwicGxheWVyLXNlbGVjdGlvbi1lbnRlclwiKTtcclxuICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8gUHJvbWlzZSBtb3ZlcyB0aGUgcGxheWVyIHRvIHRoZSBuZXh0IHN0YWdlIG9mIHRoZSBnYW1lXHJcbiAgICBjb25zdCBtb25pa2VyQ29uZmlybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29uZmlybS1tb25pa2VyLWJ0blwiKTtcclxuICAgIGNvbnN0IG1vbmlrZXJDb25maXJtUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgIG1vbmlrZXJDb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIxTW9uaWtlclZhbHVlID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxTW9uaWtlclZhbHVlID0gXCJQTEFZRVIxXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHBsYXllcjJNb25pa2VyVmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcjJNb25pa2VyVmFsdWUgPSBjaG9zZW5QbGF5ZXIyID09PSBcImNvbXB1dGVyXCIgPyBcIkNPTVBVVEVSXCIgOiBcIlBMQVlFUjJcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllcjFNb25pa2VyVmFsdWUgPT09IHBsYXllcjJNb25pa2VyVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcjFNb25pa2VyVmFsdWUgPSBwbGF5ZXIxTW9uaWtlclZhbHVlICsgXCIxXCJcclxuICAgICAgICAgICAgICAgIHBsYXllcjJNb25pa2VyVmFsdWUgPSBwbGF5ZXIyTW9uaWtlclZhbHVlICsgXCIyXCJcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmVzb2x2ZSh7IGNob3NlblBsYXllcjIsIHBsYXllcjFNb25pa2VyVmFsdWUsIHBsYXllcjJNb25pa2VyVmFsdWUgfSk7XHJcbiAgICAgICAgICAgIGdyaWRPdmVybGF5LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGdyaWRPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBldmVudCBsaXN0ZW5lcnMgYWZ0ZXIgdGhleSBoYXZlIHNlcnZlZCB0aGVpciBwdXJwb3NlXHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZVBsYXllclNlbGVjdGlvbkRpc3RhbmNlVmFyaWFibGUpO1xyXG4gICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVNb25pa2VyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbW9uaWtlckNvbmZpcm1Qcm9taXNlO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZHVsbFRpdGxlVGV4dChkdWxsKSB7XHJcbiAgICBjb25zdCB0aXRsZVRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiaDFcIilcclxuICAgIGlmIChkdWxsKSB7XHJcbiAgICAgICAgdGl0bGVUZXh0LnN0eWxlLmNvbG9yID0gYmxhY2s7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7IGdvZXNGaXJzdCwgcmVtb3ZlRmlyc3RQbGF5ZXJUZXh0LCBwbGF5ZXJPckNvbXB1dGVyIH0iXSwibmFtZXMiOlsiX19fQ1NTX0xPQURFUl9FWFBPUlRfX18iLCJwdXNoIiwibW9kdWxlIiwiaWQiLCJleHBvcnRzIiwiY3NzV2l0aE1hcHBpbmdUb1N0cmluZyIsImxpc3QiLCJ0b1N0cmluZyIsInRoaXMiLCJtYXAiLCJpdGVtIiwiY29udGVudCIsIm5lZWRMYXllciIsImNvbmNhdCIsImxlbmd0aCIsImpvaW4iLCJpIiwibW9kdWxlcyIsIm1lZGlhIiwiZGVkdXBlIiwic3VwcG9ydHMiLCJsYXllciIsInVuZGVmaW5lZCIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJrIiwiX2siLCJjc3NNYXBwaW5nIiwiYnRvYSIsImJhc2U2NCIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhdGEiLCJzb3VyY2VNYXBwaW5nIiwic3R5bGVzSW5ET00iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXhCeUlkZW50aWZpZXIiLCJvYmoiLCJjc3MiLCJzb3VyY2VNYXAiLCJyZWZlcmVuY2VzIiwidXBkYXRlciIsImFkZEVsZW1lbnRTdHlsZSIsImJ5SW5kZXgiLCJzcGxpY2UiLCJhcGkiLCJkb21BUEkiLCJ1cGRhdGUiLCJuZXdPYmoiLCJyZW1vdmUiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwiaW5kZXgiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIm1lbW8iLCJpbnNlcnQiLCJzdHlsZSIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2luZG93IiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwiZSIsImdldFRhcmdldCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVzIiwic3R5bGVFbGVtZW50Iiwibm9uY2UiLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZVRhZ1RyYW5zZm9ybSIsImFwcGx5IiwicGFyZW50Tm9kZSIsInJlbW92ZUNoaWxkIiwicmVtb3ZlU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJmaXJzdENoaWxkIiwiY3JlYXRlVGV4dE5vZGUiLCJsb2NhbHMiLCJTaGlwIiwiY29uc3RydWN0b3IiLCJwbGFjZWQiLCJoaXRzIiwic3VuayIsImhpdCIsImlzU3VuayIsIlBsYXllciIsImdhbWVib2FyZCIsImJvYXJkIiwiQXJyYXkiLCJmcm9tIiwiZmlsbCIsIm1pc3NlZCIsInNoaXBzIiwib2J0YWluQ3VycmVudFNoaXBzIiwiY3VycmVudFNoaXBzIiwieSIsIngiLCJpbmNsdWRlcyIsInBvc2l0aW9uU2hpcHMiLCJjb29yZGluYXRlcyIsImNvbnNvbGUiLCJsb2ciLCJwb3NpdGlvbiIsIm5ld1NoaXAiLCJ4MSIsIngyIiwieTEiLCJ5MiIsInlEaWZmIiwieERpZmYiLCJyZWNpZXZlQXR0YWNrIiwiYWxsU2hpcHNTdW5rIiwiZXZlcnkiLCJzaGlwIiwiYWxsU2hpcHNQbGFjZWQiLCJyZXF1aXJlZFNoaXBzTGVuZ3RoIiwiaW5kZXhPZiIsIkdhbWVib2FyZCIsImRyYWdnYWJsZVNoaXBzIiwic2VsZWN0ZWRTaGlwIiwicHJldlNlbGVjdGVkU2hpcEFycmF5IiwicHJldlNlbGVjdGVkU2hpcEluZGV4QXJyYXkiLCJwbGFuZU9mUGxhY2luZ1NoaXAiLCJwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMiLCJsb2NhbGlzZWRHdWVzc2VzIiwic2hpcERpcmVjdGlvbiIsImRpcmVjdGlvbiIsInZlcnRpY2FsIiwiaG9yaXpvbnRhbCIsInJlc2V0SFRNTEdyaWQiLCJuYW1lIiwiaW5uZXJIVE1MIiwicmVzZXRTaGlwc0FycmF5IiwiYnVpbGRSdWxlcyIsInBsYXllck92ZXJsYXkiLCJnZXRFbGVtZW50QnlJZCIsInBhZGRpbmdMZWZ0Iiwic2hvd092ZXJsYXkiLCJyZW1vdmVCdXR0b25zIiwiZ3JpZENvbnRhaW5lciIsInNpbmd1bGFyU2hpcEJ0bnMiLCJtdWx0aXBsZVNoaXBCdG5zIiwiYnVpbGRTaGlwcyIsInNoaXBzQ29udGFpbmVyIiwiY2xhc3NMaXN0IiwiYWRkIiwicGxheWVyR3JpZENvbnRhaW5lciIsImluc2VydEFkamFjZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJyZW1vdmVTaGlwcyIsImhpZGVHcmlkU2hpcHMiLCJmb3JFYWNoIiwiY29udGFpbnMiLCJzZWxlY3REZWZhdWx0U2hpcCIsImFwcGx5RHJhZ2dhYmxlU2hpcHMiLCJjaGVja0lmUG9zaXRpb25WYWxpZCIsInNoaXBTaXplIiwidmFsaWQiLCJzaGlwRGl2cyIsInRleHRDb250ZW50IiwiZ3JpZERpdiIsImdyaWREaXZGcm9tQ29vcmRpbmF0ZXMiLCJiaW5kIiwiY29vcmRpbmF0ZUludmFsaWQiLCJuZWFyYnlTaGlwU3F1YXJlc0hpdEZvclNoaXBQbGFjZW1lbnQiLCJzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzIiwiZmluZFN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMiLCJhZGRFdmVudExpc3RlbmVyIiwic2hpcFNlbGVjdCIsImRyYWdFbnRlciIsInByZXZlbnREZWZhdWx0IiwiY2xhc3NUb0ludGVnZXIiLCJwYXJzZUludCIsImRhdGFzZXQiLCJzaXplIiwiZHJhZ0xlYXZlIiwiaGlnaGxpZ2h0ZWRTcXVhcmVzIiwic3F1YXJlIiwiZHJvcCIsIm1pblkiLCJtYXhZIiwibWluWCIsIm1heFgiLCJtYWtlRHJhZ2dhYmxlU2hpcEludmlzaWJsZSIsIm9uY2UiLCJwYXJlbnRFbGVtZW50IiwiZ3JpZEVsZW1lbnQiLCJ1cGRhdGVDbGFzc0xpc3RPbkRyYWdnYWJsZVNoaXAiLCJkYXRhU2l6ZSIsInJlbW92ZVNoaXBGcm9tSFRNTEdhbWVib2FyZCIsInNoaXBDb29yZGluYXRlcyIsInJlc2V0TWlzc2VkIiwiY2xpY2tIYW5kbGVyIiwiY2xpY2tUb0hUTUwiLCJ1cGRhdGVUdXJuVGV4dCIsIm9wcG9uZW50IiwibW9uaWtlciIsImxvY2FsaXNlZENvbXB1dGVyR3Vlc3MiLCJjb21wdXRlckd1ZXNzIiwiSFRNTHRvYm9hcmQiLCJzaGlwU3VuayIsImNsYXNzTGlzdFN0cmluZyIsImdldEF0dHJpYnV0ZSIsImNsYXNzTmFtZSIsInNwbGl0IiwiZmluZFRvdWNoaW5nU2hpcHMiLCJTZXQiLCJjb29yZGluYXRlIiwibmVhcmJ5U2hpcFNxdWFyZXNIaXQiLCJ0cmlnZ2VyT3ZlcmFsbE92ZXJsYXkiLCJtaXNzZWREaXYiLCJyZW1vdmVDb21wdXRlckd1ZXNzIiwiWSIsIlgiLCJNYXRoIiwibWluIiwibWF4IiwiZ3JpZERpdnMiLCJmb3VuZEdyaWREaXYiLCJwYXRoIiwiaGFzIiwidGV4dCIsImFzeW5jIiwiZ3Vlc3NJbmRleCIsImZsb29yIiwicmFuZG9tIiwiZ3Vlc3NlZERpdiIsIm1pblRpbWUiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJjb21wdXRlckd1ZXNzVG9IVE1MIiwiZGl2VG9SZW1vdmUiLCJyZWxhdGl2ZUxvY2F0aW9uT2ZEaXYiLCJjb21wdXRlckhUTUxUb0JvYXJkIiwiZGlzY292ZXJlZFNoaXBEaXJlY3Rpb24iLCJuZXdEaXZzIiwiZ2VuZXJhdGVMb2NhbENvbXB1dGVyR3Vlc3NlcyIsInBvdGVudGlhbEd1ZXNzIiwiY2FsY3VsYXRlU2hpcERpcmVjdGlvbiIsInBvdGVudGlhbERpcmVjdGlvbiIsInJlbW92ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzIiwibG9jYWxHdWVzcyIsIm9iamVjdFNoaWZ0IiwibmVhcmJ5Q29vcmRpbmF0ZXMiLCJuZWFyYnlHdWVzc2VzIiwibmVhcmJ5RGl2IiwiY29tcHV0ZXJEaXZGcm9tSW50ZWdlciIsIm9iamVjdCIsIk9iamVjdCIsImtleXMiLCJyZW1vdmVBbGxFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfYm91bmRDbGlja0hhbmRsZXIiLCJkaXNwbGF5IiwiY29uZ3JhdHVsYXRpb25zVGl0bGUiLCJ3aW5uZXIiLCJ3aW5uaW5nQ291bnRlciIsImN1cnJlbnRTY29yZSIsImJ1aWxkSFRNTEdyaWQiLCJyZXZlYWwiLCJncmlkIiwicmVnaXN0ZXJHcmlkRGl2RXZlbnRMaXN0ZW5lciIsImJvdW5kQ2xpY2tIYW5kbGVyIiwiYnVpbGRIVE1MRGl2Q29udGFpbmVycyIsImdyaWRDb250YWluZXJzIiwicGxheWVyQ29udGFpbmVyIiwiZ2VuZXJhdGVDb21wdXRlckd1ZXNzZXMiLCJkaXYiLCJidWlsZEJ1dHRvbkNvbnRhaW5lciIsInBsYWNpbmdEaXYiLCJob3Jpem9udGFsT3JWZXJ0aWNhbEJ0biIsInVuZG9CdG4iLCJyYW5kb21pc2VCdG4iLCJjb25maXJtQnRuIiwicmVzZXRCdG4iLCJyZXNldEdyaWQiLCJyZW1vdmVSdWxlcyIsInRvZ2dsZVNoaXBzSW52aXNpYmxlIiwicmVzZXRTaGlwcyIsInByb2dyZXNzRnJvbVNoaXBQbGFjZW1lbnQiLCJwbGF5ZXIyVHVyblRyYWNrZXIiLCJyZW1vdmVMYXN0U2hpcCIsInNoaXBUb0JlUmVtb3ZlZENvb3JkaW5hdGVzIiwicmVtb3ZlU2hpcEZyb21Cb2FyZEFycmF5IiwicG9wIiwiY29vcmRpbmF0ZXNGb3JNaXNzZWRHYW1lYm9hcmQiLCJtaXNzZWRDb29yZGluYXRlcyIsInJlbW92ZVhWYWx1ZXNGcm9tTWlzc2VkR2FtZWJvYXJkIiwicHJldlNlbGVjdGVkU2hpcCIsInByZXZTZWxlY3RlZFNoaXBJbmRleCIsInJlaW5zdGF0ZVRvSFRNTERyYWdnYWJsZVNoaXBzIiwidXBkYXRlUGxheWVyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSIsImRpc3RhbmNlIiwib2Zmc2V0TGVmdCIsImRvY3VtZW50RWxlbWVudCIsInNldFByb3BlcnR5IiwidXBkYXRlTW9uaWtlclNlbGVjdGlvbkRpc3RhbmNlVmFyaWFibGUiLCJwbGF5ZXIyTW9uaWtlckRpdiIsImNvbXB1dGVyTW9uaWtlckRpdiIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwieENvb3JkIiwieUNvb3JkIiwicmFuZG9taXNlIiwiZGlyZWN0aW9ucyIsInJvdW5kIiwidmlhYmxlIiwieUNvb3JkaW5hdGUiLCJjb25mbGljdCIsInhDb29yZGluYXRlIiwiaGFuZGxlSG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25DbGljayIsImJ1dHRvbiIsImhhbmRsZVVuZG9CdXR0b25DbGljayIsInBsYXllcjEiLCJwbGF5ZXIyIiwiaGFuZGxlUmFuZG9taXNlQnV0dG9uQ2xpY2siLCJoYW5kbGVSZXNldEJ1dHRvbkNsaWNrIiwidHJpZ2dlckNvbmZpcm1CdXR0b25FcnJvciIsInBsYXllciIsImNoYW5nZU92ZXJsYXlzVG8iLCJjb2xvdXIiLCJjb21wdXRlciIsInBsYXllck92ZXJsYXlzIiwib3ZlcmxheSIsImJhY2tncm91bmRDb2xvciIsInBsYXllcjFXaW5uaW5nQ291bnRlciIsInBsYXllcjJXaW5uaW5nQ291bnRlciIsInBsYXllcjFNb25pa2VyIiwicGxheWVyMk1vbmlrZXIiLCJpbml0aWFsaXNlR2FtZSIsImNob3NlblBsYXllcjIiLCJwbGF5ZXIxTW9uaWtlclZhbHVlIiwicGxheWVyMk1vbmlrZXJWYWx1ZSIsImdyaWRPdmVybGF5IiwiY2VudGVyZWRDb250YWluZXJEaXYiLCJib2R5IiwicGxheWVyU2VsZWN0aW9uRGl2IiwibW9uaWtlclNlbGVjdGlvbkRpdiIsInBsYXllcjJCdG4iLCJjb21wdXRlckJ0biIsInBsYXllcjFNb25pa2VyVGV4dCIsInBsYXllcjJNb25pa2VyVGV4dCIsInBsYXllcjJOYW1lSXNDb21wdXRlciIsImNob3NlblBsYXllckNvbmZpcm1CdG4iLCJ2YWx1ZSIsIm92ZXJmbG93IiwiZXZlbnQiLCJtb25pa2VyQ29uZmlybUJ0biIsInBsYXllck9yQ29tcHV0ZXIiLCJnYW1lUnVsZXNPdmVybGF5IiwiaGFuZGxlR2FtZVJ1bGVzQnV0dG9uQ2xpY2siLCJob3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbnMiLCJvbmNsaWNrIiwidW5kb0J1dHRvbnMiLCJyYW5kb21pc2VCdXR0b25zIiwicmVzZXRCdXR0b25zIiwicGxheWVyMUNvbmZpcm1CdG4iLCJyZXNvbHZlUHJvbWlzZSIsInNpbmdsZVBsYXllckNvbmZpcm1CdG4iLCJwbGF5ZXIyQ29uZmlybUJ0biIsIm11bHRpUGxheWVyQ29uZmlybUJ0biIsImhhbmRsZUNvbmZpcm1CdG5DbGljayIsImNvbXB1dGVyQ29vcmRpbmF0ZXMiLCJ0dXJuIiwicGxheWVycyIsIm51bWJlciIsImZpcnN0IiwidG9VcHBlckNhc2UiLCJnb2VzRmlyc3QiXSwic291cmNlUm9vdCI6IiJ9