"use strict";(self.webpackChunkbattleships=self.webpackChunkbattleships||[]).push([[792],{365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(354),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,":root {\n    --player-selection-distance: 0; /* Variable for animation of the gridOverlay's */\n    --moniker-selection-distance: 0;\n  }\n\nbody {\n    user-select: none;\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\nheader {\n    display: grid;\n    grid-template-columns: 1fr auto;\n}\n\nh1.title, .winner-confirmation {\n    text-align: center;\n    color: rgb(73, 110, 235);\n}\n\n.player1-winning-counter {\n    position: relative;\n    left: 45%;\n    grid-area: 1 / 2;\n    color: rgb(38, 209, 38);\n}\n\n.player2-winning-counter, .computer-winning-counter {\n    position: relative;\n    right: 45%;\n    grid-area: 1 / 2;\n    color: rgb(38, 209, 38);\n}\n\n.player1-grid.number, .player2-grid.number, .computer-grid.number {\n    background-color: white;\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.centered-container {\n    display: grid;\n    grid-template-rows: 2fr auto 3fr;\n    height: 100%; \n    background-color: rgb(255, 255, 255);\n\n    gap: 2em;\n}\n\n.game-rules-btn {\n    position: absolute;\n    left: 90%;\n    top: 3.4%;\n\n    color: rgb(73, 110, 235);\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n    font-size: large;\n    padding: 4px 8px;\n}\n\n.game-rules-overlay {\n    text-align: center;\n}\n\n.rules-load-in {\n    animation: fadeIn 1s ease;\n    animation-iteration-count: 1;\n}\n\n@keyframes fadeIn {\n    0% {\n        opacity: 0;\n        transform: translateY(50%); /* Slide in from bottom */\n    }\n    100% {\n        opacity: 1;\n        transform: translateY(0);\n    }\n}\n\n\n.rules-load-out {\n    animation: fadeOut 1s ease;\n    animation-iteration-count: 1;\n}\n\n@keyframes fadeOut {\n    0% { \n        transform: translateY(0);\n        opacity: 1;\n    }\n    100% { \n        transform: translateY(50%);  /* Slide out from bottom */\n        opacity: 0;\n    }\n}\n\n.game-rules-title {\n    color: rgb(73, 110, 235);\n}\n\n#gameEndingOverlay {\n    display: none;\n    background-color: lightblue;\n    flex-direction: column;\n    height: auto;\n\n}\n\n.reset-btn-div, .refresh-btn-div {\n    text-align: center;\n    padding: 16px;\n}\n\n.game-end-btn-container {\n    display: flex;\n    justify-content: center;\n}\n\n.welcome-title {\n    display: flex;\n    flex: 4;\n    justify-content: center;\n    align-items: flex-end;\n\n    color: rgb(73, 110, 235);\n}\n\n.player-selection, .moniker-selection {\n    display: flex;\n    justify-content: center;\n    gap: 2em;\n    background-color: rgb(255, 255, 255);\n    /* height: 100%; */\n    width: 100%;\n    flex: 5;\n    align-items: center;\n    position: relative;\n}\n\n.player-selection-enter {\n    animation: player-selection-enter 0.25s ease-out;\n    animation-iteration-count: 1;\n}\n\n@keyframes player-selection-enter {\n    0% { transform: translateX(-100%); }\n    40% { transform: translateX(5%); }\n    100% { transform: translateX(0); }\n}\n\n.player-selection-leave {\n    animation: player-selection-leave 0.25s ease-in;\n    animation-iteration-count: 1;\n}\n\n@keyframes player-selection-leave {\n    50% { transform: translateX(5%); }\n    100% { transform: translateX(-100%); }\n}\n\n.moniker-selection-enter {\n    animation: moniker-selection-enter 0.25s ease-out;\n    animation-iteration-count: 1;\n}\n\n@keyframes moniker-selection-enter {\n    0% { transform: translateX(100%); }\n    40% { transform: translateX(-5%); }\n    100% { transform: translateX(0); }\n}\n\n.moniker-selection-leave {\n    animation: moniker-selection-leave 0.25s ease-in;\n    animation-iteration-count: 1;\n}\n\n@keyframes moniker-selection-leave {\n    50% { transform: translateX(-5%); }\n    100% { transform: translateX(100%); }\n}\n\n.player-selection-container {\n    display: flex;\n    gap: 1em;\n    flex-direction: column;\n    justify-content: center;\n}\n\n.player-2-btn-container, .computer-btn-container {\n    display: flex;\n    justify-content: center;\n}\n\n.player-2-btn, .computer-btn{\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n    font-size: large;\n    padding: 4px 8px;\n}\n\n.player-2-btn {\n    width: 103.95px;\n}\n\n.player2-name-is-computer {\n    display: none;\n    position: relative;\n    left: -1em;\n}\n\n.player1-moniker-text, .player2-moniker-text {\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n    font-size: large;\n}\n\n.confirm-player-or-computer-btn-container {\n    position: absolute;\n    left: var(--player-selection-distance);\n}\n\n.confirm-player-or-computer-btn {\n    margin: 18.72px;\n}\n\n.moniker-selection {\n    display: none;\n    min-height: 81.33px;\n}\n\n.moniker-btns-container {\n    display: grid;\n    gap: 1em;\n    justify-items: center;\n    position: absolute;\n    left: var(--moniker-selection-distance);\n}\n\n.back-btn {\n    width: 92.09px;\n}\n\n#hit, #revealedMiss {\n    background-color: #bbb2b279;\n}\n\n#revealedMiss {\n    color: rgb(118, 115, 115);\n}\n\n.player1-grid.number.ship-present, .player2-grid.number.ship-present, .computer-grid.number.ship-present {\n    color: red;\n}\n\n/* SHIP PLACING */\ndiv.player1-grid.number.highlight, div.player2-grid.number.highlight, div.computer-grid.number.highlight {\n    /* CHOSE BORDER AS IT IS EASIER TO SEE WHEN PLACING */\n    border: 2px solid rgb(38, 209, 38);\n}\n\ndiv.player1-grid.number.not-valid, div.player2-grid.number.not-valid {\n    /* APPLYING BORDER ALLOWS USER TO DETERMINE WHAT IS BEHIND THE CURSOR\n    NECESSARY TO REDUCE WIDTH AND HEIGHT BY BORDER FOR NO BUGS */\n    border: 2px solid red;\n    width: 28px;\n    height: 28px;\n}\n\n.shaking-animation {\n    animation-name: shakeAnimation;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n}\n\n@keyframes shakeAnimation {\n    0% { transform: translateX(0); }\n    15% { transform: translateX(-5px); }\n    30% { transform: translateX(5px); }\n    45% { transform: translateX(-5px); }\n    60% { transform: translateX(5px); }\n    75% { transform: translateX(-5px); }\n    100% { transform: translateX(0); }\n  }\n\n\n/* DRAGGABLE SHIPS */\n.ship-container-1, .ship-container-2, .ship-container-3 {\n    display: grid;\n    align-items: end;\n}\n\n.ships-container {\n    display: flex;\n    gap: 1em;\n    grid-area: 1 / 1 / -2 / 1;\n    justify-content: flex-end;\n    /* PADDING TO ACCOUNT FOR OUTLINE WIDTH & MAKE GAP FOR GRID OVERLAY CONSISTENT */\n    padding: 0 1em 2px calc(2px + 1em);\n}\n\n.inside-ship {\n    width: 32px;\n    height: 32px;\n    outline: 2px solid darkblue;\n}\n\n.draggable-ship[data-size=\"1\"] {\n    width: 32px;\n    height: 32px;\n}\n\n.draggable-ship[data-size=\"2\"] {\n    width: 32px;\n    height: 64px;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\n.draggable-ship[data-size=\"3\"] {\n    width: 32px;\n    height: 96px;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\n.draggable-ship[data-size=\"4\"] {\n    width: 32px;\n    height: 128px;\n    display: flex;\n    flex-direction: column;\n    gap: 2px;\n}\n\nh3.title {\n    grid-area: 1 / 2;\n}\n\n#player1Grid, #player2Grid, #computerGrid {\n    display: grid;\n    grid-template-columns: repeat(10, 32px);\n    grid-template-rows: repeat(10, 32px);\n    grid-gap: 2px;\n    background-color: lightblue;\n    border: 2px solid lightblue;\n\n    grid-area: 2 / 2;\n    height: max-content;\n    \n}\n\n#player1GridOverlay, #player2GridOverlay, #computerGridOverlay {\n    color: rgb(237, 233, 233);\n}\n\n.grid-containers {\n    display: flex;\n    gap: 2em;\n    justify-content: space-evenly;\n}\n\n.ship-present.reveal {\n    outline: 2px solid darkblue;\n    width: 100%;\n    height: 100%;\n    font-size: x-large;\n}\n\n.start-button-container{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 32px;\n\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\n.start-button, .reset-btn, .randomise-btn, .confirm-btn, .horizontal-or-vertical-btn, .refresh-btn, .confirm-player-or-computer-btn, .back-btn, .confirm-moniker-btn, .undo-btn {\n    font-size: large;\n    padding: 4px 8px;\n\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\n}\n\n.multiple-ship-btns, .singular-ship-btns {\n    display: flex;\n}\n\n.singular-ship-btns {\n    gap: 1em;\n}\n\n.multiple-ship-btns {\n    display: flex;\n    justify-content: space-between;\n}\n\n.placing-div {\n    font-size: large;\n    color: rgb(73, 110, 235);\n    display: flex;\n    align-items: center;\n}\n\n.horizontal-or-vertical-btn {\n    min-width: 134.67px\n}\n\nh3 {\n    text-align: center;\n}\n\n.confirm-btn.denied, .confirm-player-or-computer-btn.denied {\n    animation: denied 0.25s;\n    animation-iteration-count: 1;\n}\n\n@keyframes denied {\n    0% { transform: translateX(0); \n        color: rgb(129, 0, 0);}\n    15% { transform: translateX(-5px); }\n    30% { transform: translateX(5px);\n        color: rgb(255, 0, 0); }\n    45% { transform: translateX(-5px); }\n    60% { transform: translateX(5px);\n        color: rgb(255, 0, 0); }\n    75% { transform: translateX(-5px); }\n    100% { transform: translateX(0); \n        color: rgb(129, 0, 0);}\n    0% {\n        color: rgb(129, 0, 0);\n    }\n\n    35% {\n        color: rgb(255, 0, 0);\n    }\n\n    65% {\n        color: rgb(255, 0, 0);\n    }\n\n    100% {\n        color: rgb(129, 0, 0);\n    }\n}\n\n/* GRID CONTAINERS */\n.player1-grid-container, .player2-grid-container, .computer-grid-container {\n    /* position: relative NEEDED TO CONTAIN OVERLAY to just the grid container*/\n    position: relative;\n    display: grid;\n    grid-template-columns: 1fr auto;\n    grid-template-rows: auto 1fr auto;\n    gap: 1em;\n\n    padding-right: 1em; /* Keeps the athestetic with the overlay even */\n    z-index: auto;\n\n}\n\n.btn-container {\n    display: flex;\n    justify-content: space-between;\n    grid-area: 3 / 1 / 3 / -1;\n}\n\n.grid-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */\n    display: none; /* Initially hidden */\n}\n\n.ship-present.reveal.sunk {\n    outline: 2px solid red;\n    width: 100%;\n    height: 100%;\n}\n\n.draggable-ship.sunk > * {\n    outline: 2px solid red;\n}\n\n.draggable-ship.placing > * {\n    outline: 2px solid rgb(38, 209, 38);\n}\n\n.draggable-ship.invisible > * {\n    outline: 2px solid white;\n}\n\n\n/* COLOURS FOR SPAN'S IN TURN TEXT */\n/* HIT */\n.highlighted.red {\n    color: lightcoral;\n}\n\n/* SUNK */\n.highlighted.orange {\n    color: orange;\n}\n\n/* MISSED */\n.highlighted.blue {\n    color: lightskyblue;\n}\n\n/* PLACING */\n.highlighted.green {\n    color: rgb(38, 209, 38);\n}","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"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",sourcesContent:[":root {\r\n    --player-selection-distance: 0; /* Variable for animation of the gridOverlay's */\r\n    --moniker-selection-distance: 0;\r\n  }\r\n\r\nbody {\r\n    user-select: none;\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\nheader {\r\n    display: grid;\r\n    grid-template-columns: 1fr auto;\r\n}\r\n\r\nh1.title, .winner-confirmation {\r\n    text-align: center;\r\n    color: rgb(73, 110, 235);\r\n}\r\n\r\n.player1-winning-counter {\r\n    position: relative;\r\n    left: 45%;\r\n    grid-area: 1 / 2;\r\n    color: rgb(38, 209, 38);\r\n}\r\n\r\n.player2-winning-counter, .computer-winning-counter {\r\n    position: relative;\r\n    right: 45%;\r\n    grid-area: 1 / 2;\r\n    color: rgb(38, 209, 38);\r\n}\r\n\r\n.player1-grid.number, .player2-grid.number, .computer-grid.number {\r\n    background-color: white;\r\n    color: black;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.centered-container {\r\n    display: grid;\r\n    grid-template-rows: 2fr auto 3fr;\r\n    height: 100%; \r\n    background-color: rgb(255, 255, 255);\r\n\r\n    gap: 2em;\r\n}\r\n\r\n.game-rules-btn {\r\n    position: absolute;\r\n    left: 90%;\r\n    top: 3.4%;\r\n\r\n    color: rgb(73, 110, 235);\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-size: large;\r\n    padding: 4px 8px;\r\n}\r\n\r\n.game-rules-overlay {\r\n    text-align: center;\r\n}\r\n\r\n.rules-load-in {\r\n    animation: fadeIn 1s ease;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes fadeIn {\r\n    0% {\r\n        opacity: 0;\r\n        transform: translateY(50%); /* Slide in from bottom */\r\n    }\r\n    100% {\r\n        opacity: 1;\r\n        transform: translateY(0);\r\n    }\r\n}\r\n\r\n\r\n.rules-load-out {\r\n    animation: fadeOut 1s ease;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes fadeOut {\r\n    0% { \r\n        transform: translateY(0);\r\n        opacity: 1;\r\n    }\r\n    100% { \r\n        transform: translateY(50%);  /* Slide out from bottom */\r\n        opacity: 0;\r\n    }\r\n}\r\n\r\n.game-rules-title {\r\n    color: rgb(73, 110, 235);\r\n}\r\n\r\n#gameEndingOverlay {\r\n    display: none;\r\n    background-color: lightblue;\r\n    flex-direction: column;\r\n    height: auto;\r\n\r\n}\r\n\r\n.reset-btn-div, .refresh-btn-div {\r\n    text-align: center;\r\n    padding: 16px;\r\n}\r\n\r\n.game-end-btn-container {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.welcome-title {\r\n    display: flex;\r\n    flex: 4;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n\r\n    color: rgb(73, 110, 235);\r\n}\r\n\r\n.player-selection, .moniker-selection {\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 2em;\r\n    background-color: rgb(255, 255, 255);\r\n    /* height: 100%; */\r\n    width: 100%;\r\n    flex: 5;\r\n    align-items: center;\r\n    position: relative;\r\n}\r\n\r\n.player-selection-enter {\r\n    animation: player-selection-enter 0.25s ease-out;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes player-selection-enter {\r\n    0% { transform: translateX(-100%); }\r\n    40% { transform: translateX(5%); }\r\n    100% { transform: translateX(0); }\r\n}\r\n\r\n.player-selection-leave {\r\n    animation: player-selection-leave 0.25s ease-in;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes player-selection-leave {\r\n    50% { transform: translateX(5%); }\r\n    100% { transform: translateX(-100%); }\r\n}\r\n\r\n.moniker-selection-enter {\r\n    animation: moniker-selection-enter 0.25s ease-out;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes moniker-selection-enter {\r\n    0% { transform: translateX(100%); }\r\n    40% { transform: translateX(-5%); }\r\n    100% { transform: translateX(0); }\r\n}\r\n\r\n.moniker-selection-leave {\r\n    animation: moniker-selection-leave 0.25s ease-in;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes moniker-selection-leave {\r\n    50% { transform: translateX(-5%); }\r\n    100% { transform: translateX(100%); }\r\n}\r\n\r\n.player-selection-container {\r\n    display: flex;\r\n    gap: 1em;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n}\r\n\r\n.player-2-btn-container, .computer-btn-container {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n.player-2-btn, .computer-btn{\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-size: large;\r\n    padding: 4px 8px;\r\n}\r\n\r\n.player-2-btn {\r\n    width: 103.95px;\r\n}\r\n\r\n.player2-name-is-computer {\r\n    display: none;\r\n    position: relative;\r\n    left: -1em;\r\n}\r\n\r\n.player1-moniker-text, .player2-moniker-text {\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n    font-size: large;\r\n}\r\n\r\n.confirm-player-or-computer-btn-container {\r\n    position: absolute;\r\n    left: var(--player-selection-distance);\r\n}\r\n\r\n.confirm-player-or-computer-btn {\r\n    margin: 18.72px;\r\n}\r\n\r\n.moniker-selection {\r\n    display: none;\r\n    min-height: 81.33px;\r\n}\r\n\r\n.moniker-btns-container {\r\n    display: grid;\r\n    gap: 1em;\r\n    justify-items: center;\r\n    position: absolute;\r\n    left: var(--moniker-selection-distance);\r\n}\r\n\r\n.back-btn {\r\n    width: 92.09px;\r\n}\r\n\r\n#hit, #revealedMiss {\r\n    background-color: #bbb2b279;\r\n}\r\n\r\n#revealedMiss {\r\n    color: rgb(118, 115, 115);\r\n}\r\n\r\n.player1-grid.number.ship-present, .player2-grid.number.ship-present, .computer-grid.number.ship-present {\r\n    color: red;\r\n}\r\n\r\n/* SHIP PLACING */\r\ndiv.player1-grid.number.highlight, div.player2-grid.number.highlight, div.computer-grid.number.highlight {\r\n    /* CHOSE BORDER AS IT IS EASIER TO SEE WHEN PLACING */\r\n    border: 2px solid rgb(38, 209, 38);\r\n}\r\n\r\ndiv.player1-grid.number.not-valid, div.player2-grid.number.not-valid {\r\n    /* APPLYING BORDER ALLOWS USER TO DETERMINE WHAT IS BEHIND THE CURSOR\r\n    NECESSARY TO REDUCE WIDTH AND HEIGHT BY BORDER FOR NO BUGS */\r\n    border: 2px solid red;\r\n    width: 28px;\r\n    height: 28px;\r\n}\r\n\r\n.shaking-animation {\r\n    animation-name: shakeAnimation;\r\n    animation-duration: 0.25s;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes shakeAnimation {\r\n    0% { transform: translateX(0); }\r\n    15% { transform: translateX(-5px); }\r\n    30% { transform: translateX(5px); }\r\n    45% { transform: translateX(-5px); }\r\n    60% { transform: translateX(5px); }\r\n    75% { transform: translateX(-5px); }\r\n    100% { transform: translateX(0); }\r\n  }\r\n\r\n\r\n/* DRAGGABLE SHIPS */\r\n.ship-container-1, .ship-container-2, .ship-container-3 {\r\n    display: grid;\r\n    align-items: end;\r\n}\r\n\r\n.ships-container {\r\n    display: flex;\r\n    gap: 1em;\r\n    grid-area: 1 / 1 / -2 / 1;\r\n    justify-content: flex-end;\r\n    /* PADDING TO ACCOUNT FOR OUTLINE WIDTH & MAKE GAP FOR GRID OVERLAY CONSISTENT */\r\n    padding: 0 1em 2px calc(2px + 1em);\r\n}\r\n\r\n.inside-ship {\r\n    width: 32px;\r\n    height: 32px;\r\n    outline: 2px solid darkblue;\r\n}\r\n\r\n.draggable-ship[data-size=\"1\"] {\r\n    width: 32px;\r\n    height: 32px;\r\n}\r\n\r\n.draggable-ship[data-size=\"2\"] {\r\n    width: 32px;\r\n    height: 64px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2px;\r\n}\r\n\r\n.draggable-ship[data-size=\"3\"] {\r\n    width: 32px;\r\n    height: 96px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2px;\r\n}\r\n\r\n.draggable-ship[data-size=\"4\"] {\r\n    width: 32px;\r\n    height: 128px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 2px;\r\n}\r\n\r\nh3.title {\r\n    grid-area: 1 / 2;\r\n}\r\n\r\n#player1Grid, #player2Grid, #computerGrid {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 32px);\r\n    grid-template-rows: repeat(10, 32px);\r\n    grid-gap: 2px;\r\n    background-color: lightblue;\r\n    border: 2px solid lightblue;\r\n\r\n    grid-area: 2 / 2;\r\n    height: max-content;\r\n    \r\n}\r\n\r\n#player1GridOverlay, #player2GridOverlay, #computerGridOverlay {\r\n    color: rgb(237, 233, 233);\r\n}\r\n\r\n.grid-containers {\r\n    display: flex;\r\n    gap: 2em;\r\n    justify-content: space-evenly;\r\n}\r\n\r\n.ship-present.reveal {\r\n    outline: 2px solid darkblue;\r\n    width: 100%;\r\n    height: 100%;\r\n    font-size: x-large;\r\n}\r\n\r\n.start-button-container{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-top: 32px;\r\n\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\n.start-button, .reset-btn, .randomise-btn, .confirm-btn, .horizontal-or-vertical-btn, .refresh-btn, .confirm-player-or-computer-btn, .back-btn, .confirm-moniker-btn, .undo-btn {\r\n    font-size: large;\r\n    padding: 4px 8px;\r\n\r\n    font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif;\r\n}\r\n\r\n.multiple-ship-btns, .singular-ship-btns {\r\n    display: flex;\r\n}\r\n\r\n.singular-ship-btns {\r\n    gap: 1em;\r\n}\r\n\r\n.multiple-ship-btns {\r\n    display: flex;\r\n    justify-content: space-between;\r\n}\r\n\r\n.placing-div {\r\n    font-size: large;\r\n    color: rgb(73, 110, 235);\r\n    display: flex;\r\n    align-items: center;\r\n}\r\n\r\n.horizontal-or-vertical-btn {\r\n    min-width: 134.67px\r\n}\r\n\r\nh3 {\r\n    text-align: center;\r\n}\r\n\r\n.confirm-btn.denied, .confirm-player-or-computer-btn.denied {\r\n    animation: denied 0.25s;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes denied {\r\n    0% { transform: translateX(0); \r\n        color: rgb(129, 0, 0);}\r\n    15% { transform: translateX(-5px); }\r\n    30% { transform: translateX(5px);\r\n        color: rgb(255, 0, 0); }\r\n    45% { transform: translateX(-5px); }\r\n    60% { transform: translateX(5px);\r\n        color: rgb(255, 0, 0); }\r\n    75% { transform: translateX(-5px); }\r\n    100% { transform: translateX(0); \r\n        color: rgb(129, 0, 0);}\r\n    0% {\r\n        color: rgb(129, 0, 0);\r\n    }\r\n\r\n    35% {\r\n        color: rgb(255, 0, 0);\r\n    }\r\n\r\n    65% {\r\n        color: rgb(255, 0, 0);\r\n    }\r\n\r\n    100% {\r\n        color: rgb(129, 0, 0);\r\n    }\r\n}\r\n\r\n/* GRID CONTAINERS */\r\n.player1-grid-container, .player2-grid-container, .computer-grid-container {\r\n    /* position: relative NEEDED TO CONTAIN OVERLAY to just the grid container*/\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-columns: 1fr auto;\r\n    grid-template-rows: auto 1fr auto;\r\n    gap: 1em;\r\n\r\n    padding-right: 1em; /* Keeps the athestetic with the overlay even */\r\n    z-index: auto;\r\n\r\n}\r\n\r\n.btn-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    grid-area: 3 / 1 / 3 / -1;\r\n}\r\n\r\n.grid-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */\r\n    display: none; /* Initially hidden */\r\n}\r\n\r\n.ship-present.reveal.sunk {\r\n    outline: 2px solid red;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.draggable-ship.sunk > * {\r\n    outline: 2px solid red;\r\n}\r\n\r\n.draggable-ship.placing > * {\r\n    outline: 2px solid rgb(38, 209, 38);\r\n}\r\n\r\n.draggable-ship.invisible > * {\r\n    outline: 2px solid white;\r\n}\r\n\r\n\r\n/* COLOURS FOR SPAN'S IN TURN TEXT */\r\n/* HIT */\r\n.highlighted.red {\r\n    color: lightcoral;\r\n}\r\n\r\n/* SUNK */\r\n.highlighted.orange {\r\n    color: orange;\r\n}\r\n\r\n/* MISSED */\r\n.highlighted.blue {\r\n    color: lightskyblue;\r\n}\r\n\r\n/* PLACING */\r\n.highlighted.green {\r\n    color: rgb(38, 209, 38);\r\n}"],sourceRoot:""}]);const s=o},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,i,a){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var A=0;A<n.length;A++){var c=[].concat(n[A]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),e.push(c))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},o=[],s=0;s<n.length;s++){var l=n[s],A=r.base?l[0]+r.base:l[0],c=a[A]||0,d="".concat(A," ").concat(c);a[A]=c+1;var p=t(d),u={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(u);else{var h=i(u,r);r.byIndex=s,e.splice(s,0,{identifier:d,updater:h,references:1})}o.push(d)}return o}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var a=r(n=n||[],i=i||{});return function(n){n=n||[];for(var o=0;o<a.length;o++){var s=t(a[o]);e[s].references--}for(var l=r(n,i),A=0;A<a.length;A++){var c=t(a[A]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}a=l}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},508:(n,e,t)=>{var r=t(72),i=t.n(r),a=t(825),o=t.n(a),s=t(659),l=t.n(s),A=t(56),c=t.n(A),d=t(540),p=t.n(d),u=t(113),h=t.n(u),m=t(365),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=l().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=p(),i()(m.A,g),m.A&&m.A.locals&&m.A.locals;class f{constructor(n,e=!1,t=0,r=!1){this.length=n,this.placed=e,this.hits=t,this.sunk=r}hit(){return this.hits++,this.isSunk(),this}isSunk(){return this.hits===this.length&&(this.sunk=!0),this}}const C=()=>{const n=(()=>{const n=Array.from({length:10},(()=>Array(10).fill(null))),e=Array.from({length:10},(()=>Array(10).fill(null))),t=[];function r(){const e=[];for(let t=0;t<=9;t++)for(let r=0;r<=9;r++)null==n[t][r]||e.includes(n[t][r])||e.push(n[t][r]);return e}return{board:n,missed:e,positionShips:function(e){if(null===e)return void console.log("Need to provide coordinates");let r;for(r of e){let e;const[i,a,o,s]=r;if(i===a&&o===s)e=new f(1,!0),n[o][i]=e;else if(i===a){const t=s-o+1;e=new f(t,!0);for(let r=0;r<t;r++)n[o+r][i]=e}else{if(o!==s)throw Error;{const t=a-i+1;e=new f(t,!0);for(let r=0;r<t;r++)n[o][i+r]=e}}t.push(e)}},recieveAttack:function([t,r]){null!=n[r][t]?n[r][t].hit():e[r][t]="X"},allShipsSunk:function(){return t.every((n=>!0===n.sunk))},ships:t,allShipsPlaced:function(){const n=[4,3,3,2,2,2,1,1,1,1],e=r();for(const t of e){const e=n.indexOf(t.length);if(-1===e)return!1;n.splice(e,1)}return 0===n.length&&e.every((n=>!0===n.placed))},obtainCurrentShips:r}})();let e,t=null,r=[],i=[],a="HORIZONTAL",o=null,s=null,l=null;const A={vertical:["beneath","above"],horizontal:["left","right"]};function c(){document.querySelector(`.${this.name}-grid.game-board`).innerHTML=""}function d(){n.ships.length=0,r.length=0,i.length=0}function p(){const n=document.getElementById(`${this.name}GridOverlay`);n.style.paddingLeft="1em",this.showOverlay(!0),n.innerHTML='\n            <h3 class="rules-title">RULES FOR SHIP PLACEMENT</h3>\n            <p><strong>Click on the grid to place your ships!</strong></p>\n            <p>You can <strong>change the ship</strong> you want to place by <strong>clicking on another</strong>.</p>\n            <p><span class="highlighted green"><strong>Legal</strong></span> placements highlight <strong><span class="highlighted green">green</span></strong>. <span class="highlighted red"><strong>Illegal</strong></span> placements highlight <span class="highlighted red"><strong>red</strong></span>.</p>\n            <p>You <strong>cannot place</strong> a ship within <strong>a square</strong> of an <strong>already placed ship</strong>, or if the ship <strong>length</strong> means it is positioned <strong>outside the grid</strong>.</p>\n            <br></br>\n            <p><strong>Button descriptions:</strong></p>\n            <p><strong>PLACING:</strong> Displays the <strong>current direction</strong> of the ship to be placed. <strong>Click</strong> the direction of the ship, HORIZONTAL / VERTICAL, to <strong>change</strong> the direction.</p>\n            <p><strong>↶:</strong> <strong>Undo</strong> the <strong>previous</strong> ship placement.</p>\n            <p><strong>RANDOMISE:</strong> Places all ships onto the board in a random manner.</p>\n            <p><strong>RESET:</strong> Removes all ships from the grid to the starting position.</p>\n        '}function u(){const n=document.querySelector(`.${this.name}-grid-container`),e=n.querySelector(".singular-ship-btns"),t=n.querySelector(".multiple-ship-btns");n.removeChild(e),n.removeChild(t)}function h(){const n=document.createElement("div");n.classList.add("ships-container"),n.innerHTML='\n        <div class="ship-container-1">\n            <div class="draggable-ship" data-size="4">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div> \n            <div class="draggable-ship" data-size="3">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="3">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n        </div>\n        <div class="ship-container-2">\n            <div class="draggable-ship" data-size="2">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="2">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="2">\n                <div class="inside-ship"></div>\n                <div class="inside-ship"></div>\n            </div>\n        </div>\n        <div class="ship-container-3">\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n            <div class="draggable-ship" data-size="1">\n                <div class="inside-ship"></div>\n            </div>\n        </div>\n        ';const t=document.querySelector(`.${this.name}-grid-container`);t.insertAdjacentElement("afterbegin",n),e=[...t.querySelectorAll(".draggable-ship")]}function m(){const n=document.querySelector(`.${this.name}-grid-container`),e=n.querySelector(".ships-container");e&&n.removeChild(e)}function g(){document.querySelectorAll(`.${this.name}-grid.game-board.number`).forEach((n=>{n.classList.contains("reveal")&&(n.classList.remove("reveal"),n.classList.add("hidden"))}))}function C(n=0){e.length>0&&(t=e[n%e.length],t.classList.add("placing"))}function y(){function o(n,e,t){let r=!0,i=[];if(a=document.querySelector(`.${this.name}.horizontal-or-vertical-btn`).textContent,"HORIZONTAL"===a)for(let a=0;a<t;a++){let t=O.bind(this)(n,e+a);t&&i.push(t),!0===s(n,e+a)&&(r=!1)}else if("VERTICAL"===a)for(let a=0;a<t;a++){let t=O.bind(this)(n+a,e);t&&i.push(t),!0===s(n+a,e)&&(r=!1)}return[r,i]}function s(e,t){return e>9||t>9||null!=n.board[e][t]||null!=n.missed[e][t]}function l(e,t){const r=w(e,t);for(let e of r){let t=e[0],r=e[1];null===n.missed[r][t]&&n.recieveAttack([t,r])}}C(),e.forEach((n=>{n.addEventListener("mousedown",p)}));const A=n=>{if(n.preventDefault(),e.length>0){const[e,r]=k.bind(this)(n.target),i=parseInt(t.dataset.size);let[a,s]=o.bind(this)(e,r,i);if(!0===a)for(let n of s)n.classList.add("highlight");else for(let n of s)n.classList.add("not-valid")}};function c(n){let e=document.querySelectorAll(".highlight");0===e.length&&(e=document.querySelectorAll(".not-valid")),e.forEach((n=>{n.classList.remove("highlight","not-valid","shaking-animation")}))}const d=s=>{if(s.preventDefault(),e.length>0){const[A,c]=k.bind(this)(s.target),d=parseInt(t.dataset.size);let p=A,u=A,h=c,m=c,[g,f]=o.bind(this)(A,c,d);if(g){for(let n of f)n.classList.add("ship-present","reveal"),n.classList.remove("highlight");if("HORIZONTAL"===a){m=c+d-1,n.positionShips([[h,m,p,u]]);for(let n=0;n<d;n++)l.bind(this)(c+n,A)}else if("VERTICAL"===a){u=A+d-1,n.positionShips([[h,m,p,u]]);for(let n=0;n<d;n++)l.bind(this)(c,A+n)}!function(){for(let n=0;n<e.length;n++)if(t===e[n]){e[n].classList.add("invisible"),e.splice(n,1),r.push(t),i.push(n),C(n);break}}()}else for(let n of f)n.classList.add("shaking-animation","not-valid"),n.addEventListener("animationend",(()=>{n.classList.remove("shaking-animation")}),{once:!0})}};function p(n){t&&t.classList.remove("placing"),t=n.target.parentElement,t.classList.add("placing")}document.querySelectorAll(`.${this.name}-grid.game-board.number`).forEach((n=>{n.addEventListener("mouseenter",A),n.addEventListener("mouseleave",c),n.addEventListener("mousedown",d)}))}function b(n){for(let t=0;t<e.length;t++){const r=parseInt(e[t].dataset.size);if(n.length===r){e[t].classList.add("sunk"),e.splice(t,1);break}}}function I(n){console.log(n);for(let e of n){const n=e[0],t=e[1];O.bind(this)(n,t).classList.remove("ship-present","reveal")}}function B(){for(let e=0;e<=9;e++)for(let t=0;t<=9;t++)n.missed[t][e]=null}function v(n){E.bind(this)(n)}function E(n){""===n.textContent&&(n.classList.contains("ship-present")?(n.textContent="X",M(`${this.opponent.moniker} <span class="highlighted red">HIT</span>`),n.classList.contains("hidden")&&(n.classList.remove("hidden"),n.classList.add("reveal"))):(n.textContent="●",M(`${this.opponent.moniker} <span class="highlighted blue">MISSED</span>`),this.showOverlay(!0),this.opponent.showOverlay(!1),n.id="hit","computer"===this.name&&(s?N.bind(this)():G.bind(this)())),L.bind(this)(n))}function S(n){const[e,t]=k(n);return this.opponent.gameboard.board[e][t].sunk}function k(n){const e=n.getAttribute("class");for(let n of e.split(" "))if("0123456789".includes(n[0]))return[parseInt(n[0]),parseInt(n[1])]}function L(e){if(!n)return;const[t,r]=k(e);n.recieveAttack([r,t]),null!=n.board[t][r]&&n.board[t][r].sunk&&(M(`${this.opponent.moniker} <span class="highlighted orange">SANK</span> ONE OF ${this.moniker}'s SHIPS`),T(n.board,r,t,new Set).forEach((n=>{let e=parseInt(n[1]),t=parseInt(n[0]);O.bind(this)(t,e).classList.add("sunk"),x.bind(this)(e,t)})),b.bind(this)(n.board[t][r]),n.allShipsSunk()&&$.bind(this)())}function x(e,t,r=null){const i=w(e,t);for(let e of i){let t=e[0],i=e[1];if(null===n.missed[i][t]){n.recieveAttack.bind(this)([t,i]);const e=O.bind(this)(i,t);e.textContent="●",e.id="revealedMiss","computer"===this.opponent.name&&R(e,r)}}}function w(e,t){const r=[];for(let i=t-1;i<=t+1;i++)for(let t=e-1;t<=e+1;t++)Math.min(t,i)<0||Math.max(t,i)>9||null!=n.board[i][t]||r.push([t,i]);return r}function O(n,e){const t=document.getElementById(this.name+"Grid").querySelectorAll("*");let r=null;return t.forEach((t=>{t.classList.contains(`${n}${e}`)&&(r=t)})),r}function T(n,e,t,r){if(!(r.has(`${t}${e}`)||Math.max(e,t)>9||Math.min(e,t)<0||null===n[t][e]))return r.add(`${t}${e}`),T(n,e+1,t,r),T(n,e-1,t,r),T(n,e,t+1,r),T(n,e,t-1,r),r}function M(n){document.querySelector(".turn-text").innerHTML=n}async function G(){let n=await Math.floor(Math.random()*o.length);for(;n>=o.length;)n=await Math.floor(Math.random()*o.length);const e=await o[n];o.splice(n,1);let t=await Math.max(150,500*Math.random());await new Promise((n=>setTimeout(n,t))),q.bind(this)(e)}function R(n,e){for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}function q(n,e=!1){n.classList.contains("ship-present")?(n.textContent="X",M('COMPUTER <span class="highlighted red">HIT</span>'),P.bind(this)(n),o.length>0&&(S.bind(this)(n)?G.bind(this)():N.bind(this)(n,e))):(n.textContent="●",M('COMPUTER <span class="highlighted blue">MISSED</span>'),P.bind(this)(n),this.showOverlay(!1),this.opponent.showOverlay(!0),n.id="hit")}function P(e){if(!n)return;const[t,r]=k(e);this.opponent.gameboard.recieveAttack([r,t]),null!=this.opponent.gameboard.board[t][r]&&this.opponent.gameboard.board[t][r].sunk&&(M(`COMPUTER <span class="highlighted orange">SANK</span> ONE OF ${this.opponent.moniker}'s SHIPS`),s=null,l=null,T(this.opponent.gameboard.board,r,t,new Set).forEach((n=>{let e=parseInt(n[1]),t=parseInt(n[0]);this.opponent.gridDivFromCoordinates(t,e).classList.add("sunk"),this.opponent.nearbyShipSquaresHit(e,t,o)})),this.opponent.updateClassListOnDraggableShip(this.opponent.gameboard.board[t][r]),this.opponent.gameboard.allShipsSunk()&&$.bind(this)())}async function N(n=null,e=!1){if(s){if(e){const t=H(n);for(let n in t)s[n]=t[n];!function(n){l||(l=U.bind(this)(n));for(const n in s)A[l].includes(n)||delete s[n]}(e)}}else s=H(n);let t=await Math.max(150,500*Math.random());await new Promise((n=>setTimeout(n,t)));const[r,i]=z.bind(this)(s);R(r,o),q.bind(this)(r,i)}function H(n){const[e,t]=k(n),r=[[e+1,t,"beneath"],[e-1,t,"above"],[e,t+1,"right"],[e,t-1,"left"]],i={};for(let n of r){let[e,t,r]=n;const a=D(t,e);a&&(i[r]=a)}return i}function D(n,e){let t=null;return o.forEach((r=>{r.classList.contains(`${e}${n}`)&&(t=r)})),t}function z(n){const e=Object.keys(n)[0],t=n[e];return delete n[e],[t,e]}function U(n){return l="above"===n||"beneath"===n?"vertical":"horizontal",l}function X(){Array.from(document.querySelectorAll(".game-board.number")).forEach((n=>{n.removeEventListener("click",n._boundClickHandler)}))}function $(){document.getElementById("gameEndingOverlay").style.display="flex",o&&(o.length=0),X.bind(this)();const n=document.querySelector(".winner-confirmation");let e;this.gameboard.allShipsSunk()?(e=this.opponent.moniker,this.opponent.winningCounter++):(e=this.moniker,this.winningCounter++),n.textContent=`Congratulations ${e} wins!`;const t=document.querySelector(".current-score#gameEnd");"player1"===this.name?t.textContent=`${this.moniker} : ${this.winningCounter}     -     ${this.opponent.winningCounter} : ${this.opponent.moniker}`:t.textContent=`${this.opponent.moniker} : ${this.opponent.winningCounter}     -     ${this.winningCounter} : ${this.moniker}`}return{buildHTMLGrid:function(e){const t=document.getElementById(this.name+"Grid");for(let r=0;r<=9;r++)for(let i=0;i<=9;i++){const a=document.createElement("div");a.classList=`${t.classList} number ${r}${i}`,null!=n.board[r][i]&&(a.classList.add("ship-present"),e?a.classList.add("reveal"):a.classList.add("hidden")),t.appendChild(a)}},showOverlay:function(n,e=this.name){document.getElementById(e+"GridOverlay").style.display=n?"block":"none"},registerGridDivEventListener:function(){document.getElementById(this.name+"Grid").querySelectorAll("*").forEach((n=>{const e=v.bind(this,n);n._boundClickHandler=e,n.addEventListener("click",e)}))},buildHTMLDivContainers:function(){const n=document.querySelector(".grid-containers"),e=document.createElement("div");e.classList.add(`${this.name}-grid-container`),e.id=`${this.name}Container`,console.log(this.name,this.moniker),e.innerHTML=`\n        <h3 class="${this.name} title">${this.moniker}</h3>\n        <h3 class="${this.name}-winning-counter">${this.winningCounter}</h3>\n        <div class="${this.name}-grid game-board" id="${this.name}Grid"></div>\n        <div class="grid-overlay" id="${this.name}GridOverlay"></div>\n        `,n.appendChild(e)},computerGuess:G,opponent:null,generateComputerGuesses:function(){o=[],document.getElementById(`${this.opponent.name}Grid`).querySelectorAll("*").forEach((n=>{o.push(n)}))},positionShips:n.positionShips,allShipsSunk:n.allShipsSunk,allShipsPlaced:n.allShipsPlaced,gameboard:n,gridDivFromCoordinates:O,nearbyShipSquaresHit:x,potentialComputerGuesses:o,buildShips:h,applyDraggableShips:y,buildButtonContainer:function(){const n=document.createElement("div");n.classList.add("singular-ship-btns");const e=document.createElement("div");e.classList.add("multiple-ship-btns");const t=document.createElement("div");t.innerHTML="PLACING:",t.classList.add("placing-div");const r=document.createElement("button");r.classList.add(`${this.name}`,"horizontal-or-vertical-btn"),r.textContent="HORIZONTAL";const i=document.createElement("button");i.classList.add(`${this.name}`,"undo-btn"),i.textContent="↶";const a=document.createElement("button");a.classList.add(`${this.name}`,"randomise-btn"),a.textContent="RANDOMISE";const o=document.createElement("button");o.classList.add(`${this.name}`,"confirm-btn"),o.textContent="CONFIRM";const s=document.createElement("button");s.classList.add(`${this.name}`,"reset-btn"),s.textContent="RESET",n.appendChild(t),n.appendChild(r),n.appendChild(i),e.appendChild(a),e.appendChild(s),e.appendChild(o);const l=document.querySelector(`.${this.name}-grid.game-board`);l.insertAdjacentElement("afterend",e),l.insertAdjacentElement("afterend",n)},resetGrid:function(){for(let e=0;e<=9;e++)for(let t=0;t<=9;t++)n.board[e][t]=null,n.missed[e][t]=null;c.bind(this)(),d.bind(this)()},removeShips:m,removeButtons:u,hideGridShips:g,updateTurnText:M,updateClassListOnDraggableShip:b,buildRules:p,removeRules:function(){const n=document.getElementById(`${this.name}GridOverlay`);n.style.paddingLeft="0",this.showOverlay(!1),n.innerHTML=""},toggleShipsInvisible:function(){e.forEach((n=>{n.classList.add("invisible"),n.classList.remove("placing")}))},resetShips:function(){m.bind(this)(),h.bind(this)(),y.bind(this)()},resetHTMLGrid:c,progressFromShipPlacement:function(n){"computer"===this.opponent.name?(u.bind(this)(),m.bind(this)(),B(),this.opponent.removeRules()):"player2TurnStart"===n?(p.bind(this)(),m.bind(this)(),B(),this.opponent.removeRules(),this.opponent.buildShips(),this.opponent.applyDraggableShips()):"player2TurnFinish"===n&&(this.opponent.removeRules(),this.opponent.removeButtons(),m.bind(this)(),u.bind(this)(),B(),this.opponent.hideGridShips(),g.bind(this)())},resetShipsArray:d,planeOfPlacingShip:a,winningCounter:null,removeLastShip:function(){if(n.ships.length>0){const a=function(e){const t=[];for(let r=0;r<=9;r++)for(let i=0;i<=9;i++)n.board[r][i]===e&&(n.board[r][i]=null,t.push([r,i]));return t}(n.ships.pop(n.ships.length-1));I.bind(this)(a),function(e){for(let t of e){const e=t[0],r=w(t[1],e);for(let e of r){const t=e[1],r=e[0];null!=n.missed[t][r]&&(n.missed[t][r]=null)}}}(a),function(){const n=r.pop(),a=i.pop();n.classList.remove("invisible"),e.splice(a,0,n),t.classList.remove("placing"),t=n}()}}}};function y(){const n=document.querySelector(".player-selection-container").offsetLeft+200;document.documentElement.style.setProperty("--player-selection-distance",`${n}px`)}function b(){const n=document.querySelector(".player2-moniker-text"),e=document.querySelector(".player2-name-is-computer"),t=("none"===window.getComputedStyle(e).getPropertyValue("display")?n:e).offsetLeft+200;document.documentElement.style.setProperty("--moniker-selection-distance",`${t}px`)}let I=[];class B{constructor(n,e=0,t=!1){this.length=n,this.hits=e,this.sunk=t}}function v(n){if(null===n)return void console.log("Need to provide coordinates");let e;const[t,r,i,a]=n;if(t===r&&i===a)e=new B(1),I[i][t]=e;else if(t===r){const n=a-i+1;e=new B(n);for(let r=0;r<n;r++)I[i+r][t]=e}else{if(i!==a)throw Error;{const n=r-t+1;e=new B(n);for(let r=0;r<n;r++)I[i][t+r]=e}}}function E(n,e){const t=function(n,e){const t=[];for(let r=e-1;r<=e+1;r++)for(let e=n-1;e<=n+1;e++)Math.min(e,r)<0||Math.max(e,r)>9||null!=I[r][e]||t.push([e,r]);return t}(n,e);for(let n of t){const e=n[0],t=n[1];null===I[t][e]&&(I[t][e]="Nearby")}}async function S(){I=Array.from({length:10},(()=>Array(10).fill(null)));const n=["horizontal","vertical"],e=[{length:4},{length:3},{length:3},{length:2},{length:2},{length:2},{length:1},{length:1},{length:1},{length:1}],t=[];for(let r of e){let e=Math.round(Math.random());r.direction=n[e];let i,a,o,s,l=!1;for(;!l;){if("horizontal"===r.direction){let n=Math.round(9*Math.random());o=n,s=n,i=Math.round(9*Math.random()),a=i+(r.length-1),a>9&&(a=i,i=a-(r.length-1));let e=!1;for(let n=i;n<=a;n++)if(null!=I[o][n]){e=!0;break}if(e)continue}else{let n=Math.round(9*Math.random());i=n,a=n,o=Math.round(9*Math.random()),s=o+(r.length-1),s>9&&(s=o,o=s-(r.length-1));let e=!1;for(let n=o;n<=s;n++)if(null!=I[n][i]){e=!0;break}if(e)continue}if(await v([i,a,o,s]),"horizontal"===r.direction)for(let n=i;n<=a;n++)await E(n,o);else for(let n=o;n<=s;n++)await E(i,n);t.push([i,a,o,s]),l=!0}}return t}function k(n){n.classList.contains("player1"),n.textContent="HORIZONTAL"===n.textContent?"VERTICAL":"HORIZONTAL"}function L(n,e,t){n.classList.contains("player1")?e.removeLastShip():t.removeLastShip()}async function x(n,e,t){const r=await S();n.classList.contains("player1")?(e.resetGrid(),e.positionShips(r),e.buildHTMLGrid(!0),e.toggleShipsInvisible()):(t.resetGrid(),t.positionShips(r),t.buildHTMLGrid(!0),t.toggleShipsInvisible())}function w(n,e,t){n.classList.contains("player1")?(e.resetGrid(),e.buildHTMLGrid(!0),e.resetShips()):(t.resetGrid(),t.buildHTMLGrid(!0),t.resetShips())}function O(n){const e=document.querySelector(`.${n.name}.confirm-btn`);e.classList.add("denied"),e.addEventListener("animationend",(()=>{e.classList.remove("denied")}))}function T(n,e=!1){let t;t=e?[document.querySelector("#player1GridOverlay"),document.querySelector("#computerGridOverlay")]:[document.querySelector("#player1GridOverlay"),document.querySelector("#player2GridOverlay")],"blue"===n?t.forEach((n=>{n.style.backgroundColor="rgb(73, 110, 235)"})):"partially-transparent"===n&&t.forEach((n=>{n.style.backgroundColor="rgba(0, 0, 0, 0.5)"}))}let M=null,G=null,R=null,q=null,P=null;!async function n(){if(null===R){const{chosenPlayer2:n,player1MonikerValue:e,player2MonikerValue:t}=await function(){const n=document.getElementById("overallOverlay");n.style.display="block";const e=document.createElement("div");e.classList.add("centered-container"),e.innerHTML='\n        <h1 class="welcome-title">WELCOME TO BATTLESHIPS:</h1>\n        <div class="player-selection">\n            <h3>PLAYER</h3>\n            <h3>VS</h3>\n            <div class="player-selection-container">\n                <div class="player-2-btn-container">\n                    <button class="player-2-btn">PLAYER</button>\n                </div>\n                <div class="computer-btn-container">\n                    <button class="computer-btn">COMPUTER</button>\n                </div>\n            </div>\n            <div class="confirm-player-or-computer-btn-container">\n                <button class="confirm-player-or-computer-btn">CONFIRM</button>\n            </div>\n            <div class="player-selection-overlay"></div>            \n        </div>\n        <div class="moniker-selection">\n            <div class="player1-moniker-container">\n                <input type="text" class="player1-moniker-text" placeholder="PLAYER1" value="PLAYER1" size="10" maxlength="15">\n            </div>\n            <h3>VS</h3>\n            <div class="player2-moniker-container">\n                <input type="text" class="player2-moniker-text" placeholder="PLAYER2" value="PLAYER2" size="10" maxlength="15">\n            </div>\n            <h3 class="player2-name-is-computer">COMPUTER</h3>\n            <div class="moniker-btns-container">\n                <div class="confirm-moniker-btn-container">\n                    <button class="confirm-moniker-btn">CONFIRM</button>\n                </div>\n                <div class="back-btn-container">\n                    <button class="back-btn">BACK</button>\n                </div>\n            </div>\n        </div>\n        <div class="game-rules-overlay" id="gameRulesOverlay">\n            <h3 class="game-rules-title">GAME RULES</h3>\n            <p>Try and work out where the enemy ships are and sink them first!</p>\n            <p>Each player places their ships, between 1 to 4 squares in size, secretly on their gameboard.</p>\n            <p>Players take turns shooting at the opponents grid\'s by clicking on a square to a response of "HIT", "MISS" or "SUNK".</p>\n            <p>First player to sink all of their opponent\'s ships wins! Good Luck!</p>\n\n            <p>Player vs Player is local play which means the screen is shared>\n            <p>Local play requires the opponent to not look at the screen whilst the other player is positioning their ships!</p>\n\n            <p>TIP: Watch the game tracker beneath the title if you get lost</p>\n        </div>\n        ',n.appendChild(e),y(),window.addEventListener("resize",y),window.addEventListener("resize",b);let t=null;const r=document.querySelector("body"),i=document.querySelector(".player-selection"),a=document.querySelector(".moniker-selection"),o=document.querySelector(".player-2-btn"),s=document.querySelector(".computer-btn"),l=document.querySelector(".player1-moniker-text"),A=document.querySelector(".player2-moniker-text"),c=document.querySelector(".player2-name-is-computer");let d="PLAYER1",p="PLAYER2";o.addEventListener("click",(()=>{t="player",o.classList.add("highlighted","green"),s.classList.remove("highlighted","green")})),s.addEventListener("click",(()=>{t="computer",s.classList.add("highlighted","green"),o.classList.remove("highlighted","green")}));const u=document.querySelector(".confirm-player-or-computer-btn");u.addEventListener("click",(()=>{t?("computer"===t?(A.style.display="none",p="COMPUTER",c.style.display="block"):(c.style.display="none",A.style.display="block",p=A.value),i.classList.add("player-selection-leave"),r.style.overflow="hidden",i.addEventListener("animationend",(()=>{i.style.display="none",i.classList.remove("player-selection-leave"),a.style.display="flex",b(),a.classList.add("moniker-selection-enter")}),{once:!0}),a.addEventListener("animationend",(()=>{a.classList.remove("moniker-selection-enter"),r.style.overflow="auto"}),{once:!0})):(u.classList.add("denied"),u.addEventListener("animationend",(()=>{u.classList.remove("denied")})))})),l.addEventListener("input",(n=>{d=n.target.value})),A.addEventListener("input",(n=>{p=n.target.value})),document.querySelector(".back-btn").addEventListener("click",(()=>{a.classList.add("moniker-selection-leave"),r.style.overflow="hidden",a.addEventListener("animationend",(()=>{a.style.display="none",a.classList.remove("moniker-selection-leave"),i.style.display="flex",y(),i.classList.add("player-selection-enter")}),{once:!0}),i.addEventListener("animationend",(()=>{i.classList.remove("player-selection-enter"),r.style.overflow="auto"}),{once:!0})}));const h=document.querySelector(".confirm-moniker-btn");return new Promise((e=>{h.addEventListener("click",(()=>{""===d&&(d="PLAYER1"),""===p&&(p="computer"===t?"COMPUTER":"PLAYER2"),d===p&&(d+="1",p+="2"),e({chosenPlayer2:t,player1MonikerValue:d,player2MonikerValue:p}),n.innerHTML="",n.style.display="none",window.removeEventListener("resize",y),window.removeEventListener("resize",b)}))}))}();R="player"===n?"player2":"computer",q=e,P=t,M=0,G=0,document.querySelector(".grid-containers").innerHTML=""}const e=C();e.name="player1",e.moniker=q;const t=C();t.name=`${R}`,t.moniker=P,e.opponent=t,t.opponent=e,e.winningCounter=M,t.winningCounter=G,e.buildHTMLDivContainers(),t.buildHTMLDivContainers(),e.updateTurnText(`${e.moniker} <span class="highlighted green">PLACE YOUR SHIPS</span>`),e.buildHTMLGrid(!0),e.buildShips(),e.applyDraggableShips(),t.buildRules(),e.buildButtonContainer(),t.buildButtonContainer(),"computer"===t.name?(t.buildHTMLGrid(!1),T("blue",!0)):t.buildHTMLGrid(!0),document.querySelector(".game-rules-btn").addEventListener("click",(()=>{!function(){const n=document.querySelector(".game-rules-overlay"),e=document.querySelector("body");"none"===n.style.display?(n.style.display="block",e.style.overflow="hidden",n.classList.add("rules-load-in"),n.addEventListener("animationend",(()=>{n.classList.remove("rules-load-in"),e.style.overflow="auto"}),{once:!0})):(e.style.overflow="hidden",n.classList.add("rules-load-out"),n.addEventListener("animationend",(()=>{n.classList.remove("rules-load-out"),n.style.display="none",e.style.overflow="auto"}),{once:!0}))}()}));const r=document.querySelectorAll(".horizontal-or-vertical-btn");for(const n of r)n.onclick=()=>k(n);const i=document.querySelectorAll(".undo-btn");for(const n of i)n.onclick=()=>L(n,e,t);const a=document.querySelectorAll(".randomise-btn");for(const n of a)n.onclick=()=>x(n,e,t);const o=document.querySelectorAll(".reset-btn");for(const n of o)n.onclick=()=>w(n,e,t);if(await async function(n,e){"computer"===e.name?await function(n,e){const t=document.querySelector(".player1.confirm-btn");let r;return new Promise((i=>{r=i,t.onclick=()=>{n.allShipsPlaced()?(n.progressFromShipPlacement(),e.removeButtons(),T("partially-transparent",!0),i()):O(n)}}))}(n,e):await function(n,e){T("blue"),document.querySelector(".player1.confirm-btn").onclick=()=>{n.allShipsPlaced()?(n.progressFromShipPlacement("player2TurnStart"),e.updateTurnText(`${e.moniker} <span class="highlighted green">PLACE YOUR SHIPS</span>`)):O(n)};const t=document.querySelector(".player2.confirm-btn");let r;return new Promise((n=>{r=n,t.onclick=()=>{e.allShipsPlaced()?(e.progressFromShipPlacement("player2TurnFinish"),T("partially-transparent"),n()):O(e)}}))}(n,e)}(e,t),"computer"===t.name){t.resetGrid(),t.generateComputerGuesses();const n=await S();t.positionShips(n),t.buildHTMLGrid(!1)}else e.resetHTMLGrid(),e.buildHTMLGrid(),t.resetHTMLGrid(),t.buildHTMLGrid(),e.registerGridDivEventListener();e.buildShips(),t.buildShips(),t.registerGridDivEventListener();let s=function(n){let e=Math.random(),t=Math.round(e),r=n[t].moniker;return document.querySelector(".turn-text").textContent=`${r.toUpperCase()} GOES FIRST`,n[t]}([e,t]);s.showOverlay(!0),"computer"===s.name&&(console.log("COMPUTER GUESSED FIRST"),t.computerGuess()),document.querySelector(".reset-btn").addEventListener("click",(()=>{R=null,document.getElementById("gameEndingOverlay").style.display="none",document.querySelector(".grid-containers").innerHTML="",e.resetShipsArray(),t.resetShipsArray(),n()})),document.querySelector(".refresh-btn").addEventListener("click",(()=>{M=e.winningCounter,G=t.winningCounter,document.getElementById("gameEndingOverlay").style.display="none",document.querySelector(".grid-containers").innerHTML="",e.resetShipsArray(),t.resetShipsArray(),n()}))}()}},n=>{n(n.s=508)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNuQkMsRUFBUUYsRUFBUXBVLEdBQU8ySixRQUszQixPQUhnQmxKLFNBQVNDLGNBQWMsY0FDL0I0RyxZQUFjLEdBQUdnTixFQUFNQywyQkFFeEJILEVBQVFwVSxFQUNuQixDRDJIZXdVLENBQVUsQ0FBQ3ZELEVBQVNDLElBQy9CaUQsRUFBS25PLGFBQVksR0FFQyxhQUFkbU8sRUFBSzFPLE9BQ0w5QixRQUFRQyxJQUFJLDBCQUNac04sRUFBUXJILGlCQUlXcEosU0FBU0MsY0FBYyxjQUMvQm9ILGlCQUFpQixTQUFTLEtBQ3JDNEIsRUFBVyxLQUVLakosU0FBU3FGLGVBQWUscUJBQ2hDeEYsTUFBTStNLFFBQVUsT0FFTjVNLFNBQVNDLGNBQWMsb0JBRS9CZ0YsVUFBWSxHQUV0QnVMLEVBQVF0TCxrQkFDUnVMLEVBQVF2TCxrQkFFUnNNLEdBQWdCLElBR0F4UixTQUFTQyxjQUFjLGdCQUMvQm9ILGlCQUFpQixTQUFTLEtBQ2xDK0osRUFBd0JaLEVBQVF6RCxlQUNoQ3NFLEVBQXdCWixFQUFRMUQsZUFFaEIvTSxTQUFTcUYsZUFBZSxxQkFDaEN4RixNQUFNK00sUUFBVSxPQUVONU0sU0FBU0MsY0FBYyxvQkFFL0JnRixVQUFZLEdBRXRCdUwsRUFBUXRMLGtCQUNSdUwsRUFBUXZMLGtCQUVSc00sR0FBZ0IsR0FFeEIsQ0FFQUEsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9zdHlsZXMuY3NzPzQ0YjIiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvY2xhc3NDcmVhdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL2Rpc3RhbmNlLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL3JhbmRvbWlzZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9idXR0b25Mb2dpYy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9wbGF5ZXJTZWxlY3Rpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYDpyb290IHtcclxuICAgIC0tcGxheWVyLXNlbGVjdGlvbi1kaXN0YW5jZTogMDsgLyogVmFyaWFibGUgZm9yIGFuaW1hdGlvbiBvZiB0aGUgZ3JpZE92ZXJsYXkncyAqL1xyXG4gICAgLS1tb25pa2VyLXNlbGVjdGlvbi1kaXN0YW5jZTogMDtcclxuICB9XHJcblxyXG5ib2R5IHtcclxuICAgIHVzZXItc2VsZWN0OiBub25lO1xyXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbmhlYWRlciB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bztcclxufVxyXG5cclxuaDEudGl0bGUsIC53aW5uZXItY29uZmlybWF0aW9uIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGNvbG9yOiByZ2IoNzMsIDExMCwgMjM1KTtcclxufVxyXG5cclxuLnBsYXllcjEtd2lubmluZy1jb3VudGVyIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGxlZnQ6IDQ1JTtcclxuICAgIGdyaWQtYXJlYTogMSAvIDI7XHJcbiAgICBjb2xvcjogcmdiKDM4LCAyMDksIDM4KTtcclxufVxyXG5cclxuLnBsYXllcjItd2lubmluZy1jb3VudGVyLCAuY29tcHV0ZXItd2lubmluZy1jb3VudGVyIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHJpZ2h0OiA0NSU7XHJcbiAgICBncmlkLWFyZWE6IDEgLyAyO1xyXG4gICAgY29sb3I6IHJnYigzOCwgMjA5LCAzOCk7XHJcbn1cclxuXHJcbi5wbGF5ZXIxLWdyaWQubnVtYmVyLCAucGxheWVyMi1ncmlkLm51bWJlciwgLmNvbXB1dGVyLWdyaWQubnVtYmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmNlbnRlcmVkLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiAyZnIgYXV0byAzZnI7XHJcbiAgICBoZWlnaHQ6IDEwMCU7IFxyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG5cclxuICAgIGdhcDogMmVtO1xyXG59XHJcblxyXG4uZ2FtZS1ydWxlcy1idG4ge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogOTAlO1xyXG4gICAgdG9wOiAzLjQlO1xyXG5cclxuICAgIGNvbG9yOiByZ2IoNzMsIDExMCwgMjM1KTtcclxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xyXG4gICAgZm9udC1zaXplOiBsYXJnZTtcclxuICAgIHBhZGRpbmc6IDRweCA4cHg7XHJcbn1cclxuXHJcbi5nYW1lLXJ1bGVzLW92ZXJsYXkge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4ucnVsZXMtbG9hZC1pbiB7XHJcbiAgICBhbmltYXRpb246IGZhZGVJbiAxcyBlYXNlO1xyXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBmYWRlSW4ge1xyXG4gICAgMCUge1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDUwJSk7IC8qIFNsaWRlIGluIGZyb20gYm90dG9tICovXHJcbiAgICB9XHJcbiAgICAxMDAlIHtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi5ydWxlcy1sb2FkLW91dCB7XHJcbiAgICBhbmltYXRpb246IGZhZGVPdXQgMXMgZWFzZTtcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgZmFkZU91dCB7XHJcbiAgICAwJSB7IFxyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcclxuICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgfVxyXG4gICAgMTAwJSB7IFxyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg1MCUpOyAgLyogU2xpZGUgb3V0IGZyb20gYm90dG9tICovXHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgIH1cclxufVxyXG5cclxuLmdhbWUtcnVsZXMtdGl0bGUge1xyXG4gICAgY29sb3I6IHJnYig3MywgMTEwLCAyMzUpO1xyXG59XHJcblxyXG4jZ2FtZUVuZGluZ092ZXJsYXkge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcblxyXG59XHJcblxyXG4ucmVzZXQtYnRuLWRpdiwgLnJlZnJlc2gtYnRuLWRpdiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAxNnB4O1xyXG59XHJcblxyXG4uZ2FtZS1lbmQtYnRuLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi53ZWxjb21lLXRpdGxlIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4OiA0O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcblxyXG4gICAgY29sb3I6IHJnYig3MywgMTEwLCAyMzUpO1xyXG59XHJcblxyXG4ucGxheWVyLXNlbGVjdGlvbiwgLm1vbmlrZXItc2VsZWN0aW9uIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGdhcDogMmVtO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4gICAgLyogaGVpZ2h0OiAxMDAlOyAqL1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBmbGV4OiA1O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLnBsYXllci1zZWxlY3Rpb24tZW50ZXIge1xyXG4gICAgYW5pbWF0aW9uOiBwbGF5ZXItc2VsZWN0aW9uLWVudGVyIDAuMjVzIGVhc2Utb3V0O1xyXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBwbGF5ZXItc2VsZWN0aW9uLWVudGVyIHtcclxuICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgfVxyXG4gICAgNDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDUlKTsgfVxyXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxyXG59XHJcblxyXG4ucGxheWVyLXNlbGVjdGlvbi1sZWF2ZSB7XHJcbiAgICBhbmltYXRpb246IHBsYXllci1zZWxlY3Rpb24tbGVhdmUgMC4yNXMgZWFzZS1pbjtcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgcGxheWVyLXNlbGVjdGlvbi1sZWF2ZSB7XHJcbiAgICA1MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNSUpOyB9XHJcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTsgfVxyXG59XHJcblxyXG4ubW9uaWtlci1zZWxlY3Rpb24tZW50ZXIge1xyXG4gICAgYW5pbWF0aW9uOiBtb25pa2VyLXNlbGVjdGlvbi1lbnRlciAwLjI1cyBlYXNlLW91dDtcclxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XHJcbn1cclxuXHJcbkBrZXlmcmFtZXMgbW9uaWtlci1zZWxlY3Rpb24tZW50ZXIge1xyXG4gICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH1cclxuICAgIDQwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNSUpOyB9XHJcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9XHJcbn1cclxuXHJcbi5tb25pa2VyLXNlbGVjdGlvbi1sZWF2ZSB7XHJcbiAgICBhbmltYXRpb246IG1vbmlrZXItc2VsZWN0aW9uLWxlYXZlIDAuMjVzIGVhc2UtaW47XHJcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIG1vbmlrZXItc2VsZWN0aW9uLWxlYXZlIHtcclxuICAgIDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNSUpOyB9XHJcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOyB9XHJcbn1cclxuXHJcbi5wbGF5ZXItc2VsZWN0aW9uLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAxZW07XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5wbGF5ZXItMi1idG4tY29udGFpbmVyLCAuY29tcHV0ZXItYnRuLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5wbGF5ZXItMi1idG4sIC5jb21wdXRlci1idG57XHJcbiAgICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xyXG59XHJcblxyXG4ucGxheWVyLTItYnRuIHtcclxuICAgIHdpZHRoOiAxMDMuOTVweDtcclxufVxyXG5cclxuLnBsYXllcjItbmFtZS1pcy1jb21wdXRlciB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbGVmdDogLTFlbTtcclxufVxyXG5cclxuLnBsYXllcjEtbW9uaWtlci10ZXh0LCAucGxheWVyMi1tb25pa2VyLXRleHQge1xyXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbiAgICBmb250LXNpemU6IGxhcmdlO1xyXG59XHJcblxyXG4uY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuLWNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICBsZWZ0OiB2YXIoLS1wbGF5ZXItc2VsZWN0aW9uLWRpc3RhbmNlKTtcclxufVxyXG5cclxuLmNvbmZpcm0tcGxheWVyLW9yLWNvbXB1dGVyLWJ0biB7XHJcbiAgICBtYXJnaW46IDE4LjcycHg7XHJcbn1cclxuXHJcbi5tb25pa2VyLXNlbGVjdGlvbiB7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgbWluLWhlaWdodDogODEuMzNweDtcclxufVxyXG5cclxuLm1vbmlrZXItYnRucy1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdhcDogMWVtO1xyXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogdmFyKC0tbW9uaWtlci1zZWxlY3Rpb24tZGlzdGFuY2UpO1xyXG59XHJcblxyXG4uYmFjay1idG4ge1xyXG4gICAgd2lkdGg6IDkyLjA5cHg7XHJcbn1cclxuXHJcbiNoaXQsICNyZXZlYWxlZE1pc3Mge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2JiYjJiMjc5O1xyXG59XHJcblxyXG4jcmV2ZWFsZWRNaXNzIHtcclxuICAgIGNvbG9yOiByZ2IoMTE4LCAxMTUsIDExNSk7XHJcbn1cclxuXHJcbi5wbGF5ZXIxLWdyaWQubnVtYmVyLnNoaXAtcHJlc2VudCwgLnBsYXllcjItZ3JpZC5udW1iZXIuc2hpcC1wcmVzZW50LCAuY29tcHV0ZXItZ3JpZC5udW1iZXIuc2hpcC1wcmVzZW50IHtcclxuICAgIGNvbG9yOiByZWQ7XHJcbn1cclxuXHJcbi8qIFNISVAgUExBQ0lORyAqL1xyXG5kaXYucGxheWVyMS1ncmlkLm51bWJlci5oaWdobGlnaHQsIGRpdi5wbGF5ZXIyLWdyaWQubnVtYmVyLmhpZ2hsaWdodCwgZGl2LmNvbXB1dGVyLWdyaWQubnVtYmVyLmhpZ2hsaWdodCB7XHJcbiAgICAvKiBDSE9TRSBCT1JERVIgQVMgSVQgSVMgRUFTSUVSIFRPIFNFRSBXSEVOIFBMQUNJTkcgKi9cclxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigzOCwgMjA5LCAzOCk7XHJcbn1cclxuXHJcbmRpdi5wbGF5ZXIxLWdyaWQubnVtYmVyLm5vdC12YWxpZCwgZGl2LnBsYXllcjItZ3JpZC5udW1iZXIubm90LXZhbGlkIHtcclxuICAgIC8qIEFQUExZSU5HIEJPUkRFUiBBTExPV1MgVVNFUiBUTyBERVRFUk1JTkUgV0hBVCBJUyBCRUhJTkQgVEhFIENVUlNPUlxyXG4gICAgTkVDRVNTQVJZIFRPIFJFRFVDRSBXSURUSCBBTkQgSEVJR0hUIEJZIEJPUkRFUiBGT1IgTk8gQlVHUyAqL1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgcmVkO1xyXG4gICAgd2lkdGg6IDI4cHg7XHJcbiAgICBoZWlnaHQ6IDI4cHg7XHJcbn1cclxuXHJcbi5zaGFraW5nLWFuaW1hdGlvbiB7XHJcbiAgICBhbmltYXRpb24tbmFtZTogc2hha2VBbmltYXRpb247XHJcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuMjVzO1xyXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBzaGFrZUFuaW1hdGlvbiB7XHJcbiAgICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxyXG4gICAgMTUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XHJcbiAgICAzMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTsgfVxyXG4gICAgNDUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XHJcbiAgICA2MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTsgfVxyXG4gICAgNzUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XHJcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9XHJcbiAgfVxyXG5cclxuXHJcbi8qIERSQUdHQUJMRSBTSElQUyAqL1xyXG4uc2hpcC1jb250YWluZXItMSwgLnNoaXAtY29udGFpbmVyLTIsIC5zaGlwLWNvbnRhaW5lci0zIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICBhbGlnbi1pdGVtczogZW5kO1xyXG59XHJcblxyXG4uc2hpcHMtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBnYXA6IDFlbTtcclxuICAgIGdyaWQtYXJlYTogMSAvIDEgLyAtMiAvIDE7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgLyogUEFERElORyBUTyBBQ0NPVU5UIEZPUiBPVVRMSU5FIFdJRFRIICYgTUFLRSBHQVAgRk9SIEdSSUQgT1ZFUkxBWSBDT05TSVNURU5UICovXHJcbiAgICBwYWRkaW5nOiAwIDFlbSAycHggY2FsYygycHggKyAxZW0pO1xyXG59XHJcblxyXG4uaW5zaWRlLXNoaXAge1xyXG4gICAgd2lkdGg6IDMycHg7XHJcbiAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XHJcbn1cclxuXHJcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XCIxXCJdIHtcclxuICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgaGVpZ2h0OiAzMnB4O1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXBbZGF0YS1zaXplPVwiMlwiXSB7XHJcbiAgICB3aWR0aDogMzJweDtcclxuICAgIGhlaWdodDogNjRweDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgZ2FwOiAycHg7XHJcbn1cclxuXHJcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XCIzXCJdIHtcclxuICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgaGVpZ2h0OiA5NnB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDJweDtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cIjRcIl0ge1xyXG4gICAgd2lkdGg6IDMycHg7XHJcbiAgICBoZWlnaHQ6IDEyOHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDJweDtcclxufVxyXG5cclxuaDMudGl0bGUge1xyXG4gICAgZ3JpZC1hcmVhOiAxIC8gMjtcclxufVxyXG5cclxuI3BsYXllcjFHcmlkLCAjcGxheWVyMkdyaWQsICNjb21wdXRlckdyaWQge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCAzMnB4KTtcclxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAzMnB4KTtcclxuICAgIGdyaWQtZ2FwOiAycHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGJsdWU7XHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCBsaWdodGJsdWU7XHJcblxyXG4gICAgZ3JpZC1hcmVhOiAyIC8gMjtcclxuICAgIGhlaWdodDogbWF4LWNvbnRlbnQ7XHJcbiAgICBcclxufVxyXG5cclxuI3BsYXllcjFHcmlkT3ZlcmxheSwgI3BsYXllcjJHcmlkT3ZlcmxheSwgI2NvbXB1dGVyR3JpZE92ZXJsYXkge1xyXG4gICAgY29sb3I6IHJnYigyMzcsIDIzMywgMjMzKTtcclxufVxyXG5cclxuLmdyaWQtY29udGFpbmVycyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAyZW07XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxufVxyXG5cclxuLnNoaXAtcHJlc2VudC5yZXZlYWwge1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBmb250LXNpemU6IHgtbGFyZ2U7XHJcbn1cclxuXHJcbi5zdGFydC1idXR0b24tY29udGFpbmVye1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIG1hcmdpbi10b3A6IDMycHg7XHJcblxyXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5zdGFydC1idXR0b24sIC5yZXNldC1idG4sIC5yYW5kb21pc2UtYnRuLCAuY29uZmlybS1idG4sIC5ob3Jpem9udGFsLW9yLXZlcnRpY2FsLWJ0biwgLnJlZnJlc2gtYnRuLCAuY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuLCAuYmFjay1idG4sIC5jb25maXJtLW1vbmlrZXItYnRuLCAudW5kby1idG4ge1xyXG4gICAgZm9udC1zaXplOiBsYXJnZTtcclxuICAgIHBhZGRpbmc6IDRweCA4cHg7XHJcblxyXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XHJcbn1cclxuXHJcbi5tdWx0aXBsZS1zaGlwLWJ0bnMsIC5zaW5ndWxhci1zaGlwLWJ0bnMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxufVxyXG5cclxuLnNpbmd1bGFyLXNoaXAtYnRucyB7XHJcbiAgICBnYXA6IDFlbTtcclxufVxyXG5cclxuLm11bHRpcGxlLXNoaXAtYnRucyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcblxyXG4ucGxhY2luZy1kaXYge1xyXG4gICAgZm9udC1zaXplOiBsYXJnZTtcclxuICAgIGNvbG9yOiByZ2IoNzMsIDExMCwgMjM1KTtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG4ge1xyXG4gICAgbWluLXdpZHRoOiAxMzQuNjdweFxyXG59XHJcblxyXG5oMyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jb25maXJtLWJ0bi5kZW5pZWQsIC5jb25maXJtLXBsYXllci1vci1jb21wdXRlci1idG4uZGVuaWVkIHtcclxuICAgIGFuaW1hdGlvbjogZGVuaWVkIDAuMjVzO1xyXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcclxufVxyXG5cclxuQGtleWZyYW1lcyBkZW5pZWQge1xyXG4gICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IFxyXG4gICAgICAgIGNvbG9yOiByZ2IoMTI5LCAwLCAwKTt9XHJcbiAgICAxNSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cclxuICAgIDMwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpO1xyXG4gICAgICAgIGNvbG9yOiByZ2IoMjU1LCAwLCAwKTsgfVxyXG4gICAgNDUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XHJcbiAgICA2MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTtcclxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7IH1cclxuICAgIDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxyXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgXHJcbiAgICAgICAgY29sb3I6IHJnYigxMjksIDAsIDApO31cclxuICAgIDAlIHtcclxuICAgICAgICBjb2xvcjogcmdiKDEyOSwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgMzUlIHtcclxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgNjUlIHtcclxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgMTAwJSB7XHJcbiAgICAgICAgY29sb3I6IHJnYigxMjksIDAsIDApO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKiBHUklEIENPTlRBSU5FUlMgKi9cclxuLnBsYXllcjEtZ3JpZC1jb250YWluZXIsIC5wbGF5ZXIyLWdyaWQtY29udGFpbmVyLCAuY29tcHV0ZXItZ3JpZC1jb250YWluZXIge1xyXG4gICAgLyogcG9zaXRpb246IHJlbGF0aXZlIE5FRURFRCBUTyBDT05UQUlOIE9WRVJMQVkgdG8ganVzdCB0aGUgZ3JpZCBjb250YWluZXIqL1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIGF1dG87XHJcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyIGF1dG87XHJcbiAgICBnYXA6IDFlbTtcclxuXHJcbiAgICBwYWRkaW5nLXJpZ2h0OiAxZW07IC8qIEtlZXBzIHRoZSBhdGhlc3RldGljIHdpdGggdGhlIG92ZXJsYXkgZXZlbiAqL1xyXG4gICAgei1pbmRleDogYXV0bztcclxuXHJcbn1cclxuXHJcbi5idG4tY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBncmlkLWFyZWE6IDMgLyAxIC8gMyAvIC0xO1xyXG59XHJcblxyXG4uZ3JpZC1vdmVybGF5IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsgLyogU2VtaS10cmFuc3BhcmVudCBibGFjayBvdmVybGF5ICovXHJcbiAgICBkaXNwbGF5OiBub25lOyAvKiBJbml0aWFsbHkgaGlkZGVuICovXHJcbn1cclxuXHJcbi5zaGlwLXByZXNlbnQucmV2ZWFsLnN1bmsge1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHJlZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXAuc3VuayA+ICoge1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHJlZDtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwLnBsYWNpbmcgPiAqIHtcclxuICAgIG91dGxpbmU6IDJweCBzb2xpZCByZ2IoMzgsIDIwOSwgMzgpO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXAuaW52aXNpYmxlID4gKiB7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgd2hpdGU7XHJcbn1cclxuXHJcblxyXG4vKiBDT0xPVVJTIEZPUiBTUEFOJ1MgSU4gVFVSTiBURVhUICovXHJcbi8qIEhJVCAqL1xyXG4uaGlnaGxpZ2h0ZWQucmVkIHtcclxuICAgIGNvbG9yOiBsaWdodGNvcmFsO1xyXG59XHJcblxyXG4vKiBTVU5LICovXHJcbi5oaWdobGlnaHRlZC5vcmFuZ2Uge1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxufVxyXG5cclxuLyogTUlTU0VEICovXHJcbi5oaWdobGlnaHRlZC5ibHVlIHtcclxuICAgIGNvbG9yOiBsaWdodHNreWJsdWU7XHJcbn1cclxuXHJcbi8qIFBMQUNJTkcgKi9cclxuLmhpZ2hsaWdodGVkLmdyZWVuIHtcclxuICAgIGNvbG9yOiByZ2IoMzgsIDIwOSwgMzgpO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLDhCQUE4QixFQUFFLGdEQUFnRDtJQUNoRiwrQkFBK0I7RUFDakM7O0FBRUY7SUFDSSxpQkFBaUI7SUFDakIscUdBQXFHO0FBQ3pHOztBQUVBO0lBQ0ksYUFBYTtJQUNiLCtCQUErQjtBQUNuQzs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQix3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJ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SUFFUixrQkFBa0IsRUFBRSwrQ0FBK0M7SUFDbkUsYUFBYTs7QUFFakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztJQUNQLFdBQVc7SUFDWCxZQUFZO0lBQ1osb0NBQW9DLEVBQUUsbUNBQW1DO0lBQ3pFLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEM7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxtQ0FBbUM7QUFDdkM7O0FBRUE7SUFDSSx3QkFBd0I7QUFDNUI7OztBQUdBLG9DQUFvQztBQUNwQyxRQUFRO0FBQ1I7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUEsU0FBUztBQUNUO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQSxXQUFXO0FBQ1g7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUEsWUFBWTtBQUNaO0lBQ0ksdUJBQXVCO0FBQzNCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIjpyb290IHtcXHJcXG4gICAgLS1wbGF5ZXItc2VsZWN0aW9uLWRpc3RhbmNlOiAwOyAvKiBWYXJpYWJsZSBmb3IgYW5pbWF0aW9uIG9mIHRoZSBncmlkT3ZlcmxheSdzICovXFxyXFxuICAgIC0tbW9uaWtlci1zZWxlY3Rpb24tZGlzdGFuY2U6IDA7XFxyXFxuICB9XFxyXFxuXFxyXFxuYm9keSB7XFxyXFxuICAgIHVzZXItc2VsZWN0OiBub25lO1xcclxcbiAgICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG59XFxyXFxuXFxyXFxuaGVhZGVyIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgYXV0bztcXHJcXG59XFxyXFxuXFxyXFxuaDEudGl0bGUsIC53aW5uZXItY29uZmlybWF0aW9uIHtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbiAgICBjb2xvcjogcmdiKDczLCAxMTAsIDIzNSk7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXIxLXdpbm5pbmctY291bnRlciB7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgbGVmdDogNDUlO1xcclxcbiAgICBncmlkLWFyZWE6IDEgLyAyO1xcclxcbiAgICBjb2xvcjogcmdiKDM4LCAyMDksIDM4KTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllcjItd2lubmluZy1jb3VudGVyLCAuY29tcHV0ZXItd2lubmluZy1jb3VudGVyIHtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICByaWdodDogNDUlO1xcclxcbiAgICBncmlkLWFyZWE6IDEgLyAyO1xcclxcbiAgICBjb2xvcjogcmdiKDM4LCAyMDksIDM4KTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllcjEtZ3JpZC5udW1iZXIsIC5wbGF5ZXIyLWdyaWQubnVtYmVyLCAuY29tcHV0ZXItZ3JpZC5udW1iZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgY29sb3I6IGJsYWNrO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmNlbnRlcmVkLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogMmZyIGF1dG8gM2ZyO1xcclxcbiAgICBoZWlnaHQ6IDEwMCU7IFxcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XFxyXFxuXFxyXFxuICAgIGdhcDogMmVtO1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FtZS1ydWxlcy1idG4ge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIGxlZnQ6IDkwJTtcXHJcXG4gICAgdG9wOiAzLjQlO1xcclxcblxcclxcbiAgICBjb2xvcjogcmdiKDczLCAxMTAsIDIzNSk7XFxyXFxuICAgIGZvbnQtZmFtaWx5OiAnVHJlYnVjaGV0IE1TJywgJ0x1Y2lkYSBTYW5zIFVuaWNvZGUnLCAnTHVjaWRhIEdyYW5kZScsICdMdWNpZGEgU2FucycsIEFyaWFsLCBzYW5zLXNlcmlmO1xcclxcbiAgICBmb250LXNpemU6IGxhcmdlO1xcclxcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FtZS1ydWxlcy1vdmVybGF5IHtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ucnVsZXMtbG9hZC1pbiB7XFxyXFxuICAgIGFuaW1hdGlvbjogZmFkZUluIDFzIGVhc2U7XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgZmFkZUluIHtcXHJcXG4gICAgMCUge1xcclxcbiAgICAgICAgb3BhY2l0eTogMDtcXHJcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSg1MCUpOyAvKiBTbGlkZSBpbiBmcm9tIGJvdHRvbSAqL1xcclxcbiAgICB9XFxyXFxuICAgIDEwMCUge1xcclxcbiAgICAgICAgb3BhY2l0eTogMTtcXHJcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4ucnVsZXMtbG9hZC1vdXQge1xcclxcbiAgICBhbmltYXRpb246IGZhZGVPdXQgMXMgZWFzZTtcXHJcXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBmYWRlT3V0IHtcXHJcXG4gICAgMCUgeyBcXHJcXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTtcXHJcXG4gICAgICAgIG9wYWNpdHk6IDE7XFxyXFxuICAgIH1cXHJcXG4gICAgMTAwJSB7IFxcclxcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDUwJSk7ICAvKiBTbGlkZSBvdXQgZnJvbSBib3R0b20gKi9cXHJcXG4gICAgICAgIG9wYWNpdHk6IDA7XFxyXFxuICAgIH1cXHJcXG59XFxyXFxuXFxyXFxuLmdhbWUtcnVsZXMtdGl0bGUge1xcclxcbiAgICBjb2xvcjogcmdiKDczLCAxMTAsIDIzNSk7XFxyXFxufVxcclxcblxcclxcbiNnYW1lRW5kaW5nT3ZlcmxheSB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgaGVpZ2h0OiBhdXRvO1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4ucmVzZXQtYnRuLWRpdiwgLnJlZnJlc2gtYnRuLWRpdiB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgcGFkZGluZzogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbWUtZW5kLWJ0bi1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLndlbGNvbWUtdGl0bGUge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4OiA0O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcclxcblxcclxcbiAgICBjb2xvcjogcmdiKDczLCAxMTAsIDIzNSk7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItc2VsZWN0aW9uLCAubW9uaWtlci1zZWxlY3Rpb24ge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgZ2FwOiAyZW07XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcXHJcXG4gICAgLyogaGVpZ2h0OiAxMDAlOyAqL1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgZmxleDogNTtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlbGVjdGlvbi1lbnRlciB7XFxyXFxuICAgIGFuaW1hdGlvbjogcGxheWVyLXNlbGVjdGlvbi1lbnRlciAwLjI1cyBlYXNlLW91dDtcXHJcXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBwbGF5ZXItc2VsZWN0aW9uLWVudGVyIHtcXHJcXG4gICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOyB9XFxyXFxuICAgIDQwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1JSk7IH1cXHJcXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlbGVjdGlvbi1sZWF2ZSB7XFxyXFxuICAgIGFuaW1hdGlvbjogcGxheWVyLXNlbGVjdGlvbi1sZWF2ZSAwLjI1cyBlYXNlLWluO1xcclxcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIHBsYXllci1zZWxlY3Rpb24tbGVhdmUge1xcclxcbiAgICA1MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNSUpOyB9XFxyXFxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOyB9XFxyXFxufVxcclxcblxcclxcbi5tb25pa2VyLXNlbGVjdGlvbi1lbnRlciB7XFxyXFxuICAgIGFuaW1hdGlvbjogbW9uaWtlci1zZWxlY3Rpb24tZW50ZXIgMC4yNXMgZWFzZS1vdXQ7XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgbW9uaWtlci1zZWxlY3Rpb24tZW50ZXIge1xcclxcbiAgICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsgfVxcclxcbiAgICA0MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUlKTsgfVxcclxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9XFxyXFxufVxcclxcblxcclxcbi5tb25pa2VyLXNlbGVjdGlvbi1sZWF2ZSB7XFxyXFxuICAgIGFuaW1hdGlvbjogbW9uaWtlci1zZWxlY3Rpb24tbGVhdmUgMC4yNXMgZWFzZS1pbjtcXHJcXG4gICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogMTtcXHJcXG59XFxyXFxuXFxyXFxuQGtleWZyYW1lcyBtb25pa2VyLXNlbGVjdGlvbi1sZWF2ZSB7XFxyXFxuICAgIDUwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNSUpOyB9XFxyXFxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH1cXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWxlY3Rpb24tY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZ2FwOiAxZW07XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLTItYnRuLWNvbnRhaW5lciwgLmNvbXB1dGVyLWJ0bi1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci0yLWJ0biwgLmNvbXB1dGVyLWJ0bntcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxyXFxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XFxyXFxuICAgIHBhZGRpbmc6IDRweCA4cHg7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItMi1idG4ge1xcclxcbiAgICB3aWR0aDogMTAzLjk1cHg7XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXIyLW5hbWUtaXMtY29tcHV0ZXIge1xcclxcbiAgICBkaXNwbGF5OiBub25lO1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxuICAgIGxlZnQ6IC0xZW07XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXIxLW1vbmlrZXItdGV4dCwgLnBsYXllcjItbW9uaWtlci10ZXh0IHtcXHJcXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxyXFxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XFxyXFxufVxcclxcblxcclxcbi5jb25maXJtLXBsYXllci1vci1jb21wdXRlci1idG4tY29udGFpbmVyIHtcXHJcXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xcclxcbiAgICBsZWZ0OiB2YXIoLS1wbGF5ZXItc2VsZWN0aW9uLWRpc3RhbmNlKTtcXHJcXG59XFxyXFxuXFxyXFxuLmNvbmZpcm0tcGxheWVyLW9yLWNvbXB1dGVyLWJ0biB7XFxyXFxuICAgIG1hcmdpbjogMTguNzJweDtcXHJcXG59XFxyXFxuXFxyXFxuLm1vbmlrZXItc2VsZWN0aW9uIHtcXHJcXG4gICAgZGlzcGxheTogbm9uZTtcXHJcXG4gICAgbWluLWhlaWdodDogODEuMzNweDtcXHJcXG59XFxyXFxuXFxyXFxuLm1vbmlrZXItYnRucy1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBnYXA6IDFlbTtcXHJcXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIGxlZnQ6IHZhcigtLW1vbmlrZXItc2VsZWN0aW9uLWRpc3RhbmNlKTtcXHJcXG59XFxyXFxuXFxyXFxuLmJhY2stYnRuIHtcXHJcXG4gICAgd2lkdGg6IDkyLjA5cHg7XFxyXFxufVxcclxcblxcclxcbiNoaXQsICNyZXZlYWxlZE1pc3Mge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmJiMmIyNzk7XFxyXFxufVxcclxcblxcclxcbiNyZXZlYWxlZE1pc3Mge1xcclxcbiAgICBjb2xvcjogcmdiKDExOCwgMTE1LCAxMTUpO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyMS1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQsIC5wbGF5ZXIyLWdyaWQubnVtYmVyLnNoaXAtcHJlc2VudCwgLmNvbXB1dGVyLWdyaWQubnVtYmVyLnNoaXAtcHJlc2VudCB7XFxyXFxuICAgIGNvbG9yOiByZWQ7XFxyXFxufVxcclxcblxcclxcbi8qIFNISVAgUExBQ0lORyAqL1xcclxcbmRpdi5wbGF5ZXIxLWdyaWQubnVtYmVyLmhpZ2hsaWdodCwgZGl2LnBsYXllcjItZ3JpZC5udW1iZXIuaGlnaGxpZ2h0LCBkaXYuY29tcHV0ZXItZ3JpZC5udW1iZXIuaGlnaGxpZ2h0IHtcXHJcXG4gICAgLyogQ0hPU0UgQk9SREVSIEFTIElUIElTIEVBU0lFUiBUTyBTRUUgV0hFTiBQTEFDSU5HICovXFxyXFxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJnYigzOCwgMjA5LCAzOCk7XFxyXFxufVxcclxcblxcclxcbmRpdi5wbGF5ZXIxLWdyaWQubnVtYmVyLm5vdC12YWxpZCwgZGl2LnBsYXllcjItZ3JpZC5udW1iZXIubm90LXZhbGlkIHtcXHJcXG4gICAgLyogQVBQTFlJTkcgQk9SREVSIEFMTE9XUyBVU0VSIFRPIERFVEVSTUlORSBXSEFUIElTIEJFSElORCBUSEUgQ1VSU09SXFxyXFxuICAgIE5FQ0VTU0FSWSBUTyBSRURVQ0UgV0lEVEggQU5EIEhFSUdIVCBCWSBCT1JERVIgRk9SIE5PIEJVR1MgKi9cXHJcXG4gICAgYm9yZGVyOiAycHggc29saWQgcmVkO1xcclxcbiAgICB3aWR0aDogMjhweDtcXHJcXG4gICAgaGVpZ2h0OiAyOHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc2hha2luZy1hbmltYXRpb24ge1xcclxcbiAgICBhbmltYXRpb24tbmFtZTogc2hha2VBbmltYXRpb247XFxyXFxuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMC4yNXM7XFxyXFxuICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IDE7XFxyXFxufVxcclxcblxcclxcbkBrZXlmcmFtZXMgc2hha2VBbmltYXRpb24ge1xcclxcbiAgICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxcclxcbiAgICAxNSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cXHJcXG4gICAgMzAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDVweCk7IH1cXHJcXG4gICAgNDUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XFxyXFxuICAgIDYwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9XFxyXFxuICAgIDc1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxcclxcbiAgICAxMDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9XFxyXFxuICB9XFxyXFxuXFxyXFxuXFxyXFxuLyogRFJBR0dBQkxFIFNISVBTICovXFxyXFxuLnNoaXAtY29udGFpbmVyLTEsIC5zaGlwLWNvbnRhaW5lci0yLCAuc2hpcC1jb250YWluZXItMyB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBlbmQ7XFxyXFxufVxcclxcblxcclxcbi5zaGlwcy1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBnYXA6IDFlbTtcXHJcXG4gICAgZ3JpZC1hcmVhOiAxIC8gMSAvIC0yIC8gMTtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXHJcXG4gICAgLyogUEFERElORyBUTyBBQ0NPVU5UIEZPUiBPVVRMSU5FIFdJRFRIICYgTUFLRSBHQVAgRk9SIEdSSUQgT1ZFUkxBWSBDT05TSVNURU5UICovXFxyXFxuICAgIHBhZGRpbmc6IDAgMWVtIDJweCBjYWxjKDJweCArIDFlbSk7XFxyXFxufVxcclxcblxcclxcbi5pbnNpZGUtc2hpcCB7XFxyXFxuICAgIHdpZHRoOiAzMnB4O1xcclxcbiAgICBoZWlnaHQ6IDMycHg7XFxyXFxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cXFwiMVxcXCJdIHtcXHJcXG4gICAgd2lkdGg6IDMycHg7XFxyXFxuICAgIGhlaWdodDogMzJweDtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cXFwiMlxcXCJdIHtcXHJcXG4gICAgd2lkdGg6IDMycHg7XFxyXFxuICAgIGhlaWdodDogNjRweDtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgZ2FwOiAycHg7XFxyXFxufVxcclxcblxcclxcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XFxcIjNcXFwiXSB7XFxyXFxuICAgIHdpZHRoOiAzMnB4O1xcclxcbiAgICBoZWlnaHQ6IDk2cHg7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGdhcDogMnB4O1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlLXNoaXBbZGF0YS1zaXplPVxcXCI0XFxcIl0ge1xcclxcbiAgICB3aWR0aDogMzJweDtcXHJcXG4gICAgaGVpZ2h0OiAxMjhweDtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgZ2FwOiAycHg7XFxyXFxufVxcclxcblxcclxcbmgzLnRpdGxlIHtcXHJcXG4gICAgZ3JpZC1hcmVhOiAxIC8gMjtcXHJcXG59XFxyXFxuXFxyXFxuI3BsYXllcjFHcmlkLCAjcGxheWVyMkdyaWQsICNjb21wdXRlckdyaWQge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMzJweCk7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCAzMnB4KTtcXHJcXG4gICAgZ3JpZC1nYXA6IDJweDtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xcclxcbiAgICBib3JkZXI6IDJweCBzb2xpZCBsaWdodGJsdWU7XFxyXFxuXFxyXFxuICAgIGdyaWQtYXJlYTogMiAvIDI7XFxyXFxuICAgIGhlaWdodDogbWF4LWNvbnRlbnQ7XFxyXFxuICAgIFxcclxcbn1cXHJcXG5cXHJcXG4jcGxheWVyMUdyaWRPdmVybGF5LCAjcGxheWVyMkdyaWRPdmVybGF5LCAjY29tcHV0ZXJHcmlkT3ZlcmxheSB7XFxyXFxuICAgIGNvbG9yOiByZ2IoMjM3LCAyMzMsIDIzMyk7XFxyXFxufVxcclxcblxcclxcbi5ncmlkLWNvbnRhaW5lcnMge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBnYXA6IDJlbTtcXHJcXG4gICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1ldmVubHk7XFxyXFxufVxcclxcblxcclxcbi5zaGlwLXByZXNlbnQucmV2ZWFsIHtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICBmb250LXNpemU6IHgtbGFyZ2U7XFxyXFxufVxcclxcblxcclxcbi5zdGFydC1idXR0b24tY29udGFpbmVye1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgbWFyZ2luLXRvcDogMzJweDtcXHJcXG5cXHJcXG4gICAgZm9udC1mYW1pbHk6ICdUcmVidWNoZXQgTVMnLCAnTHVjaWRhIFNhbnMgVW5pY29kZScsICdMdWNpZGEgR3JhbmRlJywgJ0x1Y2lkYSBTYW5zJywgQXJpYWwsIHNhbnMtc2VyaWY7XFxyXFxufVxcclxcblxcclxcbi5zdGFydC1idXR0b24sIC5yZXNldC1idG4sIC5yYW5kb21pc2UtYnRuLCAuY29uZmlybS1idG4sIC5ob3Jpem9udGFsLW9yLXZlcnRpY2FsLWJ0biwgLnJlZnJlc2gtYnRuLCAuY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuLCAuYmFjay1idG4sIC5jb25maXJtLW1vbmlrZXItYnRuLCAudW5kby1idG4ge1xcclxcbiAgICBmb250LXNpemU6IGxhcmdlO1xcclxcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xcclxcblxcclxcbiAgICBmb250LWZhbWlseTogJ1RyZWJ1Y2hldCBNUycsICdMdWNpZGEgU2FucyBVbmljb2RlJywgJ0x1Y2lkYSBHcmFuZGUnLCAnTHVjaWRhIFNhbnMnLCBBcmlhbCwgc2Fucy1zZXJpZjtcXHJcXG59XFxyXFxuXFxyXFxuLm11bHRpcGxlLXNoaXAtYnRucywgLnNpbmd1bGFyLXNoaXAtYnRucyB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxufVxcclxcblxcclxcbi5zaW5ndWxhci1zaGlwLWJ0bnMge1xcclxcbiAgICBnYXA6IDFlbTtcXHJcXG59XFxyXFxuXFxyXFxuLm11bHRpcGxlLXNoaXAtYnRucyB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYWNpbmctZGl2IHtcXHJcXG4gICAgZm9udC1zaXplOiBsYXJnZTtcXHJcXG4gICAgY29sb3I6IHJnYig3MywgMTEwLCAyMzUpO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG4ge1xcclxcbiAgICBtaW4td2lkdGg6IDEzNC42N3B4XFxyXFxufVxcclxcblxcclxcbmgzIHtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4uY29uZmlybS1idG4uZGVuaWVkLCAuY29uZmlybS1wbGF5ZXItb3ItY29tcHV0ZXItYnRuLmRlbmllZCB7XFxyXFxuICAgIGFuaW1hdGlvbjogZGVuaWVkIDAuMjVzO1xcclxcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIGRlbmllZCB7XFxyXFxuICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyBcXHJcXG4gICAgICAgIGNvbG9yOiByZ2IoMTI5LCAwLCAwKTt9XFxyXFxuICAgIDE1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxcclxcbiAgICAzMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTtcXHJcXG4gICAgICAgIGNvbG9yOiByZ2IoMjU1LCAwLCAwKTsgfVxcclxcbiAgICA0NSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cXHJcXG4gICAgNjAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDVweCk7XFxyXFxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7IH1cXHJcXG4gICAgNzUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XFxyXFxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IFxcclxcbiAgICAgICAgY29sb3I6IHJnYigxMjksIDAsIDApO31cXHJcXG4gICAgMCUge1xcclxcbiAgICAgICAgY29sb3I6IHJnYigxMjksIDAsIDApO1xcclxcbiAgICB9XFxyXFxuXFxyXFxuICAgIDM1JSB7XFxyXFxuICAgICAgICBjb2xvcjogcmdiKDI1NSwgMCwgMCk7XFxyXFxuICAgIH1cXHJcXG5cXHJcXG4gICAgNjUlIHtcXHJcXG4gICAgICAgIGNvbG9yOiByZ2IoMjU1LCAwLCAwKTtcXHJcXG4gICAgfVxcclxcblxcclxcbiAgICAxMDAlIHtcXHJcXG4gICAgICAgIGNvbG9yOiByZ2IoMTI5LCAwLCAwKTtcXHJcXG4gICAgfVxcclxcbn1cXHJcXG5cXHJcXG4vKiBHUklEIENPTlRBSU5FUlMgKi9cXHJcXG4ucGxheWVyMS1ncmlkLWNvbnRhaW5lciwgLnBsYXllcjItZ3JpZC1jb250YWluZXIsIC5jb21wdXRlci1ncmlkLWNvbnRhaW5lciB7XFxyXFxuICAgIC8qIHBvc2l0aW9uOiByZWxhdGl2ZSBORUVERUQgVE8gQ09OVEFJTiBPVkVSTEFZIHRvIGp1c3QgdGhlIGdyaWQgY29udGFpbmVyKi9cXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciBhdXRvO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IGF1dG8gMWZyIGF1dG87XFxyXFxuICAgIGdhcDogMWVtO1xcclxcblxcclxcbiAgICBwYWRkaW5nLXJpZ2h0OiAxZW07IC8qIEtlZXBzIHRoZSBhdGhlc3RldGljIHdpdGggdGhlIG92ZXJsYXkgZXZlbiAqL1xcclxcbiAgICB6LWluZGV4OiBhdXRvO1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4uYnRuLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcXHJcXG4gICAgZ3JpZC1hcmVhOiAzIC8gMSAvIDMgLyAtMTtcXHJcXG59XFxyXFxuXFxyXFxuLmdyaWQtb3ZlcmxheSB7XFxyXFxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXHJcXG4gICAgdG9wOiAwO1xcclxcbiAgICBsZWZ0OiAwO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNSk7IC8qIFNlbWktdHJhbnNwYXJlbnQgYmxhY2sgb3ZlcmxheSAqL1xcclxcbiAgICBkaXNwbGF5OiBub25lOyAvKiBJbml0aWFsbHkgaGlkZGVuICovXFxyXFxufVxcclxcblxcclxcbi5zaGlwLXByZXNlbnQucmV2ZWFsLnN1bmsge1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgcmVkO1xcclxcbiAgICB3aWR0aDogMTAwJTtcXHJcXG4gICAgaGVpZ2h0OiAxMDAlO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlLXNoaXAuc3VuayA+ICoge1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgcmVkO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlLXNoaXAucGxhY2luZyA+ICoge1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgcmdiKDM4LCAyMDksIDM4KTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwLmludmlzaWJsZSA+ICoge1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgd2hpdGU7XFxyXFxufVxcclxcblxcclxcblxcclxcbi8qIENPTE9VUlMgRk9SIFNQQU4nUyBJTiBUVVJOIFRFWFQgKi9cXHJcXG4vKiBISVQgKi9cXHJcXG4uaGlnaGxpZ2h0ZWQucmVkIHtcXHJcXG4gICAgY29sb3I6IGxpZ2h0Y29yYWw7XFxyXFxufVxcclxcblxcclxcbi8qIFNVTksgKi9cXHJcXG4uaGlnaGxpZ2h0ZWQub3JhbmdlIHtcXHJcXG4gICAgY29sb3I6IG9yYW5nZTtcXHJcXG59XFxyXFxuXFxyXFxuLyogTUlTU0VEICovXFxyXFxuLmhpZ2hsaWdodGVkLmJsdWUge1xcclxcbiAgICBjb2xvcjogbGlnaHRza3libHVlO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBQTEFDSU5HICovXFxyXFxuLmhpZ2hsaWdodGVkLmdyZWVuIHtcXHJcXG4gICAgY29sb3I6IHJnYigzOCwgMjA5LCAzOCk7XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qXHJcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXHJcbiovXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcclxuICB2YXIgbGlzdCA9IFtdO1xyXG5cclxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXHJcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcclxuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xyXG4gICAgICBpZiAoaXRlbVs0XSkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXRlbVsyXSkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG5lZWRMYXllcikge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcclxuICAgICAgfVxyXG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XHJcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcclxuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpdGVtWzJdKSB7XHJcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXRlbVs0XSkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgICB9KS5qb2luKFwiXCIpO1xyXG4gIH07XHJcblxyXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XHJcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcclxuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcclxuICAgIH1cclxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XHJcbiAgICBpZiAoZGVkdXBlKSB7XHJcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XHJcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcclxuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xyXG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XHJcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcclxuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKG1lZGlhKSB7XHJcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XHJcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xyXG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoc3VwcG9ydHMpIHtcclxuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcclxuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XHJcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGxpc3QucHVzaChpdGVtKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHJldHVybiBsaXN0O1xyXG59OyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcclxuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XHJcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XHJcbiAgICByZXR1cm4gY29udGVudDtcclxuICB9XHJcbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcclxuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcclxuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xyXG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xyXG4gIH1cclxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XHJcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcclxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xyXG4gIHZhciByZXN1bHQgPSAtMTtcclxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xyXG4gICAgICByZXN1bHQgPSBpO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xyXG4gIHZhciBpZENvdW50TWFwID0ge307XHJcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XHJcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcclxuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XHJcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcclxuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xyXG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XHJcbiAgICB2YXIgb2JqID0ge1xyXG4gICAgICBjc3M6IGl0ZW1bMV0sXHJcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxyXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXHJcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxyXG4gICAgICBsYXllcjogaXRlbVs1XVxyXG4gICAgfTtcclxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcclxuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcclxuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XHJcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XHJcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XHJcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcclxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xyXG4gIH1cclxuICByZXR1cm4gaWRlbnRpZmllcnM7XHJcbn1cclxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xyXG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcclxuICBhcGkudXBkYXRlKG9iaik7XHJcbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xyXG4gICAgaWYgKG5ld09iaikge1xyXG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFwaS5yZW1vdmUoKTtcclxuICAgIH1cclxuICB9O1xyXG4gIHJldHVybiB1cGRhdGVyO1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcclxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICBsaXN0ID0gbGlzdCB8fCBbXTtcclxuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xyXG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xyXG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcclxuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XHJcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XHJcbiAgICB9XHJcbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xyXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcclxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcclxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xyXG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xyXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XHJcbiAgfTtcclxufTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbnZhciBtZW1vID0ge307XHJcblxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xyXG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7XHJcblxyXG4gICAgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcclxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxyXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXHJcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XHJcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcclxuICB9XHJcbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcclxufVxyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xyXG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcclxuICBpZiAoIXRhcmdldCkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcclxuICB9XHJcbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcclxuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcclxuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcclxuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xyXG4gIHJldHVybiBlbGVtZW50O1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcclxuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XHJcbiAgaWYgKG5vbmNlKSB7XHJcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xyXG4gIH1cclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xyXG4gIHZhciBjc3MgPSBcIlwiO1xyXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcclxuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XHJcbiAgfVxyXG4gIGlmIChvYmoubWVkaWEpIHtcclxuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xyXG4gIH1cclxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcclxuICBpZiAobmVlZExheWVyKSB7XHJcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XHJcbiAgfVxyXG4gIGNzcyArPSBvYmouY3NzO1xyXG4gIGlmIChuZWVkTGF5ZXIpIHtcclxuICAgIGNzcyArPSBcIn1cIjtcclxuICB9XHJcbiAgaWYgKG9iai5tZWRpYSkge1xyXG4gICAgY3NzICs9IFwifVwiO1xyXG4gIH1cclxuICBpZiAob2JqLnN1cHBvcnRzKSB7XHJcbiAgICBjc3MgKz0gXCJ9XCI7XHJcbiAgfVxyXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xyXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xyXG4gIH1cclxuXHJcbiAgLy8gRm9yIG9sZCBJRVxyXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cclxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xyXG59XHJcbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcclxuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcclxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcclxufVxyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XHJcbiAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoKSB7fSxcclxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxyXG4gICAgfTtcclxuICB9XHJcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xyXG4gIHJldHVybiB7XHJcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcclxuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xyXG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XHJcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XHJcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcclxuICAgIH1cclxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vc3R5bGVzLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImNsYXNzIFNoaXAge1xyXG4gICAgY29uc3RydWN0b3IobGVuZ3RoLCBwbGFjZWQ9ZmFsc2UsIGhpdHM9MCwgc3Vuaz1mYWxzZSkge1xyXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgICAgIHRoaXMucGxhY2VkID0gcGxhY2VkO1xyXG4gICAgICAgIHRoaXMuaGl0cyA9IGhpdHM7XHJcbiAgICAgICAgdGhpcy5zdW5rID0gc3VuaztcclxuICAgIH1cclxuXHJcbiAgICBoaXQoKSB7XHJcbiAgICAgICAgdGhpcy5oaXRzKys7XHJcbiAgICAgICAgdGhpcy5pc1N1bmsoKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICBpc1N1bmsoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaGl0cyA9PT0gdGhpcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5zdW5rID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBHYW1lYm9hcmQgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBib2FyZCA9IEFycmF5LmZyb20oe2xlbmd0aDogMTB9LCAoKSA9PiBBcnJheSgxMCkuZmlsbChudWxsKSk7XHJcbiAgICBjb25zdCBtaXNzZWQgPSBBcnJheS5mcm9tKHtsZW5ndGg6IDEwfSwgKCkgPT4gQXJyYXkoMTApLmZpbGwobnVsbCkpO1xyXG4gICAgY29uc3Qgc2hpcHMgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBwb3NpdGlvblNoaXBzKGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgaWYgKGNvb3JkaW5hdGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmVlZCB0byBwcm92aWRlIGNvb3JkaW5hdGVzXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBwb3NpdGlvblxyXG4gICAgICAgIGZvciAocG9zaXRpb24gb2YgY29vcmRpbmF0ZXMpIHtcclxuICAgICAgICAgICAgbGV0IG5ld1NoaXA7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBbeDEsIHgyLCB5MSwgeTJdID0gcG9zaXRpb247XHJcblxyXG4gICAgICAgICAgICAvLyBMZW5ndGggMVxyXG4gICAgICAgICAgICBpZiAoeDEgPT09IHgyICYmIHkxID09PSB5Mikge1xyXG4gICAgICAgICAgICAgICAgLy8gRmlsbCBib2FyZCB3aXRoIFNoaXBcclxuICAgICAgICAgICAgICAgIG5ld1NoaXAgPSBuZXcgU2hpcCgxLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIGJvYXJkW3kxXVt4MV0gPSBuZXdTaGlwO1xyXG4gICAgICAgICAgICB9IC8vIEZvciBhIHZlcnRpY2FsIHNoaXBcclxuICAgICAgICAgICAgZWxzZSBpZiAoeDEgPT09IHgyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5RGlmZiA9IHkyIC0geTEgKyAxO1xyXG4gICAgICAgICAgICAgICAgbmV3U2hpcCA9IG5ldyBTaGlwKHlEaWZmLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIC8vIEZpbGwgYm9hcmQgd2l0aCBTaGlwXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHlEaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBib2FyZFt5MSArIGldW3gxXSA9IG5ld1NoaXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gLy8gRm9yIGEgaG9yaXpvbnRhbCBzaGlwXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHkxID09PSB5Mikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeERpZmYgPSB4MiAtIHgxICsgMTtcclxuICAgICAgICAgICAgICAgIG5ld1NoaXAgPSBuZXcgU2hpcCh4RGlmZiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBGaWxsIGJvYXJkIHdpdGggU2hpcFxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4RGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRbeTFdW3gxICsgaV0gPSBuZXdTaGlwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3coRXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNoaXBzLnB1c2gobmV3U2hpcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlY2lldmVBdHRhY2soW3gseV0pIHtcclxuICAgICAgICBpZiAoYm9hcmRbeV1beF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICBib2FyZFt5XVt4XS5oaXQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtaXNzZWRbeV1beF0gPSBcIlhcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYWxsU2hpcHNTdW5rKCkge1xyXG4gICAgICAgIHJldHVybiBzaGlwcy5ldmVyeShzaGlwID0+IHNoaXAuc3VuayA9PT0gdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb2J0YWluQ3VycmVudFNoaXBzKCkge1xyXG4gICAgICAgIC8vIGFkZHMgZXZlcnkgc2hpcCBvbiBib2FyZCB0byBjdXJyZW50U2hpcHNcclxuICAgICAgICBjb25zdCBjdXJyZW50U2hpcHMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSA5OyB5KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gOTsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYm9hcmRbeV1beF0gIT0gbnVsbCAmJiAhY3VycmVudFNoaXBzLmluY2x1ZGVzKGJvYXJkW3ldW3hdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTaGlwcy5wdXNoKGJvYXJkW3ldW3hdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VycmVudFNoaXBzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFsbFNoaXBzUGxhY2VkKCkge1xyXG4gICAgICAgIC8vIENvbXBhcmVzIGV2ZXJ5IHNoaXAgb24gYm9hcmQgd2l0aCByZXF1aXJlZCBsZW5ndGhzXHJcbiAgICAgICAgY29uc3QgcmVxdWlyZWRTaGlwc0xlbmd0aCA9IFs0LCAzLCAzLCAyLCAyLCAyLCAxLCAxLCAxLCAxXTtcclxuICAgICAgICBjb25zdCBjdXJyZW50U2hpcHMgPSBvYnRhaW5DdXJyZW50U2hpcHMoKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBzaGlwIG9mIGN1cnJlbnRTaGlwcykge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHJlcXVpcmVkU2hpcHNMZW5ndGguaW5kZXhPZihzaGlwLmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXF1aXJlZFNoaXBzTGVuZ3RoLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIChyZXF1aXJlZFNoaXBzTGVuZ3RoLmxlbmd0aCA9PT0gMCAmJiBjdXJyZW50U2hpcHMuZXZlcnkoc2hpcCA9PiBzaGlwLnBsYWNlZCA9PT0gdHJ1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7Ym9hcmQsIG1pc3NlZCwgcG9zaXRpb25TaGlwcywgcmVjaWV2ZUF0dGFjaywgYWxsU2hpcHNTdW5rLCBzaGlwcywgYWxsU2hpcHNQbGFjZWQsIG9idGFpbkN1cnJlbnRTaGlwc307XHJcbn1cclxuXHJcbi8vIG1vZHVsZS5leHBvcnRzID0ge1NoaXAsIEdhbWVib2FyZH07XHJcblxyXG5jb25zdCBQbGF5ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBnYW1lYm9hcmQgPSBHYW1lYm9hcmQoKTtcclxuICAgIGNvbnN0IG5hbWUgPSBcIlwiO1xyXG4gICAgY29uc3QgbW9uaWtlciA9IFwiXCI7XHJcbiAgICBjb25zdCBvcHBvbmVudCA9IG51bGw7XHJcbiAgICBsZXQgd2lubmluZ0NvdW50ZXIgPSBudWxsO1xyXG5cclxuICAgIC8vIFZhcmlhYmxlcyBmb3Igc2hpcCBwbGFjZW1lbnQgc2VjdGlvblxyXG4gICAgbGV0IGRyYWdnYWJsZVNoaXBzO1xyXG4gICAgbGV0IHNlbGVjdGVkU2hpcCA9IG51bGw7XHJcbiAgICBsZXQgcHJldlNlbGVjdGVkU2hpcEFycmF5ID0gW107XHJcbiAgICBsZXQgcHJldlNlbGVjdGVkU2hpcEluZGV4QXJyYXkgPSBbXTtcclxuICAgIGxldCBwbGFuZU9mUGxhY2luZ1NoaXAgPSBcIkhPUklaT05UQUxcIjtcclxuICAgIFxyXG5cclxuICAgIC8vIEZvciBjb21wdXRlciBndWVzc2luZyBsb2dpY1xyXG4gICAgbGV0IHBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyA9IG51bGw7XHJcblxyXG4gICAgLy8gRm9yIGxvY2FsaXNlZCBjb21wdXRlciBndWVzc2luZyBsb2dpY1xyXG4gICAgbGV0IGxvY2FsaXNlZEd1ZXNzZXMgPSBudWxsO1xyXG4gICAgbGV0IHNoaXBEaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgY29uc3QgZGlyZWN0aW9uID0ge3ZlcnRpY2FsIDogW1wiYmVuZWF0aFwiLCBcImFib3ZlXCJdLCBob3Jpem9udGFsIDogW1wibGVmdFwiLCBcInJpZ2h0XCJdfTtcclxuXHJcbiAgICAvKiBJTklUSUFMSVNBVElPTiBBTkQgSFRNTCBCVUlMRElORyAmIFJFU0VUVElORyBGVU5DVElPTlMgKi9cclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBidWlsZCB0aGUgdG9wIGxldmVsIEhUTUwgc3R1Y3R1cmUgZm9yIHBsYXllcidzIGdyaWRzIFxyXG4gICAgZnVuY3Rpb24gYnVpbGRIVE1MRGl2Q29udGFpbmVycygpIHtcclxuICAgICAgICBjb25zdCBncmlkQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJzXCIpO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcGxheWVyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfS1ncmlkLWNvbnRhaW5lcmApO1xyXG4gICAgICAgIHBsYXllckNvbnRhaW5lci5pZCA9IGAke3RoaXMubmFtZX1Db250YWluZXJgO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMubmFtZSwgdGhpcy5tb25pa2VyKVxyXG4gICAgICAgIHBsYXllckNvbnRhaW5lci5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGgzIGNsYXNzPVwiJHt0aGlzLm5hbWV9IHRpdGxlXCI+JHt0aGlzLm1vbmlrZXJ9PC9oMz5cclxuICAgICAgICA8aDMgY2xhc3M9XCIke3RoaXMubmFtZX0td2lubmluZy1jb3VudGVyXCI+JHt0aGlzLndpbm5pbmdDb3VudGVyfTwvaDM+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7dGhpcy5uYW1lfS1ncmlkIGdhbWUtYm9hcmRcIiBpZD1cIiR7dGhpcy5uYW1lfUdyaWRcIj48L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1vdmVybGF5XCIgaWQ9XCIke3RoaXMubmFtZX1HcmlkT3ZlcmxheVwiPjwvZGl2PlxyXG4gICAgICAgIGBcclxuICAgICAgICBncmlkQ29udGFpbmVycy5hcHBlbmRDaGlsZChwbGF5ZXJDb250YWluZXIpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBCdWlsZCBwbGF5ZXIncyBIVE1MIGdyaWQgYmFzZWQgb2ZmIHBsYXllcidzIGJvYXJkIGFycmF5XHJcbiAgICBmdW5jdGlvbiBidWlsZEhUTUxHcmlkKHJldmVhbCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm5hbWUgKyBcIkdyaWRcIik7XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gOTsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDw9IDk7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ3JpZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdCA9IGAke2dyaWQuY2xhc3NMaXN0fSBudW1iZXIgJHt5fSR7eH1gO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZWJvYXJkLmJvYXJkW3ldW3hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoXCJzaGlwLXByZXNlbnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldmVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoXCJyZXZlYWxcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZ3JpZC5hcHBlbmRDaGlsZChncmlkRGl2KTtcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzZXRIVE1MR3JpZCgpIHtcclxuICAgICAgICBjb25zdCBIVE1MR3JpZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMubmFtZX0tZ3JpZC5nYW1lLWJvYXJkYCk7XHJcbiAgICAgICAgSFRNTEdyaWQuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXNldCBib2FyZCBhcnJheVxyXG4gICAgZnVuY3Rpb24gcmVzZXRHcmlkKCkge1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDw9IDk7IHkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSA5OyB4KyspIHtcclxuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5ib2FyZFt5XVt4XSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQubWlzc2VkW3ldW3hdID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXNldEhUTUxHcmlkLmJpbmQodGhpcykoKTtcclxuICAgICAgICByZXNldFNoaXBzQXJyYXkuYmluZCh0aGlzKSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0U2hpcHNBcnJheSgpIHtcclxuICAgICAgICBnYW1lYm9hcmQuc2hpcHMubGVuZ3RoID0gMDtcclxuICAgICAgICBwcmV2U2VsZWN0ZWRTaGlwQXJyYXkubGVuZ3RoID0gMDtcclxuICAgICAgICBwcmV2U2VsZWN0ZWRTaGlwSW5kZXhBcnJheS5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3BsYXkncyBydWxlc1xyXG4gICAgZnVuY3Rpb24gYnVpbGRSdWxlcygpIHtcclxuICAgICAgICBjb25zdCBwbGF5ZXJPdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dGhpcy5uYW1lfUdyaWRPdmVybGF5YCk7XHJcblxyXG4gICAgICAgIHBsYXllck92ZXJsYXkuc3R5bGUucGFkZGluZ0xlZnQgPSBcIjFlbVwiO1xyXG5cclxuICAgICAgICB0aGlzLnNob3dPdmVybGF5KHRydWUpO1xyXG5cclxuICAgICAgICBwbGF5ZXJPdmVybGF5LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwicnVsZXMtdGl0bGVcIj5SVUxFUyBGT1IgU0hJUCBQTEFDRU1FTlQ8L2gzPlxyXG4gICAgICAgICAgICA8cD48c3Ryb25nPkNsaWNrIG9uIHRoZSBncmlkIHRvIHBsYWNlIHlvdXIgc2hpcHMhPC9zdHJvbmc+PC9wPlxyXG4gICAgICAgICAgICA8cD5Zb3UgY2FuIDxzdHJvbmc+Y2hhbmdlIHRoZSBzaGlwPC9zdHJvbmc+IHlvdSB3YW50IHRvIHBsYWNlIGJ5IDxzdHJvbmc+Y2xpY2tpbmcgb24gYW5vdGhlcjwvc3Ryb25nPi48L3A+XHJcbiAgICAgICAgICAgIDxwPjxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgZ3JlZW5cIj48c3Ryb25nPkxlZ2FsPC9zdHJvbmc+PC9zcGFuPiBwbGFjZW1lbnRzIGhpZ2hsaWdodCA8c3Ryb25nPjxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgZ3JlZW5cIj5ncmVlbjwvc3Bhbj48L3N0cm9uZz4uIDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgcmVkXCI+PHN0cm9uZz5JbGxlZ2FsPC9zdHJvbmc+PC9zcGFuPiBwbGFjZW1lbnRzIGhpZ2hsaWdodCA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIHJlZFwiPjxzdHJvbmc+cmVkPC9zdHJvbmc+PC9zcGFuPi48L3A+XHJcbiAgICAgICAgICAgIDxwPllvdSA8c3Ryb25nPmNhbm5vdCBwbGFjZTwvc3Ryb25nPiBhIHNoaXAgd2l0aGluIDxzdHJvbmc+YSBzcXVhcmU8L3N0cm9uZz4gb2YgYW4gPHN0cm9uZz5hbHJlYWR5IHBsYWNlZCBzaGlwPC9zdHJvbmc+LCBvciBpZiB0aGUgc2hpcCA8c3Ryb25nPmxlbmd0aDwvc3Ryb25nPiBtZWFucyBpdCBpcyBwb3NpdGlvbmVkIDxzdHJvbmc+b3V0c2lkZSB0aGUgZ3JpZDwvc3Ryb25nPi48L3A+XHJcbiAgICAgICAgICAgIDxicj48L2JyPlxyXG4gICAgICAgICAgICA8cD48c3Ryb25nPkJ1dHRvbiBkZXNjcmlwdGlvbnM6PC9zdHJvbmc+PC9wPlxyXG4gICAgICAgICAgICA8cD48c3Ryb25nPlBMQUNJTkc6PC9zdHJvbmc+IERpc3BsYXlzIHRoZSA8c3Ryb25nPmN1cnJlbnQgZGlyZWN0aW9uPC9zdHJvbmc+IG9mIHRoZSBzaGlwIHRvIGJlIHBsYWNlZC4gPHN0cm9uZz5DbGljazwvc3Ryb25nPiB0aGUgZGlyZWN0aW9uIG9mIHRoZSBzaGlwLCBIT1JJWk9OVEFMIC8gVkVSVElDQUwsIHRvIDxzdHJvbmc+Y2hhbmdlPC9zdHJvbmc+IHRoZSBkaXJlY3Rpb24uPC9wPlxyXG4gICAgICAgICAgICA8cD48c3Ryb25nPuKGtjo8L3N0cm9uZz4gPHN0cm9uZz5VbmRvPC9zdHJvbmc+IHRoZSA8c3Ryb25nPnByZXZpb3VzPC9zdHJvbmc+IHNoaXAgcGxhY2VtZW50LjwvcD5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz5SQU5ET01JU0U6PC9zdHJvbmc+IFBsYWNlcyBhbGwgc2hpcHMgb250byB0aGUgYm9hcmQgaW4gYSByYW5kb20gbWFubmVyLjwvcD5cclxuICAgICAgICAgICAgPHA+PHN0cm9uZz5SRVNFVDo8L3N0cm9uZz4gUmVtb3ZlcyBhbGwgc2hpcHMgZnJvbSB0aGUgZ3JpZCB0byB0aGUgc3RhcnRpbmcgcG9zaXRpb24uPC9wPlxyXG4gICAgICAgIGA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlUnVsZXMoKSB7XHJcbiAgICAgICAgY29uc3QgcGxheWVyT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke3RoaXMubmFtZX1HcmlkT3ZlcmxheWApO1xyXG5cclxuICAgICAgICBwbGF5ZXJPdmVybGF5LnN0eWxlLnBhZGRpbmdMZWZ0ID0gXCIwXCI7XHJcblxyXG4gICAgICAgIHRoaXMuc2hvd092ZXJsYXkoZmFsc2UpO1xyXG5cclxuICAgICAgICBwbGF5ZXJPdmVybGF5LmlubmVySFRNTCA9IGBgXHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8qIFNISVAgUExBQ0VNRU5UICgvIFVJIFNISVBTIE9OIExIUyBPRiBHUklEKSBGVU5DVElPTlMgKi9cclxuXHJcbiAgICAvLyBCdXR0b25zIGZvciBTSElQIFBPU0lUSU9OSU5HIFNUQUdFXHJcbiAgICBmdW5jdGlvbiBidWlsZEJ1dHRvbkNvbnRhaW5lcigpIHtcclxuICAgICAgICBjb25zdCBzaW5ndWxhclNoaXBCdG5zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICBzaW5ndWxhclNoaXBCdG5zLmNsYXNzTGlzdC5hZGQoXCJzaW5ndWxhci1zaGlwLWJ0bnNcIik7XHJcblxyXG4gICAgICAgIGNvbnN0IG11bHRpcGxlU2hpcEJ0bnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIG11bHRpcGxlU2hpcEJ0bnMuY2xhc3NMaXN0LmFkZChcIm11bHRpcGxlLXNoaXAtYnRuc1wiKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxhY2luZ0RpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcGxhY2luZ0Rpdi5pbm5lckhUTUwgPSAnUExBQ0lORzonXHJcbiAgICAgICAgcGxhY2luZ0Rpdi5jbGFzc0xpc3QuYWRkKGBwbGFjaW5nLWRpdmApO1xyXG5cclxuICAgICAgICBjb25zdCBob3Jpem9udGFsT3JWZXJ0aWNhbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgaG9yaXpvbnRhbE9yVmVydGljYWxCdG4uY2xhc3NMaXN0LmFkZChgJHt0aGlzLm5hbWV9YCwgYGhvcml6b250YWwtb3ItdmVydGljYWwtYnRuYCk7XHJcbiAgICAgICAgaG9yaXpvbnRhbE9yVmVydGljYWxCdG4udGV4dENvbnRlbnQgPSBcIkhPUklaT05UQUxcIjtcclxuXHJcbiAgICAgICAgY29uc3QgdW5kb0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgdW5kb0J0bi5jbGFzc0xpc3QuYWRkKGAke3RoaXMubmFtZX1gLCBgdW5kby1idG5gKTtcclxuICAgICAgICB1bmRvQnRuLnRleHRDb250ZW50ID0gXCLihrZcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9taXNlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICByYW5kb21pc2VCdG4uY2xhc3NMaXN0LmFkZChgJHt0aGlzLm5hbWV9YCwgYHJhbmRvbWlzZS1idG5gKTtcclxuICAgICAgICByYW5kb21pc2VCdG4udGV4dENvbnRlbnQgPSBcIlJBTkRPTUlTRVwiO1xyXG5cclxuICAgICAgICBjb25zdCBjb25maXJtQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBjb25maXJtQnRuLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfWAsIGBjb25maXJtLWJ0bmApO1xyXG4gICAgICAgIGNvbmZpcm1CdG4udGV4dENvbnRlbnQgPSBcIkNPTkZJUk1cIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHJlc2V0QnRuLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfWAsIGByZXNldC1idG5gKTtcclxuICAgICAgICByZXNldEJ0bi50ZXh0Q29udGVudCA9IFwiUkVTRVRcIjtcclxuXHJcbiAgICAgICAgc2luZ3VsYXJTaGlwQnRucy5hcHBlbmRDaGlsZChwbGFjaW5nRGl2KTtcclxuICAgICAgICBzaW5ndWxhclNoaXBCdG5zLmFwcGVuZENoaWxkKGhvcml6b250YWxPclZlcnRpY2FsQnRuKTtcclxuICAgICAgICBzaW5ndWxhclNoaXBCdG5zLmFwcGVuZENoaWxkKHVuZG9CdG4pO1xyXG4gICAgICAgIG11bHRpcGxlU2hpcEJ0bnMuYXBwZW5kQ2hpbGQocmFuZG9taXNlQnRuKTtcclxuICAgICAgICBtdWx0aXBsZVNoaXBCdG5zLmFwcGVuZENoaWxkKHJlc2V0QnRuKTtcclxuICAgICAgICBtdWx0aXBsZVNoaXBCdG5zLmFwcGVuZENoaWxkKGNvbmZpcm1CdG4pO1xyXG5cclxuICAgICAgICBjb25zdCBnYW1lYm9hcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9LWdyaWQuZ2FtZS1ib2FyZGApXHJcbiAgICAgICAgZ2FtZWJvYXJkLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyZW5kXCIsIG11bHRpcGxlU2hpcEJ0bnMpO1xyXG4gICAgICAgIGdhbWVib2FyZC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBzaW5ndWxhclNoaXBCdG5zKTtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVCdXR0b25zKCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9LWdyaWQtY29udGFpbmVyYCk7XHJcbiAgICAgICAgY29uc3Qgc2luZ3VsYXJTaGlwQnRucyA9IGdyaWRDb250YWluZXIucXVlcnlTZWxlY3RvcihgLnNpbmd1bGFyLXNoaXAtYnRuc2ApO1xyXG4gICAgICAgIGNvbnN0IG11bHRpcGxlU2hpcEJ0bnMgPSBncmlkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC5tdWx0aXBsZS1zaGlwLWJ0bnNgKTtcclxuXHJcbiAgICAgICAgZ3JpZENvbnRhaW5lci5yZW1vdmVDaGlsZChzaW5ndWxhclNoaXBCdG5zKTtcclxuICAgICAgICBncmlkQ29udGFpbmVyLnJlbW92ZUNoaWxkKG11bHRpcGxlU2hpcEJ0bnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGJ1aWxkcyBzaGlwcyB0byBiZSBwbGFjZWRcclxuICAgIGZ1bmN0aW9uIGJ1aWxkU2hpcHMoKSB7XHJcbiAgICAgICAgY29uc3Qgc2hpcHNDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBzaGlwc0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdzaGlwcy1jb250YWluZXInKTtcclxuXHJcbiAgICAgICAgc2hpcHNDb250YWluZXIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaGlwLWNvbnRhaW5lci0xXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjRcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj4gXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjNcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjNcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNoaXAtY29udGFpbmVyLTJcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2hpcC1jb250YWluZXItM1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIxXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjFcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnNpZGUtc2hpcFwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluc2lkZS1zaGlwXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIxXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5zaWRlLXNoaXBcIj48L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgLy8gQmVuZWF0aCBpcyBmb3IgY29ycmVjdCBVWCBwbGFjZW1lbnQgb2YgdGhlIGNvbmZpcm0gYnV0dG9uXHJcbiAgICAgICAgY29uc3QgcGxheWVyR3JpZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMubmFtZX0tZ3JpZC1jb250YWluZXJgKVxyXG4gICAgICAgIHBsYXllckdyaWRDb250YWluZXIuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KFwiYWZ0ZXJiZWdpblwiLCBzaGlwc0NvbnRhaW5lcik7XHJcblxyXG4gICAgICAgIC8vIFN0b3JlcyB0aGUgZHJhZ2dhYmxlU2hpcHMgZGl2IGluIGFycmF5IGZvciB1cGRhdGVDbGFzc0xpc3RPbkRyYWdnYWJsZVNoaXBcclxuICAgICAgICBkcmFnZ2FibGVTaGlwcyA9IFsuLi5wbGF5ZXJHcmlkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJhZ2dhYmxlLXNoaXBcIildO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVNoaXBzKCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9LWdyaWQtY29udGFpbmVyYCk7XHJcbiAgICAgICAgY29uc3Qgc2hpcHNDb250YWluZXIgPSBncmlkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC5zaGlwcy1jb250YWluZXJgKTtcclxuXHJcbiAgICAgICAgaWYgKHNoaXBzQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGdyaWRDb250YWluZXIucmVtb3ZlQ2hpbGQoc2hpcHNDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gaGlkZUdyaWRTaGlwcygpIHtcclxuICAgICAgICAvLyBVc2VkIGZvciBsb2NhbCBwbGF5IHRvIHJlbW92ZSBzaGlwcyBmcm9tIHNjcmVlblxyXG4gICAgICAgIGNvbnN0IGdhbWVib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMubmFtZX0tZ3JpZC5nYW1lLWJvYXJkLm51bWJlcmApO1xyXG4gICAgICAgIGdhbWVib2FyZC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJyZXZlYWxcIikpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInJldmVhbFwiKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0RGVmYXVsdFNoaXAoaW5kZXg9MCkge1xyXG4gICAgICAgIGlmIChkcmFnZ2FibGVTaGlwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkU2hpcCA9IGRyYWdnYWJsZVNoaXBzW2luZGV4ICUgZHJhZ2dhYmxlU2hpcHMubGVuZ3RoXTtcclxuICAgICAgICAgICAgc2VsZWN0ZWRTaGlwLmNsYXNzTGlzdC5hZGQoXCJwbGFjaW5nXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseURyYWdnYWJsZVNoaXBzKCkge1xyXG4gICAgICAgIC8vIFNldHMgaW5pdGlhbCBzaGlwIGZvciBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgIHNlbGVjdERlZmF1bHRTaGlwKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZHJhZ2dhYmxlU2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICAgICAgc2hpcC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHNoaXBTZWxlY3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBjaGVja0lmUG9zaXRpb25WYWxpZCh5LCB4LCBzaGlwU2l6ZSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgc2hpcERpdnMgPSBbXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIE5FRUQgVE8gY2hhbmdlIHBsYW5lT2ZQbGFjaW5nU2hpcCBoZXJlIGFzIHdoZW4gSSBkaWQgaXQgaW4gdGhlIGhvcml6b250YWxPclZlcnRpY2FsSGFuZGxlQ2xpY2sgXHJcbiAgICAgICAgICAgIC8vIHBsYW5lT2ZQbGFjaW5nU2hpcCBkaWQgbm90IHVwZGF0ZSBpbiB0aGlzIHNjb3BlIC0gTWF5YmUgc2NvcGUgcmVsYXRlZFxyXG4gICAgICAgICAgICBwbGFuZU9mUGxhY2luZ1NoaXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9Lmhvcml6b250YWwtb3ItdmVydGljYWwtYnRuYCkudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggdGhlIHNxdWFyZXMgdG8gaGlnaGxpZ2h0IGJhc2VkIG9uIHNoaXAgc2l6ZVxyXG4gICAgICAgICAgICBpZiAocGxhbmVPZlBsYWNpbmdTaGlwID09PSBcIkhPUklaT05UQUxcIikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWREaXYgPSBncmlkRGl2RnJvbUNvb3JkaW5hdGVzLmJpbmQodGhpcykoeSwgeCArIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkRGl2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBEaXZzLnB1c2goZ3JpZERpdik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlSW52YWxpZCh5LCB4ICsgaSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhbmVPZlBsYWNpbmdTaGlwID09PSBcIlZFUlRJQ0FMXCIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcFNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkRGl2ID0gZ3JpZERpdkZyb21Db29yZGluYXRlcy5iaW5kKHRoaXMpKHkgKyBpLCB4KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZERpdikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwRGl2cy5wdXNoKGdyaWREaXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZUludmFsaWQoeSArIGksIHgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbdmFsaWQsIHNoaXBEaXZzXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiBmb3IgY2hlY2tJZlBvc2l0aW9uVmFsaWRcclxuICAgICAgICBmdW5jdGlvbiBjb29yZGluYXRlSW52YWxpZCh5LCB4KSB7XHJcbiAgICAgICAgICAgIGlmICh5ID4gOSB8fCB4ID4gOSB8fCBnYW1lYm9hcmQuYm9hcmRbeV1beF0gIT0gbnVsbCB8fCBnYW1lYm9hcmQubWlzc2VkW3ldW3hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5lYXJieVNoaXBTcXVhcmVzSGl0Rm9yU2hpcFBsYWNlbWVudCh4LCB5KSB7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZXMgc3F1YXJlcyB3aGljaCBuZWlnaGJvdXIgYSBzdW5rIHNoaXAgdG8gYmUgZ3Vlc3Nlc1xyXG4gICAgICAgICAgICBjb25zdCBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzID0gZmluZFN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMoeCwgeSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFycmF5IHRvIGRldGVybWluZSBpZiBuZWVkcyB0byBiZSB1cGRhdGVkO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb29yZGluYXRlcyBvZiBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeCA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSBjb29yZGluYXRlc1sxXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5taXNzZWRbeV1beF0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhbeCwgeV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRyYWdFbnRlciBuZWVkcyB0byBiZSBhbiBhcnJvdyBmdW5jdGlvbiBzbyB0aGF0IHRoaXMgY2FuIHJlbWFpbiBpbiB0aGUgY29ycmVjdCBzY29wZVxyXG4gICAgICAgIC8vIG90aGVyd2lzZSB0aGlzIGJlY29tZXMgdGhlIGdyaWREaXZcclxuICAgICAgICBjb25zdCBkcmFnRW50ZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChkcmFnZ2FibGVTaGlwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlci5iaW5kKHRoaXMpKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNoaXBTaXplID0gcGFyc2VJbnQoc2VsZWN0ZWRTaGlwLmRhdGFzZXQuc2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyBpZiBwb3NpdGlvblZhbGlkIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgZGl2c1xyXG4gICAgICAgICAgICAgICAgbGV0IFt2YWxpZCwgc2hpcERpdnNdID0gY2hlY2tJZlBvc2l0aW9uVmFsaWQuYmluZCh0aGlzKSh5LCB4LCBzaGlwU2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZERpdiBvZiBzaGlwRGl2cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZERpdiBvZiBzaGlwRGl2cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoJ25vdC12YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZHJhZ0xlYXZlKGUpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGhpZ2hsaWdodCBlZmZlY3QgZnJvbSBhbGwgc3F1YXJlc1xyXG4gICAgICAgICAgICBsZXQgaGlnaGxpZ2h0ZWRTcXVhcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0ZWRTcXVhcmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWRTcXVhcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5vdC12YWxpZCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBoaWdobGlnaHRlZFNxdWFyZXMuZm9yRWFjaChzcXVhcmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcsICdub3QtdmFsaWQnLCAnc2hha2luZy1hbmltYXRpb24nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgY29uc3QgZHJvcCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGRyYWdnYWJsZVNoaXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt5LCB4XSA9IGNsYXNzVG9JbnRlZ2VyLmJpbmQodGhpcykoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hpcFNpemUgPSBwYXJzZUludChzZWxlY3RlZFNoaXAuZGF0YXNldC5zaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbWluWSA9IHk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4WSA9IHk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWluWCA9IHg7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4WCA9IHg7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IFt2YWxpZCwgc2hpcERpdnNdID0gY2hlY2tJZlBvc2l0aW9uVmFsaWQuYmluZCh0aGlzKSh5LCB4LCBzaGlwU2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzcXVhcmVzIHRvIGhpZ2hsaWdodCBiYXNlZCBvbiBzaGlwIHNpemVcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZERpdiBvZiBzaGlwRGl2cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGFjZSBzaGlwIG9uIEhUTUxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKCdzaGlwLXByZXNlbnQnLCAncmV2ZWFsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgaGlnaGxpZ2h0IGVmZmVjdCBmcm9tIHRoZSBncmlkIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhbmVPZlBsYWNpbmdTaGlwID09PSBcIkhPUklaT05UQUxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHNoaXBTaXplIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnBvc2l0aW9uU2hpcHMoW1ttaW5YLCBtYXhYLCBtaW5ZLCBtYXhZXV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWFyYnlTaGlwU3F1YXJlc0hpdEZvclNoaXBQbGFjZW1lbnQuYmluZCh0aGlzKSh4K2ksIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFuZU9mUGxhY2luZ1NoaXAgPT09IFwiVkVSVElDQUxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIHNoaXBTaXplIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnBvc2l0aW9uU2hpcHMoW1ttaW5YLCBtYXhYLCBtaW5ZLCBtYXhZXV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWFyYnlTaGlwU3F1YXJlc0hpdEZvclNoaXBQbGFjZW1lbnQuYmluZCh0aGlzKSh4LCB5K2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgVUkgb2YgdGhlIHNoaXBzIHRvIGJlIHBsYWNlZFxyXG4gICAgICAgICAgICAgICAgICAgIG1ha2VEcmFnZ2FibGVTaGlwSW52aXNpYmxlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWREaXYgb2Ygc2hpcERpdnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBhbmltYXRpb24gd2l0aCBjbGFzc0xpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90LXZhbGlkIGFsc28gYWRkZWQgaGVyZSBpbiB0aGUgZWRnZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGNsaWNrcyB0aGUgc3F1YXJlIGRpcmVjdGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIGRyb3BwaW5nIGEgc2hpcCBvbiB0aGF0IHNxdWFyZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKCdzaGFraW5nLWFuaW1hdGlvbicsJ25vdC12YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gcmVtb3ZlIHNoYWtpbmcgYW5pbWF0aW9uIGNsYXNzIHdoZW4gYW5pbWF0aW9uIGVuZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ3NoYWtpbmctYW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTsgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGFmdGVyIGFuaW1hdGlvbiBlbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgIFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZ3JpZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5uYW1lfS1ncmlkLmdhbWUtYm9hcmQubnVtYmVyYClcclxuICAgICAgICBncmlkRWxlbWVudHMuZm9yRWFjaChncmlkRWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGdyaWRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBkcmFnRW50ZXIpO1xyXG4gICAgICAgICAgICBncmlkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZHJhZ0xlYXZlKTtcclxuICAgICAgICAgICAgZ3JpZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZHJvcCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hpcFNlbGVjdChlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNoaXApIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2hpcC5jbGFzc0xpc3QucmVtb3ZlKFwicGxhY2luZ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxlY3RlZFNoaXAgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgICAgICBzZWxlY3RlZFNoaXAuY2xhc3NMaXN0LmFkZChcInBsYWNpbmdcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBtYWtlRHJhZ2dhYmxlU2hpcEludmlzaWJsZSgpIHtcclxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBjbGFzc0xpc3Qgb2YgdGhlIEhUTUwgZWxlbWVudCB3aGVuIHRoZSBhc3NvY2lhdGVkIHNoaXAgaXMgYmVpbmcvaXMgcGxhY2VkXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhZ2dhYmxlU2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNoaXAgPT09IGRyYWdnYWJsZVNoaXBzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlU2hpcHNbaV0uY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVTaGlwcy5zcGxpY2UoaSwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZHMgcHJldlNlbGVjdGVkU2hpcCBvbmNlIGl0J3MgYmVlbiBkcm9wcGVkIG9udG8gdGhlIGdhbWVib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZTZWxlY3RlZFNoaXBBcnJheS5wdXNoKHNlbGVjdGVkU2hpcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldlNlbGVjdGVkU2hpcEluZGV4QXJyYXkucHVzaChpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTW92ZXMgdGhlIHNoaXAgdG8gYmUgcGxhY2VkIHRvIHRoZSBmb2xsb3dpbmcgc2hpcFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdERlZmF1bHRTaGlwKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdG9nZ2xlU2hpcHNJbnZpc2libGUoKSB7XHJcbiAgICAgICAgZHJhZ2dhYmxlU2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICAgICAgc2hpcC5jbGFzc0xpc3QuYWRkKFwiaW52aXNpYmxlXCIpO1xyXG4gICAgICAgICAgICBzaGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJwbGFjaW5nXCIpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzZXRTaGlwcygpIHtcclxuICAgICAgICByZW1vdmVTaGlwcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgYnVpbGRTaGlwcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgYXBwbHlEcmFnZ2FibGVTaGlwcy5iaW5kKHRoaXMpKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNsYXNzTGlzdE9uRHJhZ2dhYmxlU2hpcChzaGlwKSB7XHJcbiAgICAgICAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBjbGFzc0xpc3Qgb2YgdGhlIEhUTUwgZWxlbWVudCB3aGVuIHRoZSBhc3NvY2lhdGVkIHNoaXAgaXMgc3Vua1xyXG4gICAgICAgIC8vIEkgY29tcGFyZSB0aGUgbGVuZ3RoIG9wcG9zZWQgdG8gdGhlIGluZGl2aWR1YWwgZGl2IGFzIHRoaXMgbWVhbnMgZWFjaCBzaGlwIGlzIHN1bmsgZnJvbSB0aGUgdG9wIGRvd24gd2hpY2ggaXMgbW9yZSBsb2dpY2FsIGFuZCBsZXNzIGNvbmZ1c2luZ1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZHJhZ2dhYmxlU2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YVNpemUgPSBwYXJzZUludChkcmFnZ2FibGVTaGlwc1tpXS5kYXRhc2V0LnNpemUpO1xyXG4gICAgICAgICAgICBpZiAoc2hpcC5sZW5ndGggPT09IGRhdGFTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGVTaGlwc1tpXS5jbGFzc0xpc3QuYWRkKFwic3Vua1wiKTtcclxuICAgICAgICAgICAgICAgIGRyYWdnYWJsZVNoaXBzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUxhc3RTaGlwKCkge1xyXG4gICAgICAgIGlmIChnYW1lYm9hcmQuc2hpcHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAvLyBOZWVkIHRvIHJlbW92ZSBMYXN0IFNoaXAgZnJvbSBzaGlwcyBhcnJheVxyXG4gICAgICAgICAgICBjb25zdCBzaGlwVG9CZVJlbW92ZWQgPSBnYW1lYm9hcmQuc2hpcHMucG9wKGdhbWVib2FyZC5zaGlwcy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICBjb25zdCBzaGlwVG9CZVJlbW92ZWRDb29yZGluYXRlcyA9IHJlbW92ZVNoaXBGcm9tQm9hcmRBcnJheShzaGlwVG9CZVJlbW92ZWQpO1xyXG4gICAgICAgICAgICByZW1vdmVTaGlwRnJvbUhUTUxHYW1lYm9hcmQuYmluZCh0aGlzKShzaGlwVG9CZVJlbW92ZWRDb29yZGluYXRlcyk7XHJcbiAgICAgICAgICAgIHJlbW92ZVhWYWx1ZXNGcm9tTWlzc2VkR2FtZWJvYXJkKHNoaXBUb0JlUmVtb3ZlZENvb3JkaW5hdGVzKTtcclxuICAgICAgICAgICAgcmVpbnN0YXRlVG9IVE1MRHJhZ2dhYmxlU2hpcHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlU2hpcEZyb21Cb2FyZEFycmF5KHNoaXApIHtcclxuICAgICAgICAvLyBGdW5jdGlvbiByZXR1cm5zIGdhbWVib2FyZCBjb29yZGluYXRlcyBvZiBzaGlwIGFuZCBzaW11bHRhbmVvdXNseSByZW1vdmVzIGl0IGZyb20gdGhlIGdhbWVib2FyZFxyXG4gICAgICAgIGNvbnN0IHNoaXBDb29yZGluYXRlcyA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IHkgPSAwOyB5IDw9IDk7IHkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSA5OyB4KyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuYm9hcmRbeV1beF0gPT09IHNoaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmVzIHNoaXAgZnJvbSBnYW1lYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQuYm9hcmRbeV1beF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHNoaXBDb29yZGluYXRlcy5wdXNoKFt5LCB4XSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hpcENvb3JkaW5hdGVzXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlU2hpcEZyb21IVE1MR2FtZWJvYXJkKHNoaXBDb29yZGluYXRlcykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHNoaXBDb29yZGluYXRlcylcclxuICAgICAgICBmb3IgKGxldCBjb29yZGluYXRlcyBvZiBzaGlwQ29vcmRpbmF0ZXMpIHtcclxuICAgICAgICAgICAgY29uc3QgeSA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gY29vcmRpbmF0ZXNbMV07XHJcbiAgICAgICAgICAgIGNvbnN0IGdyaWREaXYgPSBncmlkRGl2RnJvbUNvb3JkaW5hdGVzLmJpbmQodGhpcykoeSwgeCk7XHJcbiAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LnJlbW92ZShcInNoaXAtcHJlc2VudFwiLCBcInJldmVhbFwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlWFZhbHVlc0Zyb21NaXNzZWRHYW1lYm9hcmQoc2hpcENvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY29vcmRpbmF0ZXMgb2Ygc2hpcENvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHkgPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgICAgICAgY29uc3QgeCA9IGNvb3JkaW5hdGVzWzFdO1xyXG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlc0Zvck1pc3NlZEdhbWVib2FyZCA9IGZpbmRTdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKHgsIHkpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBtaXNzZWRDb29yZGluYXRlcyBvZiBjb29yZGluYXRlc0Zvck1pc3NlZEdhbWVib2FyZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgWSA9IG1pc3NlZENvb3JkaW5hdGVzWzFdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgWCA9IG1pc3NlZENvb3JkaW5hdGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5taXNzZWRbWV1bWF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZC5taXNzZWRbWV1bWF0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlaW5zdGF0ZVRvSFRNTERyYWdnYWJsZVNoaXBzKCkge1xyXG4gICAgICAgIC8vIExhc3QgYWRkZWQgc2hpcCBpcyB0aGUgcHJldmlvdXNTZWxlY3RlZFNoaXBcclxuICAgICAgICBjb25zdCBwcmV2U2VsZWN0ZWRTaGlwID0gcHJldlNlbGVjdGVkU2hpcEFycmF5LnBvcCgpO1xyXG4gICAgICAgIGNvbnN0IHByZXZTZWxlY3RlZFNoaXBJbmRleCA9IHByZXZTZWxlY3RlZFNoaXBJbmRleEFycmF5LnBvcCgpO1xyXG5cclxuICAgICAgICAvLyBBZGQgcHJldmlvdXNseSBwbGFjZWQgc2hpcCBiYWNrIGludG8gZHJhZ2dhYmxlIHNoaXBzIGFuZCB0aGUgZHJhZ2dnYWJsZS1zaGlwIGNvbnRhaW5lclxyXG4gICAgICAgIHByZXZTZWxlY3RlZFNoaXAuY2xhc3NMaXN0LnJlbW92ZShcImludmlzaWJsZVwiKTtcclxuICAgICAgICBkcmFnZ2FibGVTaGlwcy5zcGxpY2UocHJldlNlbGVjdGVkU2hpcEluZGV4LCAwLCBwcmV2U2VsZWN0ZWRTaGlwKTtcclxuXHJcbiAgICAgICAgLy8gUmV2ZXJ0IHRoZSBjdXJyZW50IHNlbGVjdGVkU2hpcCB0byBiZSB0aGUgcHJldmlvdXNcclxuICAgICAgICBzZWxlY3RlZFNoaXAuY2xhc3NMaXN0LnJlbW92ZShcInBsYWNpbmdcIik7XHJcbiAgICAgICAgc2VsZWN0ZWRTaGlwID0gcHJldlNlbGVjdGVkU2hpcDtcclxuICAgICAgICBcclxuICAgIH0gICBcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9ncmVzc0Zyb21TaGlwUGxhY2VtZW50KHBsYXllcjJUdXJuVHJhY2tlcikge1xyXG4gICAgICAgIC8vIElmIFZTIENPTVBVVEVSLCBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbiBQbGF5ZXIgMSFcclxuICAgICAgICBpZiAodGhpcy5vcHBvbmVudC5uYW1lID09PSBcImNvbXB1dGVyXCIpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIFJ1bGVzLCBCdXR0b25zIGFuZCBTaGlwc1xyXG4gICAgICAgICAgICByZW1vdmVCdXR0b25zLmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgcmVtb3ZlU2hpcHMuYmluZCh0aGlzKSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gTmVlZCB0byByZXNldCBtaXNzZWQgZ2FtZWJvYXJkIGFzIGl0IHdhcyB1c2VkIHRvIHByZXZlbnQgaW52YWxpZCBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgICAgICAvLyBGb3Igc2hpcHMgdG9vIGNsb3NlIHRvZ2V0aGVyXHJcbiAgICAgICAgICAgIHJlc2V0TWlzc2VkKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9wcG9uZW50LnJlbW92ZVJ1bGVzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQ2FsbGVkIG9uIFBsYXllcjFcclxuICAgICAgICAgICAgaWYgKHBsYXllcjJUdXJuVHJhY2tlciA9PT0gXCJwbGF5ZXIyVHVyblN0YXJ0XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBSdWxlcyBhbmQgU2hpcHMsIGtlZXBzIGJ1dHRvbnMgZm9yIGFldGhzdGV0aWMgcmVhc29ucyBmb3IgaG93IHRoZSBydWxlcyBsb29rXHJcbiAgICAgICAgICAgICAgICBidWlsZFJ1bGVzLmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVNoaXBzLmJpbmQodGhpcykoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIHJlc2V0IG1pc3NlZCBnYW1lYm9hcmQgYXMgaXQgd2FzIHVzZWQgdG8gcHJldmVudCBpbnZhbGlkIHNoaXAgcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAvLyBGb3Igc2hpcHMgdG9vIGNsb3NlIHRvZ2V0aGVyXHJcbiAgICAgICAgICAgICAgICByZXNldE1pc3NlZCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQucmVtb3ZlUnVsZXMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuYnVpbGRTaGlwcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5hcHBseURyYWdnYWJsZVNoaXBzKCk7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgICAgIC8vIENhbGxlZCBvbiBQbGF5ZXIyXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllcjJUdXJuVHJhY2tlciA9PT0gXCJwbGF5ZXIyVHVybkZpbmlzaFwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgUnVsZXMsIEJ1dHRvbnMgYW5kIFNoaXBzXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50LnJlbW92ZVJ1bGVzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50LnJlbW92ZUJ1dHRvbnMoKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZVNoaXBzLmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgICAgIHJlbW92ZUJ1dHRvbnMuYmluZCh0aGlzKSgpOyAgICAgICAgICAgICAgICBcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBOZWVkIHRvIHJlc2V0IG1pc3NlZCBnYW1lYm9hcmQgYXMgaXQgd2FzIHVzZWQgdG8gcHJldmVudCBpbnZhbGlkIHNoaXAgcGxhY2VtZW50XHJcbiAgICAgICAgICAgICAgICAvLyBGb3Igc2hpcHMgdG9vIGNsb3NlIHRvZ2V0aGVyXHJcbiAgICAgICAgICAgICAgICByZXNldE1pc3NlZCgpO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmVzIFNoaXBzIG9uIEhUTUwgYm9hcmQgZnJvbSBzaWdodCBhcyB0aGlzIG1vZGUgaXMgbG9jYWwgUGxheWVyIHZzIFBsYXllclxyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5oaWRlR3JpZFNoaXBzKCk7XHJcbiAgICAgICAgICAgICAgICBoaWRlR3JpZFNoaXBzLmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0TWlzc2VkKCkge1xyXG4gICAgICAgIGZvciAobGV0IHggPSAwOyB4IDw9IDk7IHgrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSA5OyB5KyspIHtcclxuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5taXNzZWRbeV1beF0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qIEdBTUUgTE9HSUMgKi9cclxuXHJcbiAgICAvLyBNb3ZlZCBmb3IgcmVtb3ZlRXZlbnRMaXN0ZW5lciBidXQgdGhlIGJpbmQodGhpcykgbWVhbnMgdGhlIGluc3RhbmNlIGlzIG5vdCB0aGUgc2FtZSwgc28gaXQgY2Fubm90IHdvcmtcclxuICAgIGZ1bmN0aW9uIGNsaWNrSGFuZGxlcihncmlkRGl2KSB7XHJcbiAgICAgICAgY2xpY2tUb0hUTUwuYmluZCh0aGlzKShncmlkRGl2KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWdpc3RlckdyaWREaXZFdmVudExpc3RlbmVyKCkge1xyXG4gICAgICAgIC8vIEFsbG93cyBmb3IgcGxheWVyIGludGVyYWN0aW9uIHdpdGggZ3JpZFxyXG4gICAgICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm5hbWUgKyBcIkdyaWRcIilcclxuICAgICAgICBjb25zdCBncmlkRGl2cyA9IGdyaWQucXVlcnlTZWxlY3RvckFsbChcIipcIik7XHJcblxyXG4gICAgICAgIGdyaWREaXZzLmZvckVhY2goZ3JpZERpdiA9PiB7XHJcbiAgICAgICAgICAgIC8vIFN0b3JlIHRoZSBib3VuZCBmdW5jdGlvbiByZWZlcmVuY2UgYXMgYSBwcm9wZXJ0eSBvZiB0aGUgZ3JpZERpdlxyXG4gICAgICAgICAgICBjb25zdCBib3VuZENsaWNrSGFuZGxlciA9IGNsaWNrSGFuZGxlci5iaW5kKHRoaXMsIGdyaWREaXYpO1xyXG4gICAgICAgICAgICBncmlkRGl2Ll9ib3VuZENsaWNrSGFuZGxlciA9IGJvdW5kQ2xpY2tIYW5kbGVyO1xyXG5cclxuICAgICAgICAgICAgZ3JpZERpdi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYm91bmRDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGNsaWNrVG9IVE1MKGdyaWREaXYpIHtcclxuICAgICAgICAvLyBDb252ZXJ0J3MgcGxheWVyIGludGVyYWN0aW9uIHdpdGggZ3JpZCBpbnRvIGEgZ3Vlc3MgYnkgY2hhbmdpbmcgSFRNTFxyXG4gICAgICAgIGlmIChncmlkRGl2LnRleHRDb250ZW50ID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgIGlmIChncmlkRGl2LmNsYXNzTGlzdC5jb250YWlucyhcInNoaXAtcHJlc2VudFwiKSkge1xyXG4gICAgICAgICAgICAgICAgZ3JpZERpdi50ZXh0Q29udGVudCA9IFwiWFwiO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlVHVyblRleHQoYCR7dGhpcy5vcHBvbmVudC5tb25pa2VyfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIHJlZFwiPkhJVDwvc3Bhbj5gKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChncmlkRGl2LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoXCJyZXZlYWxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBncmlkRGl2LnRleHRDb250ZW50ID0gXCLil49cIjtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVR1cm5UZXh0KGAke3RoaXMub3Bwb25lbnQubW9uaWtlcn0gPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCBibHVlXCI+TUlTU0VEPC9zcGFuPmApXHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93T3ZlcmxheSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuc2hvd092ZXJsYXkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgZ3JpZERpdi5pZCA9IFwiaGl0XCI7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIENvbXB1dGVyIGd1ZXNzSW5kZXggaWYgcGxheWVyIG1pc3NzZXNcclxuICAgICAgICAgICAgICAgIC8vIEtlZXBzIGdvaW5nIHVudGlsIGl0IGhpdHMgYW5kIFhcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbGlzZWRHdWVzc2VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsaXNlZENvbXB1dGVyR3Vlc3MuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXB1dGVyR3Vlc3MuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBIVE1MdG9ib2FyZC5iaW5kKHRoaXMpKGdyaWREaXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaGlwU3VuayhncmlkRGl2KSB7XHJcbiAgICAgICAgY29uc3QgW3ksIHhdID0gY2xhc3NUb0ludGVnZXIoZ3JpZERpdik7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmJvYXJkW3ldW3hdLnN1bms7ICAgICAgICBcclxuICAgIH0gICBcclxuXHJcbiAgICAvLyBVc2VkIGZvciBpbnRlcmFjdGlvbiBiZXR3ZWVuIERPTSBhbmQgYm9hcmQgYXJyYXlcclxuICAgIGZ1bmN0aW9uIGNsYXNzVG9JbnRlZ2VyKGdyaWREaXYpIHtcclxuICAgICAgICBjb25zdCBjbGFzc0xpc3RTdHJpbmcgPSBncmlkRGl2LmdldEF0dHJpYnV0ZShcImNsYXNzXCIpO1xyXG4gICAgICAgIGNvbnN0IG51bWJlcnMgPSBcIjAxMjM0NTY3ODlcIlxyXG4gICAgICAgIGZvciAobGV0IGNsYXNzTmFtZSBvZiBjbGFzc0xpc3RTdHJpbmcuc3BsaXQoXCIgXCIpKSB7XHJcbiAgICAgICAgICAgIGlmIChudW1iZXJzLmluY2x1ZGVzKGNsYXNzTmFtZVswXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcGFyc2VJbnQoY2xhc3NOYW1lWzBdKSwgcGFyc2VJbnQoY2xhc3NOYW1lWzFdKV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCdzIHBsYXllciBpbnRlcmFjdGlvbiB3aXRoIGdyaWQgaW50byBhIGd1ZXNzIGJ5IGNoYW5naW5nIGJvYXJkIGFycmF5XHJcbiAgICBmdW5jdGlvbiBIVE1MdG9ib2FyZChncmlkRGl2KSB7XHJcbiAgICAgICAgaWYgKCFnYW1lYm9hcmQpIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IFt5LCB4XSA9IGNsYXNzVG9JbnRlZ2VyKGdyaWREaXYpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGdhbWVib2FyZC5yZWNpZXZlQXR0YWNrKFt4LCB5XSk7XHJcblxyXG4gICAgICAgIGlmIChnYW1lYm9hcmQuYm9hcmRbeV1beF0gIT0gbnVsbCAmJiBnYW1lYm9hcmQuYm9hcmRbeV1beF0uc3Vuaykge1xyXG4gICAgICAgICAgICB1cGRhdGVUdXJuVGV4dChgJHt0aGlzLm9wcG9uZW50Lm1vbmlrZXJ9IDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgb3JhbmdlXCI+U0FOSzwvc3Bhbj4gT05FIE9GICR7dGhpcy5tb25pa2VyfSdzIFNISVBTYClcclxuICAgICBcclxuICAgICAgICAgICAgLy8gQWxnb3JpdGhtIHRvIGZpbmQgYWxsIGFsbCBwYXJ0cyBvZiBzdW5rIHNoaXAgdG8gY2hhbmdlIGJvcmRlciB0byByZWRcclxuICAgICAgICAgICAgLy8gQWxsb3dzIGZvciBcInN1bmtcIiB0byBiZSBhZGRlZCB0byBlYWNoIHBhcnQgb2YgdGhlIHN1bmtlbiBzaGlwLCBub3QganVzdCB0aGUgaGl0IHdoaWNoIHNhbmsgdGhlIHNoaXAgIFxyXG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZC5ib2FyZCwgeCwgeSwgbmV3IFNldCgpKTtcclxuICAgICAgICAgICAgY29vcmRpbmF0ZXMuZm9yRWFjaChjb29yZGluYXRlID0+IHtcclxuICAgICAgICAgICAgICAgIGxldCB4ID0gcGFyc2VJbnQoY29vcmRpbmF0ZVsxXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgeSA9IHBhcnNlSW50KGNvb3JkaW5hdGVbMF0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHNoaXBEaXYgPSBncmlkRGl2RnJvbUNvb3JkaW5hdGVzLmJpbmQodGhpcykoeSwgeCk7XHJcbiAgICAgICAgICAgICAgICBzaGlwRGl2LmNsYXNzTGlzdC5hZGQoXCJzdW5rXCIpO1xyXG4gICAgICAgICAgICAgICAgbmVhcmJ5U2hpcFNxdWFyZXNIaXQuYmluZCh0aGlzKSh4LCB5KTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIHVwZGF0ZUNsYXNzTGlzdE9uRHJhZ2dhYmxlU2hpcC5iaW5kKHRoaXMpKGdhbWVib2FyZC5ib2FyZFt5XVt4XSk7XHJcblxyXG4gICAgICAgICAgICAvLyBHYW1lIG92ZXIgY2hlY2s/XHJcbiAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJPdmVyYWxsT3ZlcmxheS5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmVhcmJ5U2hpcFNxdWFyZXNIaXQoeCwgeSwgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzID0gbnVsbCkge1xyXG4gICAgICAgIC8vIFVwZGF0ZXMgc3F1YXJlcyB3aGljaCBuZWlnaGJvdXIgYSBzdW5rIHNoaXAgdG8gYmUgZ3Vlc3Nlc1xyXG4gICAgICAgIGNvbnN0IHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMgPSBmaW5kU3Vycm91bmRpbmdDb29yZGluYXRlcyh4LCB5KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYXJyYXkgdG8gZGV0ZXJtaW5lIGlmIG5lZWRzIHRvIGJlIHVwZGF0ZWQ7XHJcbiAgICAgICAgZm9yIChsZXQgY29vcmRpbmF0ZXMgb2Ygc3Vycm91bmRpbmdDb29yZGluYXRlcykge1xyXG4gICAgICAgICAgICBsZXQgeCA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICAgICAgICBsZXQgeSA9IGNvb3JkaW5hdGVzWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5taXNzZWRbeV1beF0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNpZXZlQXR0YWNrLmJpbmQodGhpcykoW3gsIHldKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWlzc2VkRGl2ID0gZ3JpZERpdkZyb21Db29yZGluYXRlcy5iaW5kKHRoaXMpKHksIHgpO1xyXG4gICAgICAgICAgICAgICAgbWlzc2VkRGl2LnRleHRDb250ZW50ID0gXCLil49cIjtcclxuICAgICAgICAgICAgICAgIG1pc3NlZERpdi5pZCA9IFwicmV2ZWFsZWRNaXNzXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3Bwb25lbnQubmFtZSA9PT0gXCJjb21wdXRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ29tcHV0ZXJHdWVzcyhtaXNzZWREaXYsIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRTdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKHgsIHkpIHtcclxuICAgICAgICAvLyBGaW5kIGFsbCBjb29yZGluYXRlcyBzdXJyb3VuZGluZyBpbnB1dCBjb29yZGluYXRlcyAoSW5jbHVkaW5nIGRpYWdvbmFsKVxyXG4gICAgICAgIGNvbnN0IHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBZID0geSAtIDE7IFkgPD0geSArIDE7IFkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBYID0geCAtIDE7IFggPD0geCArIDE7IFgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKFgsIFkpIDwgMCB8fCBNYXRoLm1heChYLCBZKSA+IDkgfHwgZ2FtZWJvYXJkLmJvYXJkW1ldW1hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMucHVzaChbWCwgWV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdyaWREaXZGcm9tQ29vcmRpbmF0ZXMoeSwgeCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm5hbWUgKyBcIkdyaWRcIik7XHJcbiAgICAgICAgY29uc3QgZ3JpZERpdnMgPSBncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpO1xyXG4gICAgICAgIGxldCBmb3VuZEdyaWREaXYgPSBudWxsO1xyXG5cclxuICAgICAgICBncmlkRGl2cy5mb3JFYWNoKGdyaWREaXYgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ3JpZERpdi5jbGFzc0xpc3QuY29udGFpbnMoYCR7eX0ke3h9YCkpIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kR3JpZERpdiA9IGdyaWREaXY7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gZm91bmRHcmlkRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZCwgeCwgeSwgcGF0aCkge1xyXG4gICAgICAgIGlmIChwYXRoLmhhcyhgJHt5fSR7eH1gKSB8fCBNYXRoLm1heCh4LCB5KSA+IDkgfHwgTWF0aC5taW4oeCwgeSkgPCAwIHx8IGdhbWVib2FyZFt5XVt4XSA9PT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBDT0RFIEZPUiBNWSBPV04gVU5ERVJTVEFORElOR1xyXG4gICAgICAgIC8vIFByZXZpb3VzbHkgaGFkIFwicGF0aC5hZGQoW3ksIHhdKVwiXHJcbiAgICAgICAgLy8gVGhpcyBsaW5lIGF0dGVtcHRzIHRvIGFkZCBhbiBhcnJheSBbeSwgeF0gdG8gdGhlIFNldC4gSG93ZXZlciwgSmF2YVNjcmlwdCBjb25zaWRlcnMgdHdvIGFycmF5cyB0byBcclxuICAgICAgICAvLyBiZSBlcXVhbCBvbmx5IGlmIHRoZXkgcmVmZXJlbmNlIHRoZSBzYW1lIGFycmF5IG9iamVjdCwgbm90IGlmIHRoZWlyIGNvbnRlbnRzIGFyZSB0aGUgc2FtZS4gU2luY2UgeW91IFxyXG4gICAgICAgIC8vIGFyZSBjcmVhdGluZyBuZXcgYXJyYXkgb2JqZWN0cyBlYWNoIHRpbWUgeW91IHVzZSBbeSwgeF0sIHRoZXkgYXJlIG5vdCBjb25zaWRlcmVkIGVxdWFsLCBhbmQgdGh1cyBlYWNoIFxyXG4gICAgICAgIC8vIGF0dGVtcHQgdG8gYWRkIGEgbmV3IFt5LCB4XSBhcnJheSB0byB0aGUgU2V0IHdpbGwgc3VjY2VlZCwgcmVzdWx0aW5nIGluIGR1cGxpY2F0ZXMuXHJcblxyXG4gICAgICAgIC8vIEJlbmVhdGggYWxsb3dzIGZvciBwcm9wZXIgY2hlY2tzXHJcbiAgICAgICAgcGF0aC5hZGQoYCR7eX0ke3h9YCk7XHJcblxyXG4gICAgICAgIGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZCwgeCArIDEsIHksIHBhdGgpIFxyXG4gICAgICAgIGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZCwgeCAtIDEsIHksIHBhdGgpXHJcbiAgICAgICAgZmluZFRvdWNoaW5nU2hpcHMoZ2FtZWJvYXJkLCB4LCB5ICsgMSwgcGF0aClcclxuICAgICAgICBmaW5kVG91Y2hpbmdTaGlwcyhnYW1lYm9hcmQsIHgsIHkgLSAxLCBwYXRoKVxyXG5cclxuICAgICAgICByZXR1cm4gcGF0aFxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd092ZXJsYXkoc2hvd092ZXJsYXksIG5hbWU9dGhpcy5uYW1lKSB7XHJcbiAgICAgICAgbGV0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lICsgXCJHcmlkT3ZlcmxheVwiKTtcclxuICAgICAgICBpZiAoc2hvd092ZXJsYXkpIHtcclxuICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUdXJuVGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgdHVybkRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHVybi10ZXh0XCIpO1xyXG4gICAgICAgIHR1cm5EaXYuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKiBDT01QVVRFUiBHVUVTU0lORyBMT0dJQyAqL1xyXG4gICAgXHJcbiAgICBhc3luYyBmdW5jdGlvbiBjb21wdXRlckd1ZXNzKCkge1xyXG4gICAgICAgIGxldCBndWVzc0luZGV4ID0gYXdhaXQgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCk7XHJcbiAgICAgICAgd2hpbGUgKGd1ZXNzSW5kZXggPj0gcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBndWVzc0luZGV4ID0gYXdhaXQgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGd1ZXNzZWREaXYgPSBhd2FpdCBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXNbZ3Vlc3NJbmRleF07XHJcblxyXG4gICAgICAgIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5zcGxpY2UoZ3Vlc3NJbmRleCwgMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmFuZG9taXNlcyBhZGp1c3RzIHRoZSBjb21wdXRlciByZXNwb25zZSB0aW1lIHdpdGggbWluVGltZVxyXG4gICAgICAgIGxldCBtaW5UaW1lID0gYXdhaXQgTWF0aC5tYXgoMTUwLCBNYXRoLnJhbmRvbSgpICogNTAwKSBcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWluVGltZSkpO1xyXG5cclxuICAgICAgICBjb21wdXRlckd1ZXNzVG9IVE1MLmJpbmQodGhpcykoZ3Vlc3NlZERpdik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEdlbmVyYXRpbmcgY29tcHV0ZXIgZ3Vlc3NlcyBvbiBpbml0aWFsaXNhdGlvblxyXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVDb21wdXRlckd1ZXNzZXMoKSB7XHJcbiAgICAgICAgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzID0gW11cclxuICAgICAgICBjb25zdCBjb21wdXRlckdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLm9wcG9uZW50Lm5hbWV9R3JpZGApXHJcbiAgICAgICAgY29uc3QgY29tcHV0ZXJHcmlkRGl2cyA9IGNvbXB1dGVyR3JpZC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKTtcclxuICAgICAgICBjb21wdXRlckdyaWREaXZzLmZvckVhY2goZGl2ID0+IHtcclxuICAgICAgICAgICAgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLnB1c2goZGl2KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBVc2VkIGZvciB0aGUgcmVtb3ZhbCBvZiBkaXYncyBuZWFyYnkgdG8gYSBzaGlwIHdoZW4gYSBzaGlwIGlzIHN1bmtcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNvbXB1dGVyR3Vlc3MoZGl2VG9SZW1vdmUsIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXNbaV0gPT09IGRpdlRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcXVpcmVzIG93biBmdW5jdGlvbiBkdWUgdG8gbG9naWMgb2YgYSBjb21wdXRlciBndWVzc2VzXHJcbiAgICAvLyByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgaXMgd2hlbiB0aGUgcGxhbmUgb2YgdGhlIHNoaXAgKHZlcnRpY2FsIG9yIGhvcml6b250YWwpIGlzIGtub3duXHJcbiAgICBmdW5jdGlvbiBjb21wdXRlckd1ZXNzVG9IVE1MKGdyaWREaXYsIHJlbGF0aXZlTG9jYXRpb25PZkRpdiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKGdyaWREaXYuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2hpcC1wcmVzZW50XCIpKSB7XHJcbiAgICAgICAgICAgIGdyaWREaXYudGV4dENvbnRlbnQgPSBcIlhcIjtcclxuICAgICAgICAgICAgdXBkYXRlVHVyblRleHQoYENPTVBVVEVSIDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgcmVkXCI+SElUPC9zcGFuPmApXHJcblxyXG4gICAgICAgICAgICBjb21wdXRlckhUTUxUb0JvYXJkLmJpbmQodGhpcykoZ3JpZERpdik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAocG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGlwU3Vuay5iaW5kKHRoaXMpKGdyaWREaXYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJHdWVzcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsaXNlZENvbXB1dGVyR3Vlc3MuYmluZCh0aGlzKShncmlkRGl2LCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdyaWREaXYudGV4dENvbnRlbnQgPSBcIuKXj1wiO1xyXG4gICAgICAgICAgICB1cGRhdGVUdXJuVGV4dChgQ09NUFVURVIgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCBibHVlXCI+TUlTU0VEPC9zcGFuPmApXHJcblxyXG4gICAgICAgICAgICBjb21wdXRlckhUTUxUb0JvYXJkLmJpbmQodGhpcykoZ3JpZERpdik7XHJcblxyXG4gICAgICAgICAgICAvLyBJbiBDb21wdXRlciB2cyBQbGF5ZXIgdGhlIGNvbXB1dGVyIGJvYXJkIG5lZWRzIHRvIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhlIHBsYXllciBjbGFzc1xyXG4gICAgICAgICAgICAvLyBUaGVyZWZvcmUgcmV2ZXJzZSB0byBsb2dpYyBpbiBwbGF5ZXIgY2xhc3NcclxuICAgICAgICAgICAgdGhpcy5zaG93T3ZlcmxheShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuc2hvd092ZXJsYXkodHJ1ZSk7XHJcbiAgICAgICAgICAgIGdyaWREaXYuaWQgPSBcImhpdFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCdzIGNvbXB1dGVyJ3MgZ3Vlc3MgdG8gYm9hcmRcclxuICAgIGZ1bmN0aW9uIGNvbXB1dGVySFRNTFRvQm9hcmQoZ3JpZERpdikge1xyXG4gICAgICAgIGlmICghZ2FtZWJvYXJkKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlcihncmlkRGl2KTsgICAgICAgICAgICBcclxuICAgICAgICB0aGlzLm9wcG9uZW50LmdhbWVib2FyZC5yZWNpZXZlQXR0YWNrKFt4LCB5XSk7XHJcbiAgICAgICAgaWYgKHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmJvYXJkW3ldW3hdICE9IG51bGwgJiYgdGhpcy5vcHBvbmVudC5nYW1lYm9hcmQuYm9hcmRbeV1beF0uc3Vuaykge1xyXG4gICAgICAgICAgICB1cGRhdGVUdXJuVGV4dChgQ09NUFVURVIgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCBvcmFuZ2VcIj5TQU5LPC9zcGFuPiBPTkUgT0YgJHt0aGlzLm9wcG9uZW50Lm1vbmlrZXJ9J3MgU0hJUFNgKVxyXG4gICAgICAgICAgICBsb2NhbGlzZWRHdWVzc2VzID0gbnVsbDtcclxuICAgICAgICAgICAgc2hpcERpcmVjdGlvbiA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAvLyBBbGdvcml0aG0gdG8gZmluZCBhbGwgYWxsIHBhcnRzIG9mIHN1bmsgc2hpcCB0byBjaGFuZ2UgYm9yZGVyIHRvIHJlZCBcclxuICAgICAgICAgICAgLy8gQWxsb3dzIGZvciBcInN1bmtcIiB0byBiZSBhZGRlZCB0byBlYWNoIHBhcnQgb2YgdGhlIHN1bmtlbiBzaGlwLCBub3QganVzdCB0aGUgaGl0IHdoaWNoIHNhbmsgdGhlIHNoaXAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gZmluZFRvdWNoaW5nU2hpcHModGhpcy5vcHBvbmVudC5nYW1lYm9hcmQuYm9hcmQsIHgsIHksIG5ldyBTZXQoKSk7XHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzLmZvckVhY2goY29vcmRpbmF0ZSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeCA9IHBhcnNlSW50KGNvb3JkaW5hdGVbMV0pO1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSBwYXJzZUludChjb29yZGluYXRlWzBdKTtcclxuICAgICAgICAgICAgICAgIGxldCBzaGlwRGl2ID0gdGhpcy5vcHBvbmVudC5ncmlkRGl2RnJvbUNvb3JkaW5hdGVzKHksIHgpO1xyXG4gICAgICAgICAgICAgICAgc2hpcERpdi5jbGFzc0xpc3QuYWRkKFwic3Vua1wiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQubmVhcmJ5U2hpcFNxdWFyZXNIaXQoeCwgeSwgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzKTtcclxuICAgICAgICAgICAgfSkgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgdGhpcy5vcHBvbmVudC51cGRhdGVDbGFzc0xpc3RPbkRyYWdnYWJsZVNoaXAodGhpcy5vcHBvbmVudC5nYW1lYm9hcmQuYm9hcmRbeV1beF0pO1xyXG5cclxuICAgICAgICAgICAgLy8gR2FtZSBvdmVyIGNoZWNrP1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vcHBvbmVudC5nYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJPdmVyYWxsT3ZlcmxheS5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZnVuY3Rpb24gbG9jYWxpc2VkQ29tcHV0ZXJHdWVzcyhncmlkRGl2PW51bGwsIGRpc2NvdmVyZWRTaGlwRGlyZWN0aW9uPWZhbHNlKSB7XHJcbiAgICAgICAgLy8gRmlyc3QgaGl0IG9mIGEgc2hpcFxyXG4gICAgICAgIGlmICghbG9jYWxpc2VkR3Vlc3Nlcykge1xyXG4gICAgICAgICAgICBsb2NhbGlzZWRHdWVzc2VzID0gZ2VuZXJhdGVMb2NhbENvbXB1dGVyR3Vlc3NlcyhncmlkRGl2KTtcclxuICAgICAgICB9IC8vIFNlY29uZCBoaXQgb3IgZ3JlYXRlclxyXG4gICAgICAgIGVsc2UgaWYgKGRpc2NvdmVyZWRTaGlwRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIEdlbmVyYXRlIG5ldyBuZWFyYnkgZGl2c1xyXG4gICAgICAgICAgICBjb25zdCBuZXdEaXZzID0gZ2VuZXJhdGVMb2NhbENvbXB1dGVyR3Vlc3NlcyhncmlkRGl2KTtcclxuICAgICAgICAgICAgZm9yIChsZXQgcG90ZW50aWFsR3Vlc3MgaW4gbmV3RGl2cykge1xyXG4gICAgICAgICAgICAgICAgbG9jYWxpc2VkR3Vlc3Nlc1twb3RlbnRpYWxHdWVzc10gPSBuZXdEaXZzW3BvdGVudGlhbEd1ZXNzXTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGRpdnMgd2hpY2ggYXJlIG5vdCBpbiBjb3JyZWN0IHBsYW5lXHJcbiAgICAgICAgICAgIHJlbW92ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzKGRpc2NvdmVyZWRTaGlwRGlyZWN0aW9uKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJhbmRvbWx5IGFkanVzdHMgdGhlIGNvbXB1dGVyIHJlc3BvbnNlIHRpbWUgd2l0aCBtaW5UaW1lXHJcbiAgICAgICAgbGV0IG1pblRpbWUgPSBhd2FpdCBNYXRoLm1heCgxNTAsIE1hdGgucmFuZG9tKCkgKiA1MDApIFxyXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtaW5UaW1lKSk7XHJcblxyXG4gICAgICAgIC8vIFBlcmZvcm1zIGFuIGludGVsbGlnZW50IGNvbXB1dGVyIGd1ZXNzXHJcbiAgICAgICAgY29uc3QgWyBsb2NhbEd1ZXNzLCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgXSA9IG9iamVjdFNoaWZ0LmJpbmQodGhpcykobG9jYWxpc2VkR3Vlc3Nlcyk7XHJcbiAgICAgICAgcmVtb3ZlQ29tcHV0ZXJHdWVzcyhsb2NhbEd1ZXNzLCBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMpO1xyXG4gICAgICAgIGNvbXB1dGVyR3Vlc3NUb0hUTUwuYmluZCh0aGlzKShsb2NhbEd1ZXNzLCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTG9jYWxDb21wdXRlckd1ZXNzZXMoZ3JpZERpdikge1xyXG4gICAgICAgIC8vIFJlY2lldmVkIFt5LCB4XSB0byBtYXRjaCB1cCB3aXRoIHRoZSBnYW1lYm9hcmRcclxuICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlcihncmlkRGl2KTtcclxuICAgICAgICBjb25zdCBuZWFyYnlDb29yZGluYXRlcyA9IFtcclxuICAgICAgICAgICAgW3krMSwgeCwgXCJiZW5lYXRoXCJdLFxyXG4gICAgICAgICAgICBbeS0xLCB4LCBcImFib3ZlXCJdLFxyXG4gICAgICAgICAgICBbeSwgeCsxLCBcInJpZ2h0XCJdLFxyXG4gICAgICAgICAgICBbeSwgeC0xLCBcImxlZnRcIl0sXHJcbiAgICAgICAgXSBcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZWFyYnlHdWVzc2VzID0ge307XHJcbiAgICAgICAgZm9yIChsZXQgY29vcmRpbmF0ZSBvZiBuZWFyYnlDb29yZGluYXRlcykge1xyXG4gICAgICAgICAgICBsZXQgW3ksIHgsIHJlbGF0aXZlTG9jYXRpb25PZkRpdl0gPSBjb29yZGluYXRlO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gY29tcHV0ZXJEaXZGcm9tSW50ZWdlciByZXR1cm5zIG51bGwgaWYgbm90IGZvdW5kXHJcbiAgICAgICAgICAgIC8vIFRoZXJlZm9yZSB3aWxsIGJlIG51bGwgaWYgbm90IGluIHBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyBvciBpZiBvdXQgb2YgcmFuZ2VcclxuICAgICAgICAgICAgY29uc3QgbmVhcmJ5RGl2ID0gY29tcHV0ZXJEaXZGcm9tSW50ZWdlcih4LCB5KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gU2VyaWFsaXphdGlvbjogV2hlbiB5b3UgdXNlIGFuIEhUTUxFbGVtZW50IG9iamVjdCBhcyBhIGtleSBpbiBhbiBvYmplY3QsIGl0IGlzIGltcGxpY2l0bHkgXHJcbiAgICAgICAgICAgIC8vIGNvbnZlcnRlZCB0byBhIHN0cmluZyB1c2luZyBpdHMgdG9TdHJpbmcoKSBtZXRob2QuIFRoaXMgbWVhbnMgdGhhdCB0aGUgYWN0dWFsIG9iamVjdCBcclxuICAgICAgICAgICAgLy8gcmVmZXJlbmNlIGlzIG5vdCB1c2VkIGFzIHRoZSBrZXksIGJ1dCByYXRoZXIgaXRzIHN0cmluZyByZXByZXNlbnRhdGlvbi5cclxuICAgICAgICAgICAgaWYgKG5lYXJieURpdikgbmVhcmJ5R3Vlc3Nlc1tyZWxhdGl2ZUxvY2F0aW9uT2ZEaXZdID0gbmVhcmJ5RGl2O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG5lYXJieUd1ZXNzZXM7ICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2ltaWxhciBsb2dpYyB0byBncmlkRGl2RnJvbUNvb3JkaW5hdGVzXHJcbiAgICBmdW5jdGlvbiBjb21wdXRlckRpdkZyb21JbnRlZ2VyKHgsIHkpIHtcclxuICAgICAgICBsZXQgZm91bmRHcmlkRGl2ID0gbnVsbDtcclxuXHJcbiAgICAgICAgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmZvckVhY2goZ3JpZERpdiA9PiB7XHJcbiAgICAgICAgICAgIGlmIChncmlkRGl2LmNsYXNzTGlzdC5jb250YWlucyhgJHt5fSR7eH1gKSkge1xyXG4gICAgICAgICAgICAgICAgZm91bmRHcmlkRGl2ID0gZ3JpZERpdjsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4gZm91bmRHcmlkRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9iamVjdFNoaWZ0KG9iamVjdCkge1xyXG4gICAgICAgIC8vIEdldCB0aGUgZmlyc3Qga2V5XHJcbiAgICAgICAgY29uc3QgcmVsYXRpdmVMb2NhdGlvbk9mRGl2ID0gT2JqZWN0LmtleXMob2JqZWN0KVswXTtcclxuICAgICAgICAvLyBSZW1vdmUgdGhlIGZpcnN0IGtleS12YWx1ZSBwYWlyXHJcbiAgICAgICAgY29uc3QgbmVhcmJ5RGl2ID0gb2JqZWN0W3JlbGF0aXZlTG9jYXRpb25PZkRpdl07XHJcbiAgICAgICAgZGVsZXRlIG9iamVjdFtyZWxhdGl2ZUxvY2F0aW9uT2ZEaXZdO1xyXG4gICAgICAgIHJldHVybiBbIG5lYXJieURpdiwgcmVsYXRpdmVMb2NhdGlvbk9mRGl2IF07XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlTG9jYWxDb21wdXRlckd1ZXNzZXMocmVsYXRpdmVMb2NhdGlvbk9mRGl2KSB7XHJcbiAgICAgICAgLy8gSWYgc2hpcCBkaXJlY3Rpb24gaGFzIG5vdCBiZSBkZXRlcm1pbmVkLCBjYWxjdWxhdGUgc2hpcERpcmVjdGlvblxyXG4gICAgICAgIGlmICghc2hpcERpcmVjdGlvbikge1xyXG4gICAgICAgICAgICBzaGlwRGlyZWN0aW9uID0gY2FsY3VsYXRlU2hpcERpcmVjdGlvbi5iaW5kKHRoaXMpKHJlbGF0aXZlTG9jYXRpb25PZkRpdik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBSZW1vdmUgYW55IHBvdGVudGlhbEd1ZXNzZXMgd2hpY2ggYXJlIG5vdCBvbiB0aGUgc2FtZSBwbGFuZSBhcyB0aGUgc2hpcERpcmVjdGlvblxyXG4gICAgICAgIGZvciAoY29uc3QgcG90ZW50aWFsRGlyZWN0aW9uIGluIGxvY2FsaXNlZEd1ZXNzZXMpIHtcclxuICAgICAgICAgICAgaWYgKCFkaXJlY3Rpb25bc2hpcERpcmVjdGlvbl0uaW5jbHVkZXMocG90ZW50aWFsRGlyZWN0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGxvY2FsaXNlZEd1ZXNzZXNbcG90ZW50aWFsRGlyZWN0aW9uXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjYWxjdWxhdGVTaGlwRGlyZWN0aW9uKHJlbGF0aXZlTG9jYXRpb25PZkRpdikge1xyXG4gICAgICAgIGlmIChyZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgPT09IFwiYWJvdmVcIiB8fCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgPT09IFwiYmVuZWF0aFwiKSB7XHJcbiAgICAgICAgICAgIHNoaXBEaXJlY3Rpb24gPSBcInZlcnRpY2FsXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2hpcERpcmVjdGlvbiA9IFwiaG9yaXpvbnRhbFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hpcERpcmVjdGlvbjtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyogR2FtZSBlbmRpbmcgZnVuY3Rpb25zICovXHJcblxyXG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgY29uc3QgYWxsR3JpZERpdnMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZ2FtZS1ib2FyZC5udW1iZXJcIikpO1xyXG5cclxuICAgICAgICBhbGxHcmlkRGl2cy5mb3JFYWNoKGdyaWREaXYgPT4ge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHVzaW5nIHRoZSBzdG9yZWQgYm91bmQgZnVuY3Rpb24gcmVmZXJlbmNlXHJcbiAgICAgICAgICAgIGdyaWREaXYucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGdyaWREaXYuX2JvdW5kQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0cmlnZ2VyT3ZlcmFsbE92ZXJsYXkoKSB7XHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUVuZGluZ092ZXJsYXlcIik7XHJcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblxyXG4gICAgICAgIC8vIFJlc2V0IHBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyBsZW5ndGggdG8gcHJldmVudCB0aGUgY29tcHV0ZXIgZnJvbSBndWVzc2luZyBmdXJ0aGVyXHJcbiAgICAgICAgaWYgKHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcykge1xyXG4gICAgICAgICAgICBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMubGVuZ3RoID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzLmJpbmQodGhpcykoKTtcclxuXHJcbiAgICAgICAgLy8gT2J0YWluIHRoZSBkaXYgZWxlbWVudCB3aGljaCB3aWxsIGhvbGQgdGhlIHBsYXllci1zZWxlY3Rpb24gSFRNTCBjb250ZW50XHJcbiAgICAgICAgY29uc3QgY29uZ3JhdHVsYXRpb25zVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5lci1jb25maXJtYXRpb25cIik7XHJcblxyXG4gICAgICAgIGxldCB3aW5uZXI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmdhbWVib2FyZC5hbGxTaGlwc1N1bmsoKSkge1xyXG4gICAgICAgICAgICB3aW5uZXIgPSB0aGlzLm9wcG9uZW50Lm1vbmlrZXI7XHJcbiAgICAgICAgICAgIHRoaXMub3Bwb25lbnQud2lubmluZ0NvdW50ZXIrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5uZXIgPSB0aGlzLm1vbmlrZXI7XHJcbiAgICAgICAgICAgIHRoaXMud2lubmluZ0NvdW50ZXIrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCB0aGUgaW5uZXIgSFRNTCBjb250ZW50IGZvciB0aGUgcGxheWVyLXNlbGVjdGlvbiBkaXZcclxuICAgICAgICBjb25ncmF0dWxhdGlvbnNUaXRsZS50ZXh0Q29udGVudCA9IGBDb25ncmF0dWxhdGlvbnMgJHt3aW5uZXJ9IHdpbnMhYFxyXG5cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudFNjb3JlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jdXJyZW50LXNjb3JlI2dhbWVFbmRcIik7XHJcbiAgICAgICAgaWYgKHRoaXMubmFtZSA9PT0gXCJwbGF5ZXIxXCIpIHtcclxuICAgICAgICAgICAgY3VycmVudFNjb3JlLnRleHRDb250ZW50ID0gYCR7dGhpcy5tb25pa2VyfSA6ICR7dGhpcy53aW5uaW5nQ291bnRlcn0gICAgIC0gICAgICR7dGhpcy5vcHBvbmVudC53aW5uaW5nQ291bnRlcn0gOiAke3RoaXMub3Bwb25lbnQubW9uaWtlcn1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRTY29yZS50ZXh0Q29udGVudCA9IGAke3RoaXMub3Bwb25lbnQubW9uaWtlcn0gOiAke3RoaXMub3Bwb25lbnQud2lubmluZ0NvdW50ZXJ9ICAgICAtICAgICAke3RoaXMud2lubmluZ0NvdW50ZXJ9IDogJHt0aGlzLm1vbmlrZXJ9YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG5cclxuICAgIHJldHVybiB7YnVpbGRIVE1MR3JpZCwgc2hvd092ZXJsYXksIHJlZ2lzdGVyR3JpZERpdkV2ZW50TGlzdGVuZXIsIGJ1aWxkSFRNTERpdkNvbnRhaW5lcnMsIGNvbXB1dGVyR3Vlc3MsIG9wcG9uZW50LCBnZW5lcmF0ZUNvbXB1dGVyR3Vlc3NlcywgcG9zaXRpb25TaGlwczogZ2FtZWJvYXJkLnBvc2l0aW9uU2hpcHMsIGFsbFNoaXBzU3VuazogZ2FtZWJvYXJkLmFsbFNoaXBzU3VuaywgYWxsU2hpcHNQbGFjZWQ6IGdhbWVib2FyZC5hbGxTaGlwc1BsYWNlZCwgZ2FtZWJvYXJkLCBncmlkRGl2RnJvbUNvb3JkaW5hdGVzLCBuZWFyYnlTaGlwU3F1YXJlc0hpdCwgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLCBidWlsZFNoaXBzLCBhcHBseURyYWdnYWJsZVNoaXBzLCBidWlsZEJ1dHRvbkNvbnRhaW5lciwgcmVzZXRHcmlkLCByZW1vdmVTaGlwcywgcmVtb3ZlQnV0dG9ucywgaGlkZUdyaWRTaGlwcywgdXBkYXRlVHVyblRleHQsIHVwZGF0ZUNsYXNzTGlzdE9uRHJhZ2dhYmxlU2hpcCwgYnVpbGRSdWxlcywgcmVtb3ZlUnVsZXMsIHRvZ2dsZVNoaXBzSW52aXNpYmxlLCByZXNldFNoaXBzLCByZXNldEhUTUxHcmlkLCBwcm9ncmVzc0Zyb21TaGlwUGxhY2VtZW50LCByZXNldFNoaXBzQXJyYXksIHBsYW5lT2ZQbGFjaW5nU2hpcCwgd2lubmluZ0NvdW50ZXIsIHJlbW92ZUxhc3RTaGlwfVxyXG59XHJcbmV4cG9ydCB7U2hpcCwgR2FtZWJvYXJkLCBQbGF5ZXJ9OyIsImZ1bmN0aW9uIHVwZGF0ZVBsYXllclNlbGVjdGlvbkRpc3RhbmNlVmFyaWFibGUoKSB7XHJcbiAgICBjb25zdCBwbGF5ZXJTZWxlY3Rpb25EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1zZWxlY3Rpb24tY29udGFpbmVyXCIpO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgYmV0d2VlbiBjb250YWluZXJzXHJcbiAgICBjb25zdCBkaXN0YW5jZSA9IHBsYXllclNlbGVjdGlvbkRpdi5vZmZzZXRMZWZ0ICsgMjAwO1xyXG5cclxuICAgIC8vIEFwcGx5IHRoZSBkaXN0YW5jZSB0byBDU1MgYW5pbWF0aW9uXHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tcGxheWVyLXNlbGVjdGlvbi1kaXN0YW5jZScsIGAke2Rpc3RhbmNlfXB4YCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZU1vbmlrZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlKCkge1xyXG4gICAgY29uc3QgcGxheWVyMk1vbmlrZXJEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllcjItbW9uaWtlci10ZXh0XCIpO1xyXG4gICAgY29uc3QgY29tcHV0ZXJNb25pa2VyRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIyLW5hbWUtaXMtY29tcHV0ZXJcIik7XHJcblxyXG4gICAgLy8gQ2hlY2sgY29tcHV0ZWQgc3R5bGUgZm9yIGRpc3BsYXkgcHJvcGVydHlcclxuICAgIGNvbnN0IGNvbXB1dGVyTW9uaWtlckRpc3BsYXlTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGNvbXB1dGVyTW9uaWtlckRpdikuZ2V0UHJvcGVydHlWYWx1ZSgnZGlzcGxheScpO1xyXG5cclxuICAgIGNvbnN0IHBsYXllcjJNb25pa2VyID0gKGNvbXB1dGVyTW9uaWtlckRpc3BsYXlTdHlsZSA9PT0gXCJub25lXCIgPyBwbGF5ZXIyTW9uaWtlckRpdiA6IGNvbXB1dGVyTW9uaWtlckRpdilcclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGRpc3RhbmNlIGJldHdlZW4gY29udGFpbmVyc1xyXG4gICAgY29uc3QgZGlzdGFuY2UgPSBwbGF5ZXIyTW9uaWtlci5vZmZzZXRMZWZ0ICsgMjAwO1xyXG5cclxuICAgIC8vIEFwcGx5IHRoZSBkaXN0YW5jZSB0byBDU1MgYW5pbWF0aW9uXHJcbiAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuc2V0UHJvcGVydHkoJy0tbW9uaWtlci1zZWxlY3Rpb24tZGlzdGFuY2UnLCBgJHtkaXN0YW5jZX1weGApO1xyXG59XHJcblxyXG5leHBvcnQge3VwZGF0ZVBsYXllclNlbGVjdGlvbkRpc3RhbmNlVmFyaWFibGUsIHVwZGF0ZU1vbmlrZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlfSIsImxldCBib2FyZCA9IFtdO1xyXG5cclxuY2xhc3MgU2hpcCB7XHJcbiAgICBjb25zdHJ1Y3RvcihsZW5ndGgsIGhpdHM9MCwgc3Vuaz1mYWxzZSkge1xyXG4gICAgICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuaGl0cyA9IGhpdHM7XHJcbiAgICAgICAgdGhpcy5zdW5rID0gc3VuaztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gcG9zaXRpb25TaGlwcyhjb29yZGluYXRlcykge1xyXG4gICAgaWYgKGNvb3JkaW5hdGVzID09PSBudWxsKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJOZWVkIHRvIHByb3ZpZGUgY29vcmRpbmF0ZXNcIik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IG5ld1NoaXA7XHJcblxyXG4gICAgY29uc3QgW3gxLCB4MiwgeTEsIHkyXSA9IGNvb3JkaW5hdGVzO1xyXG4gICAgLy8gQXNzdW1pbmcgZWFjaCBjb29yZGluYXRlIGlzIGZpbmUgYmMgaXQgd2lsbCBjb21lIGZyb20gdGhlIFVJXHJcbiAgICAvLyBMZW5ndGggMVxyXG4gICAgaWYgKHgxID09PSB4MiAmJiB5MSA9PT0geTIpIHtcclxuICAgICAgICAvLyBGaWxsIGJvYXJkIHdpdGggU2hpcFxyXG4gICAgICAgIG5ld1NoaXAgPSBuZXcgU2hpcCgxKTtcclxuICAgICAgICBib2FyZFt5MV1beDFdID0gbmV3U2hpcDtcclxuICAgIH0gLy8gRm9yIGEgY29uc3RhbnQgWFxyXG4gICAgZWxzZSBpZiAoeDEgPT09IHgyKSB7XHJcbiAgICAgICAgY29uc3QgeURpZmYgPSB5MiAtIHkxICsgMTtcclxuICAgICAgICBuZXdTaGlwID0gbmV3IFNoaXAoeURpZmYpO1xyXG4gICAgICAgIC8vIEZpbGwgYm9hcmQgd2l0aCBTaGlwXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB5RGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJvYXJkW3kxICsgaV1beDFdID0gbmV3U2hpcDtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHkxID09PSB5Mikge1xyXG4gICAgICAgIGNvbnN0IHhEaWZmID0geDIgLSB4MSArIDE7XHJcbiAgICAgICAgbmV3U2hpcCA9IG5ldyBTaGlwKHhEaWZmKTtcclxuICAgICAgICAvLyBGaWxsIGJvYXJkIHdpdGggU2hpcFxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeERpZmY7IGkrKykge1xyXG4gICAgICAgICAgICBib2FyZFt5MV1beDEgKyBpXSA9IG5ld1NoaXA7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyhFcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG5lYXJieVNoaXBTcXVhcmVzSGl0KHgsIHkpIHtcclxuICAgIGNvbnN0IHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMgPSBmaW5kU3Vycm91bmRpbmdDb29yZGluYXRlcyh4LCB5KTtcclxuXHJcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggYXJyYXkgdG8gZGV0ZXJtaW5lIGlmIG5lZWRzIHRvIGJlIHVwZGF0ZWQ7XHJcbiAgICBmb3IgKGxldCBjb29yZGluYXRlcyBvZiBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgY29uc3QgeENvb3JkID0gY29vcmRpbmF0ZXNbMF07XHJcbiAgICAgICAgY29uc3QgeUNvb3JkID0gY29vcmRpbmF0ZXNbMV07XHJcblxyXG4gICAgICAgIGlmIChib2FyZFt5Q29vcmRdW3hDb29yZF0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgYm9hcmRbeUNvb3JkXVt4Q29vcmRdID0gXCJOZWFyYnlcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbmRTdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKHgsIHkpIHtcclxuICAgIGNvbnN0IHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMgPSBbXTtcclxuICAgIGZvciAobGV0IFkgPSB5IC0gMTsgWSA8PSB5ICsgMTsgWSsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgWCA9IHggLSAxOyBYIDw9IHggKyAxOyBYKyspIHtcclxuICAgICAgICAgICAgaWYgKE1hdGgubWluKFgsIFkpIDwgMCB8fCBNYXRoLm1heChYLCBZKSA+IDkgfHwgYm9hcmRbWV1bWF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3Vycm91bmRpbmdDb29yZGluYXRlcy5wdXNoKFtYLCBZXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXM7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIHJhbmRvbWlzZSgpIHtcclxuICAgIC8vIFJlaW5pdGlhbGl6ZSBib2FyZCBhcnJheSBmb3IgZXZlcnkgcmFuZG9taXNlKClcclxuICAgIGJvYXJkID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiAxMH0sICgpID0+IEFycmF5KDEwKS5maWxsKG51bGwpKTtcclxuXHJcbiAgICBjb25zdCBkaXJlY3Rpb25zID0gW1wiaG9yaXpvbnRhbFwiLCBcInZlcnRpY2FsXCJdO1xyXG4gICAgY29uc3Qgc2hpcHMgPSBbe2xlbmd0aDo0fSx7bGVuZ3RoOjN9LHtsZW5ndGg6M30se2xlbmd0aDoyfSx7bGVuZ3RoOjJ9LHtsZW5ndGg6Mn0se2xlbmd0aDoxfSx7bGVuZ3RoOjF9LHtsZW5ndGg6MX0se2xlbmd0aDoxfV07XHJcbiAgICBjb25zdCBjb29yZGluYXRlcyA9IFtdO1xyXG5cclxuICAgIGZvciAobGV0IHNoaXAgb2Ygc2hpcHMpIHtcclxuICAgICAgICBsZXQgaW5kZXggPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkpO1xyXG4gICAgICAgIHNoaXBbXCJkaXJlY3Rpb25cIl0gPSBkaXJlY3Rpb25zW2luZGV4XTtcclxuXHJcbiAgICAgICAgbGV0IHZpYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgIGxldCB4MSwgeDIsIHkxLCB5MjtcclxuXHJcbiAgICAgICAgd2hpbGUgKCF2aWFibGUpIHtcclxuICAgICAgICAgICAgaWYgKHNoaXBbXCJkaXJlY3Rpb25cIl0gPT09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeUNvb3JkaW5hdGUgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5KTtcclxuICAgICAgICAgICAgICAgIHkxID0geUNvb3JkaW5hdGU7XHJcbiAgICAgICAgICAgICAgICB5MiA9IHlDb29yZGluYXRlO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB4MSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpO1xyXG4gICAgICAgICAgICAgICAgeDIgPSB4MSArIChzaGlwW1wibGVuZ3RoXCJdIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoeDIgPiA5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeDIgPSB4MTtcclxuICAgICAgICAgICAgICAgICAgICB4MSA9IHgyIC0gKHNoaXBbXCJsZW5ndGhcIl0gLSAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY29uZmxpY3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB2aWFibGUgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB4MTsgaSA8PSB4MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkW3kxXVtpXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb25mbGljdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IHhDb29yZGluYXRlID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSk7XHJcbiAgICAgICAgICAgICAgICB4MSA9IHhDb29yZGluYXRlO1xyXG4gICAgICAgICAgICAgICAgeDIgPSB4Q29vcmRpbmF0ZTtcclxuXHJcbiAgICAgICAgICAgICAgICB5MSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpO1xyXG4gICAgICAgICAgICAgICAgeTIgPSB5MSArIChzaGlwW1wibGVuZ3RoXCJdIC0gMSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoeTIgPiA5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeTIgPSB5MTtcclxuICAgICAgICAgICAgICAgICAgICB5MSA9IHkyIC0gKHNoaXBbXCJsZW5ndGhcIl0gLSAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgdmlhYmxlIGNvb3JkaW5hdGVzXHJcbiAgICAgICAgICAgICAgICBsZXQgY29uZmxpY3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB5MTsgaSA8PSB5MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvYXJkW2ldW3gxXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZsaWN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChjb25mbGljdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQb3NpdGlvbiBzaGlwcyBhbmQgbWFyayBuZWFyYnkgc3F1YXJlcyB0byBwcmV2ZW50IGlsbGVnYWwgc2hpcCBwbGFjZW1lbnRcclxuICAgICAgICAgICAgYXdhaXQgcG9zaXRpb25TaGlwcyhbeDEsIHgyLCB5MSwgeTJdKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChzaGlwW1wiZGlyZWN0aW9uXCJdID09PSBcImhvcml6b250YWxcIikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHgxOyBpIDw9IHgyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBuZWFyYnlTaGlwU3F1YXJlc0hpdChpLCB5MSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0geTE7IGkgPD0geTI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5lYXJieVNoaXBTcXVhcmVzSGl0KHgxLCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb29yZGluYXRlcy5wdXNoKFt4MSwgeDIsIHkxLCB5Ml0pO1xyXG4gICAgICAgICAgICB2aWFibGUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBjb29yZGluYXRlc1xyXG59XHJcblxyXG5leHBvcnQge3JhbmRvbWlzZX07XHJcblxyXG4iLCJpbXBvcnQgeyByYW5kb21pc2UgfSBmcm9tIFwiLi9yYW5kb21pc2VcIjtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUdhbWVSdWxlc0J1dHRvbkNsaWNrKCkge1xyXG4gICAgY29uc3QgZ2FtZVJ1bGVzT3ZlcmxheSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FtZS1ydWxlcy1vdmVybGF5XCIpO1xyXG5cclxuICAgICAgICAvLyBCb2R5IGlzIHVzZWQgdG8gcHJldmVudCB0aGUgc2Nyb2xsIGJhciB3aGlsc3QgdGhlIGFuaW1hdGlvbiB0YWtlcyBwbGFjZVxyXG4gICAgICAgIC8vIFNjcm9sbCBiYXIgY2F1c2VzIHVud2FudGVkIG1vdmVtZW50IG9mIG90aGVyIGRpdnNcclxuICAgICAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGdhbWVSdWxlc092ZXJsYXkuc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcclxuICAgICAgICAgICAgZ2FtZVJ1bGVzT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgZ2FtZVJ1bGVzT3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwicnVsZXMtbG9hZC1pblwiKTtcclxuXHJcbiAgICAgICAgICAgIGdhbWVSdWxlc092ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnYW1lUnVsZXNPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoXCJydWxlcy1sb2FkLWluXCIpO1xyXG4gICAgICAgICAgICAgICAgYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiYXV0b1wiO1xyXG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuICAgICAgICAgICAgZ2FtZVJ1bGVzT3ZlcmxheS5jbGFzc0xpc3QuYWRkKFwicnVsZXMtbG9hZC1vdXRcIik7XHJcblxyXG4gICAgICAgICAgICBnYW1lUnVsZXNPdmVybGF5LmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVJ1bGVzT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKFwicnVsZXMtbG9hZC1vdXRcIik7XHJcbiAgICAgICAgICAgICAgICBnYW1lUnVsZXNPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgICAgIGJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjtcclxuICAgICAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pXHJcbiAgICAgICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVIb3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbkNsaWNrKGJ1dHRvbikge1xyXG4gICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwbGF5ZXIxXCIpKSB7XHJcbiAgICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gKGJ1dHRvbi50ZXh0Q29udGVudCA9PT0gXCJIT1JJWk9OVEFMXCIgPyBcIlZFUlRJQ0FMXCIgOiBcIkhPUklaT05UQUxcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IChidXR0b24udGV4dENvbnRlbnQgPT09IFwiSE9SSVpPTlRBTFwiID8gXCJWRVJUSUNBTFwiIDogXCJIT1JJWk9OVEFMXCIpO1xyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVVuZG9CdXR0b25DbGljayhidXR0b24sIHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicGxheWVyMVwiKSkgeyBcclxuICAgICAgICBwbGF5ZXIxLnJlbW92ZUxhc3RTaGlwKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllcjIucmVtb3ZlTGFzdFNoaXAoKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gRGVmaW5lIGFuIGFzeW5jIGZ1bmN0aW9uIHRvIHVzZSBhd2FpdFxyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVSYW5kb21pc2VCdXR0b25DbGljayhidXR0b24sIHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gYXdhaXQgcmFuZG9taXNlKCk7IC8vIFdhaXQgZm9yIHJhbmRvbWlzZSgpIHRvIHJlc29sdmVcclxuICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicGxheWVyMVwiKSkge1xyXG4gICAgICAgIHBsYXllcjEucmVzZXRHcmlkKClcclxuICAgICAgICBwbGF5ZXIxLnBvc2l0aW9uU2hpcHMoY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgIHBsYXllcjEuYnVpbGRIVE1MR3JpZCh0cnVlKTtcclxuICAgICAgICBwbGF5ZXIxLnRvZ2dsZVNoaXBzSW52aXNpYmxlKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllcjIucmVzZXRHcmlkKClcclxuICAgICAgICBwbGF5ZXIyLnBvc2l0aW9uU2hpcHMoY29vcmRpbmF0ZXMpO1xyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZCh0cnVlKTtcclxuICAgICAgICBwbGF5ZXIyLnRvZ2dsZVNoaXBzSW52aXNpYmxlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVJlc2V0QnV0dG9uQ2xpY2soYnV0dG9uLCBwbGF5ZXIxLCBwbGF5ZXIyKSB7XHJcbiAgICBpZiAoYnV0dG9uLmNsYXNzTGlzdC5jb250YWlucyhcInBsYXllcjFcIikpIHtcclxuICAgICAgICBwbGF5ZXIxLnJlc2V0R3JpZCgpO1xyXG4gICAgICAgIHBsYXllcjEuYnVpbGRIVE1MR3JpZCh0cnVlKTtcclxuICAgICAgICBwbGF5ZXIxLnJlc2V0U2hpcHMoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGxheWVyMi5yZXNldEdyaWQoKTtcclxuICAgICAgICBwbGF5ZXIyLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcbiAgICAgICAgcGxheWVyMi5yZXNldFNoaXBzKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVDb25maXJtQnRuQ2xpY2socGxheWVyMSwgcGxheWVyMikge1xyXG4gICAgaWYgKHBsYXllcjIubmFtZSA9PT0gXCJjb21wdXRlclwiKSB7XHJcbiAgICAgICAgYXdhaXQgc2luZ2xlUGxheWVyQ29uZmlybUJ0bihwbGF5ZXIxLCBwbGF5ZXIyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYXdhaXQgbXVsdGlQbGF5ZXJDb25maXJtQnRuKHBsYXllcjEsIHBsYXllcjIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzaW5nbGVQbGF5ZXJDb25maXJtQnRuKHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIGNvbnN0IHBsYXllcjFDb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIxLmNvbmZpcm0tYnRuXCIpO1xyXG4gICAgbGV0IHJlc29sdmVQcm9taXNlO1xyXG5cclxuICAgIGNvbnN0IG1vdmVPblByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcclxuICAgICAgICByZXNvbHZlUHJvbWlzZSA9IHJlc29sdmU7XHJcbiAgICAgICAgcGxheWVyMUNvbmZpcm1CdG4ub25jbGljayA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gQ2FsbGluZyBhbGxTaGlwc1BsYWNlZCBjaGVja3MgaWYgdGhlIGdhbWUgaXMgcmVhZHkgdG8gYmUgcHJvZ3Jlc3NlZCB0byBuZXh0IHN0YWdlXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIxLmFsbFNoaXBzUGxhY2VkKCkpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcjEucHJvZ3Jlc3NGcm9tU2hpcFBsYWNlbWVudCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBsYXllcjIucmVtb3ZlQnV0dG9ucygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNoYW5nZU92ZXJsYXlzVG8oXCJwYXJ0aWFsbHktdHJhbnNwYXJlbnRcIiwgdHJ1ZSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlckNvbmZpcm1CdXR0b25FcnJvcihwbGF5ZXIxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIHJldHVybiBtb3ZlT25Qcm9taXNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtdWx0aVBsYXllckNvbmZpcm1CdG4ocGxheWVyMSwgcGxheWVyMikge1xyXG4gICAgLy8gQ2hhbmdlIHRoZSBvdmVybGF5IGNvbG91ciBmb3Igc2hpcCBwbGFjZW1lbnQgcnVsZXNcclxuICAgIGNoYW5nZU92ZXJsYXlzVG8oXCJibHVlXCIpO1xyXG5cclxuICAgIGNvbnN0IHBsYXllcjFDb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIxLmNvbmZpcm0tYnRuXCIpO1xyXG5cclxuICAgIHBsYXllcjFDb25maXJtQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gQ2FsbGluZyBhbGxTaGlwc1BsYWNlZCBjaGVja3MgaWYgdGhlIGdhbWUgaXMgcmVhZHkgdG8gYmUgcHJvZ3Jlc3NlZCB0byBuZXh0IHN0YWdlXHJcbiAgICAgICAgaWYgKHBsYXllcjEuYWxsU2hpcHNQbGFjZWQoKSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIxLnByb2dyZXNzRnJvbVNoaXBQbGFjZW1lbnQoXCJwbGF5ZXIyVHVyblN0YXJ0XCIpXHJcblxyXG4gICAgICAgICAgICBwbGF5ZXIyLnVwZGF0ZVR1cm5UZXh0KGAke3BsYXllcjIubW9uaWtlcn0gPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCBncmVlblwiPlBMQUNFIFlPVVIgU0hJUFM8L3NwYW4+YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHJpZ2dlckNvbmZpcm1CdXR0b25FcnJvcihwbGF5ZXIxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGxheWVyMkNvbmZpcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllcjIuY29uZmlybS1idG5cIik7XHJcbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7IC8vIERlY2xhcmUgYSB2YXJpYWJsZSB0byBzdG9yZSB0aGUgcmVzb2x2ZSBmdW5jdGlvblxyXG4gICAgXHJcbiAgICBjb25zdCBtb3ZlT25Qcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgLy8gQXNzaWduIHRoZSByZXNvbHZlIGZ1bmN0aW9uIHRvIHRoZSB2YXJpYWJsZVxyXG4gICAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcclxuICAgICAgICBcclxuICAgICAgICBwbGF5ZXIyQ29uZmlybUJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDYWxsaW5nIGFsbFNoaXBzUGxhY2VkIGNoZWNrcyBpZiB0aGUgZ2FtZSBpcyByZWFkeSB0byBiZSBwcm9ncmVzc2VkIHRvIG5leHQgc3RhZ2VcclxuICAgICAgICAgICAgaWYgKHBsYXllcjIuYWxsU2hpcHNQbGFjZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMi5wcm9ncmVzc0Zyb21TaGlwUGxhY2VtZW50KFwicGxheWVyMlR1cm5GaW5pc2hcIilcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUmV2ZXJ0IG92ZXJsYXkgY29sb3VyIGJhY2sgdG8gb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGNoYW5nZU92ZXJsYXlzVG8oXCJwYXJ0aWFsbHktdHJhbnNwYXJlbnRcIik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2hlbiB0aGUgcGxheWVyIDIgY29uZmlybWF0aW9uIGJ1dHRvbiBpcyBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0cmlnZ2VyQ29uZmlybUJ1dHRvbkVycm9yKHBsYXllcjIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIFJldHVybiB0aGUgcHJvbWlzZVxyXG4gICAgcmV0dXJuIG1vdmVPblByb21pc2U7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRyaWdnZXJDb25maXJtQnV0dG9uRXJyb3IocGxheWVyKSB7XHJcbiAgICBjb25zdCBjb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cGxheWVyLm5hbWV9LmNvbmZpcm0tYnRuYCk7XHJcbiAgICBjb25maXJtQnRuLmNsYXNzTGlzdC5hZGQoXCJkZW5pZWRcIik7XHJcblxyXG4gICAgY29uZmlybUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICBjb25maXJtQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJkZW5pZWRcIik7XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VPdmVybGF5c1RvKGNvbG91ciwgY29tcHV0ZXI9ZmFsc2UpIHtcclxuICAgIGxldCBwbGF5ZXJPdmVybGF5cztcclxuICAgIGlmIChjb21wdXRlcikge1xyXG4gICAgICAgIHBsYXllck92ZXJsYXlzID0gW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGF5ZXIxR3JpZE92ZXJsYXlgKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI2NvbXB1dGVyR3JpZE92ZXJsYXlgKV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllck92ZXJsYXlzID0gW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGF5ZXIxR3JpZE92ZXJsYXlgKSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgI3BsYXllcjJHcmlkT3ZlcmxheWApXTtcclxuICAgIH1cclxuICAgIGlmIChjb2xvdXIgPT09IFwiYmx1ZVwiKSB7XHJcbiAgICAgICAgcGxheWVyT3ZlcmxheXMuZm9yRWFjaChvdmVybGF5ID0+IHtcclxuICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYig3MywgMTEwLCAyMzUpXCI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGNvbG91ciA9PT0gXCJwYXJ0aWFsbHktdHJhbnNwYXJlbnRcIikge1xyXG4gICAgICAgIHBsYXllck92ZXJsYXlzLmZvckVhY2gob3ZlcmxheSA9PiB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDAsIDAsIDAsIDAuNSlcIjtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZVNoaXBzQ29udGFpbmVyKGhpZGUsIHBsYXllck5hbWUpIHtcclxuICAgIGNvbnN0IHNoaXBzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7cGxheWVyTmFtZX0tZ3JpZC1jb250YWluZXIgPiAuc2hpcHMtY29udGFpbmVyYCk7XHJcbiAgICBpZiAoaGlkZSkge1xyXG4gICAgICAgIHNoaXBzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2hpcHNDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBoYW5kbGVHYW1lUnVsZXNCdXR0b25DbGljaywgaGFuZGxlSG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25DbGljaywgaGFuZGxlVW5kb0J1dHRvbkNsaWNrLCBoYW5kbGVSYW5kb21pc2VCdXR0b25DbGljaywgaGFuZGxlUmVzZXRCdXR0b25DbGljaywgaGFuZGxlQ29uZmlybUJ0bkNsaWNrLCBoaWRlU2hpcHNDb250YWluZXIsIGNoYW5nZU92ZXJsYXlzVG8gfVxyXG4iLCJpbXBvcnQgXCIuL3N0eWxlcy5jc3NcIlxyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9jbGFzc0NyZWF0b3JcIjtcclxuaW1wb3J0IHsgZ29lc0ZpcnN0LCBwbGF5ZXJPckNvbXB1dGVyIH0gZnJvbSBcIi4vcGxheWVyU2VsZWN0aW9uXCI7XHJcbmltcG9ydCB7IGhhbmRsZUdhbWVSdWxlc0J1dHRvbkNsaWNrLCBoYW5kbGVVbmRvQnV0dG9uQ2xpY2ssIGhhbmRsZVJhbmRvbWlzZUJ1dHRvbkNsaWNrLCBoYW5kbGVSZXNldEJ1dHRvbkNsaWNrLCBoYW5kbGVDb25maXJtQnRuQ2xpY2ssIGNoYW5nZU92ZXJsYXlzVG8sIGhhbmRsZUhvcml6b250YWxPclZlcnRpY2FsQnV0dG9uQ2xpY2sgfSBmcm9tIFwiLi9idXR0b25Mb2dpY1wiO1xyXG5pbXBvcnQgeyByYW5kb21pc2UgfSBmcm9tIFwiLi9yYW5kb21pc2VcIjtcclxuXHJcbmxldCBwbGF5ZXIxV2lubmluZ0NvdW50ZXIgPSBudWxsO1xyXG5sZXQgcGxheWVyMldpbm5pbmdDb3VudGVyID0gbnVsbDtcclxubGV0IG9wcG9uZW50ID0gbnVsbDtcclxubGV0IHBsYXllcjFNb25pa2VyID0gbnVsbDtcclxubGV0IHBsYXllcjJNb25pa2VyID0gbnVsbDtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpc2VHYW1lKCkge1xyXG5cclxuICAgIC8vIFdFTENPTUUgU1RBR0VcclxuICAgIGlmIChvcHBvbmVudCA9PT0gbnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHsgY2hvc2VuUGxheWVyMiwgcGxheWVyMU1vbmlrZXJWYWx1ZSwgcGxheWVyMk1vbmlrZXJWYWx1ZSB9ID0gYXdhaXQgcGxheWVyT3JDb21wdXRlcigpO1xyXG4gICAgICAgIG9wcG9uZW50ID0gY2hvc2VuUGxheWVyMiA9PT0gXCJwbGF5ZXJcIiA/IFwicGxheWVyMlwiIDogXCJjb21wdXRlclwiO1xyXG4gICAgICAgIHBsYXllcjFNb25pa2VyID0gcGxheWVyMU1vbmlrZXJWYWx1ZTtcclxuICAgICAgICBwbGF5ZXIyTW9uaWtlciA9IHBsYXllcjJNb25pa2VyVmFsdWU7XHJcblxyXG4gICAgICAgIHBsYXllcjFXaW5uaW5nQ291bnRlciA9IDA7XHJcbiAgICAgICAgcGxheWVyMldpbm5pbmdDb3VudGVyID0gMDtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzZXRIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncmlkLWNvbnRhaW5lcnNcIik7XHJcblxyXG4gICAgICAgIHJlc2V0SFRNTC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEluaXRpYWxpc2luZyB0aGUgcGxheWVyIGNsYXNzZXNcclxuICAgIGNvbnN0IHBsYXllcjEgPSBQbGF5ZXIoKTtcclxuICAgIHBsYXllcjEubmFtZSA9IFwicGxheWVyMVwiO1xyXG4gICAgcGxheWVyMS5tb25pa2VyID0gcGxheWVyMU1vbmlrZXI7XHJcblxyXG4gICAgY29uc3QgcGxheWVyMiA9IFBsYXllcigpO1xyXG4gICAgcGxheWVyMi5uYW1lID0gYCR7b3Bwb25lbnR9YDtcclxuICAgIHBsYXllcjIubW9uaWtlciA9IHBsYXllcjJNb25pa2VyO1xyXG4gICAgXHJcbiAgICBwbGF5ZXIxLm9wcG9uZW50ID0gcGxheWVyMjtcclxuICAgIHBsYXllcjIub3Bwb25lbnQgPSBwbGF5ZXIxO1xyXG5cclxuICAgIHBsYXllcjEud2lubmluZ0NvdW50ZXIgPSBwbGF5ZXIxV2lubmluZ0NvdW50ZXI7XHJcbiAgICBwbGF5ZXIyLndpbm5pbmdDb3VudGVyID0gcGxheWVyMldpbm5pbmdDb3VudGVyO1xyXG5cclxuICAgIHBsYXllcjEuYnVpbGRIVE1MRGl2Q29udGFpbmVycygpO1xyXG4gICAgcGxheWVyMi5idWlsZEhUTUxEaXZDb250YWluZXJzKCk7XHJcblxyXG4gICAgLy8gU0hJUCBQT1NJVElPTiBTVEFHRVxyXG4gICAgcGxheWVyMS51cGRhdGVUdXJuVGV4dChgJHtwbGF5ZXIxLm1vbmlrZXJ9IDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgZ3JlZW5cIj5QTEFDRSBZT1VSIFNISVBTPC9zcGFuPmApO1xyXG5cclxuICAgIHBsYXllcjEuYnVpbGRIVE1MR3JpZCh0cnVlKTtcclxuICAgIHBsYXllcjEuYnVpbGRTaGlwcygpO1xyXG4gICAgcGxheWVyMS5hcHBseURyYWdnYWJsZVNoaXBzKCk7XHJcblxyXG4gICAgLy8gQXMgcGxheWVyMSB3aWxsIGFsd2F5cyBwb3NpdGlvbiBzaGlwcyBmaXJzdFxyXG4gICAgcGxheWVyMi5idWlsZFJ1bGVzKCk7XHJcblxyXG4gICAgcGxheWVyMS5idWlsZEJ1dHRvbkNvbnRhaW5lcigpO1xyXG4gICAgLy8gcGxheWVyMiBidXR0b24gY29udGFpbmVyIGFsd2F5cyBidWlsdCBzbyB0aGVyZSBpcyBlbm91Z2ggc3BhY2UgZm9yIHRoZSBzaGlwIHBsYWNlbWVudCBydWxlc1xyXG4gICAgcGxheWVyMi5idWlsZEJ1dHRvbkNvbnRhaW5lcigpO1xyXG5cclxuICAgIGlmIChwbGF5ZXIyLm5hbWUgPT09IFwiY29tcHV0ZXJcIikgeyAgICAgICAgXHJcbiAgICAgICAgcGxheWVyMi5idWlsZEhUTUxHcmlkKGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBvdmVybGF5IGNvbG91ciBmb3Igc2hpcCBwbGFjZW1lbnQgcnVsZXMsIHRydWUgc2lnbmFscyBpdCBpcyB2cyBhIGNvbXB1dGVyXHJcbiAgICAgICAgY2hhbmdlT3ZlcmxheXNUbyhcImJsdWVcIiwgdHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZCh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnYW1lUnVsZXNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbWUtcnVsZXMtYnRuXCIpO1xyXG4gICAgZ2FtZVJ1bGVzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgaGFuZGxlR2FtZVJ1bGVzQnV0dG9uQ2xpY2soKTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8gQXR0YWNoIGxvZ2ljIHRvIGVhY2ggYnV0dG9uIChIb3Jpem9udGFsT3JWZXJ0aWNhbCwgUmFuZG9taXNlLCBSZXNldCwgQ29uZmlybSkgZm9yIHBvc2l0aW9uaW5nIHN0YWdlXHJcbiAgICAvLyBVc2UgYSBmb3IuLi5vZiBsb29wIHRvIGl0ZXJhdGUgb3ZlciB0aGUgYnV0dG9ucyBcclxuICAgIGNvbnN0IGhvcml6b250YWxPclZlcnRpY2FsQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG5cIik7XHJcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiBob3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbnMpIHtcclxuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IGhhbmRsZUhvcml6b250YWxPclZlcnRpY2FsQnV0dG9uQ2xpY2soYnV0dG9uKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1bmRvQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudW5kby1idG5cIik7XHJcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiB1bmRvQnV0dG9ucykge1xyXG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gaGFuZGxlVW5kb0J1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9XHJcbiAgICBjb25zdCByYW5kb21pc2VCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yYW5kb21pc2UtYnRuXCIpO1xyXG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgcmFuZG9taXNlQnV0dG9ucykge1xyXG4gICAgICAgIGJ1dHRvbi5vbmNsaWNrID0gKCkgPT4gaGFuZGxlUmFuZG9taXNlQnV0dG9uQ2xpY2soYnV0dG9uLCBwbGF5ZXIxLCBwbGF5ZXIyKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgY29uc3QgcmVzZXRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5yZXNldC1idG5cIik7XHJcbiAgICBmb3IgKGNvbnN0IGJ1dHRvbiBvZiByZXNldEJ1dHRvbnMpIHtcclxuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IGhhbmRsZVJlc2V0QnV0dG9uQ2xpY2soYnV0dG9uLCBwbGF5ZXIxLCBwbGF5ZXIyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHYW1lIGRvZXMgbm90IHByb2dyZXNzIHVudGlsIGhhbmRsZUNvbmZpcm1CdG5DbGljayBpcyBmdWZpbGxlZFxyXG4gICAgYXdhaXQgaGFuZGxlQ29uZmlybUJ0bkNsaWNrKHBsYXllcjEsIHBsYXllcjIpO1xyXG5cclxuICAgIC8vIFN0YXJ0aW5nIHRoZSBnYW1lXHJcbiAgICAvLyBHQU1FUExBWSBTVEFHRVxyXG4gICAgLy8gRm9yIHR1cm4gd2l0aCBjb21wdXRlciBJIG9ubHkgcmVnaXN0ZXIgdGhlIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgY29tcHV0ZXIgc3F1YXJlc1xyXG4gICAgaWYgKHBsYXllcjIubmFtZSA9PT0gXCJjb21wdXRlclwiKSB7XHJcbiAgICAgICAgLy8gUmVzZXR0aW5nIEhUTUwgR3JpZCdzIHRvIHJlbW92ZSB0aGUgZXZlbnRMaXN0ZW5lcnMgZm9yIHBsYWNpbmcgc2hpcHNcclxuICAgICAgICAvLyBOZWNlc3NhcnkgYXMgSFRNTEdyaWQgbmVlZGVkIHRvIGJlIGJ1aWx0IHRvIHNob3cgdGhlIHJ1bGVzXHJcbiAgICAgICAgcGxheWVyMi5yZXNldEdyaWQoKSAgIFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEdlbmVyYXRlIHBvc2l0aW9uIG9mIGNvbXB1dGVyJ3Mgc2hpcHNcclxuICAgICAgICBwbGF5ZXIyLmdlbmVyYXRlQ29tcHV0ZXJHdWVzc2VzKCk7XHJcbiAgICAgICAgY29uc3QgY29tcHV0ZXJDb29yZGluYXRlcyA9IGF3YWl0IHJhbmRvbWlzZSgpO1xyXG4gICAgICAgIHBsYXllcjIucG9zaXRpb25TaGlwcyhjb21wdXRlckNvb3JkaW5hdGVzKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBmYWxzZSBoaWRlJ3MgdGhlIHNoaXBzIGZyb20gdXNlciB2aWV3XHJcbiAgICAgICAgcGxheWVyMi5idWlsZEhUTUxHcmlkKGZhbHNlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gUmVzZXR0aW5nIEhUTUwgR3JpZCdzIHRvIHJlbW92ZSB0aGUgZXZlbnRMaXN0ZW5lcnMgZm9yIHBsYWNpbmcgc2hpcHNcclxuICAgICAgICBwbGF5ZXIxLnJlc2V0SFRNTEdyaWQoKTtcclxuICAgICAgICBwbGF5ZXIxLmJ1aWxkSFRNTEdyaWQoKTtcclxuXHJcbiAgICAgICAgcGxheWVyMi5yZXNldEhUTUxHcmlkKCk7XHJcbiAgICAgICAgcGxheWVyMi5idWlsZEhUTUxHcmlkKCk7XHJcblxyXG4gICAgICAgIC8vIFJlZ2lzdGVyIGV2ZW50IGxpc3RlbmVycyBvbiBib3RoIGdyaWRzXHJcbiAgICAgICAgcGxheWVyMS5yZWdpc3RlckdyaWREaXZFdmVudExpc3RlbmVyKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHBsYXllcjEuYnVpbGRTaGlwcygpO1xyXG4gICAgcGxheWVyMi5idWlsZFNoaXBzKCk7XHJcblxyXG4gICAgcGxheWVyMi5yZWdpc3RlckdyaWREaXZFdmVudExpc3RlbmVyKCk7XHJcblxyXG4gICAgLy8gRGV0ZXJtaW5lcyB3aG8gZ29lcyBmaXJzdFxyXG4gICAgbGV0IHR1cm4gPSBnb2VzRmlyc3QoW3BsYXllcjEsIHBsYXllcjJdKTtcclxuICAgIHR1cm4uc2hvd092ZXJsYXkodHJ1ZSk7XHJcblxyXG4gICAgaWYgKHR1cm4ubmFtZSA9PT0gXCJjb21wdXRlclwiKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDT01QVVRFUiBHVUVTU0VEIEZJUlNUXCIpXHJcbiAgICAgICAgcGxheWVyMi5jb21wdXRlckd1ZXNzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlc2V0IHRoZSBnYW1lIC0gT05MWSBWSVNVQUxJU0VTIFdIRU4gR0FNRSBJUyBGSU5JU0hFRFxyXG4gICAgY29uc3QgcmVzZXRXaG9sZUdhbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlc2V0LWJ0blwiKTtcclxuICAgIHJlc2V0V2hvbGVHYW1lLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgb3Bwb25lbnQgPSBudWxsO1xyXG5cclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lRW5kaW5nT3ZlcmxheVwiKTtcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzZXRIVE1MID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ncmlkLWNvbnRhaW5lcnNcIik7XHJcblxyXG4gICAgICAgIHJlc2V0SFRNTC5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuICAgICAgICBwbGF5ZXIxLnJlc2V0U2hpcHNBcnJheSgpO1xyXG4gICAgICAgIHBsYXllcjIucmVzZXRTaGlwc0FycmF5KCk7XHJcblxyXG4gICAgICAgIGluaXRpYWxpc2VHYW1lKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCByZWZyZXNoR2FtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucmVmcmVzaC1idG5cIik7XHJcbiAgICByZWZyZXNoR2FtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIHBsYXllcjFXaW5uaW5nQ291bnRlciA9IHBsYXllcjEud2lubmluZ0NvdW50ZXI7XHJcbiAgICAgICAgcGxheWVyMldpbm5pbmdDb3VudGVyID0gcGxheWVyMi53aW5uaW5nQ291bnRlcjtcclxuXHJcbiAgICAgICAgY29uc3Qgb3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2FtZUVuZGluZ092ZXJsYXlcIik7XHJcbiAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc2V0SFRNTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJzXCIpO1xyXG5cclxuICAgICAgICByZXNldEhUTUwuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICAgICAgcGxheWVyMS5yZXNldFNoaXBzQXJyYXkoKTtcclxuICAgICAgICBwbGF5ZXIyLnJlc2V0U2hpcHNBcnJheSgpO1xyXG4gICAgICAgICBcclxuICAgICAgICBpbml0aWFsaXNlR2FtZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmluaXRpYWxpc2VHYW1lKCk7XHJcbiIsImltcG9ydCB7IHVwZGF0ZVBsYXllclNlbGVjdGlvbkRpc3RhbmNlVmFyaWFibGUsIHVwZGF0ZU1vbmlrZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlIH0gZnJvbSBcIi4vZGlzdGFuY2VcIjtcclxuXHJcbmZ1bmN0aW9uIGdvZXNGaXJzdChwbGF5ZXJzKSB7XHJcbiAgICBsZXQgbnVtYmVyID0gTWF0aC5yYW5kb20oKTtcclxuICAgIGxldCBpbmRleCA9IE1hdGgucm91bmQobnVtYmVyKTtcclxuICAgIGxldCBmaXJzdCA9IHBsYXllcnNbaW5kZXhdLm1vbmlrZXI7XHJcblxyXG4gICAgY29uc3QgdHVybkRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHVybi10ZXh0XCIpO1xyXG4gICAgdHVybkRpdi50ZXh0Q29udGVudCA9IGAke2ZpcnN0LnRvVXBwZXJDYXNlKCl9IEdPRVMgRklSU1RgO1xyXG4gICAgXHJcbiAgICByZXR1cm4gcGxheWVyc1tpbmRleF07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUZpcnN0UGxheWVyVGV4dChuYW1lKSB7XHJcbiAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQobmFtZSArIFwiR3JpZFwiKVxyXG4gICAgY29uc3QgZ3JpZERpdnMgPSBncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpO1xyXG4gICAgZ3JpZERpdnMuZm9yRWFjaCgoZ3JpZERpdikgPT4ge1xyXG4gICAgICAgIGdyaWREaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdHVyblRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnR1cm4tdGV4dFwiKTtcclxuICAgICAgICAgICAgaWYgKHR1cm5UZXh0LnRleHRDb250ZW50KSB7XHJcbiAgICAgICAgICAgICAgICB0dXJuVGV4dC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuZnVuY3Rpb24gcGxheWVyT3JDb21wdXRlcigpIHtcclxuICAgIC8vIFR1cm4gb24gb3ZlcmFsbCBvdmVybGF5XHJcbiAgICBjb25zdCBncmlkT3ZlcmxheSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwib3ZlcmFsbE92ZXJsYXlcIik7XHJcbiAgICBncmlkT3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICAgIC8vIENyZWF0ZSBhIG5ldyBkaXYgZWxlbWVudCB0byBob2xkIHRoZSBwbGF5ZXItc2VsZWN0aW9uIEhUTUwgY29udGVudFxyXG4gICAgY29uc3QgY2VudGVyZWRDb250YWluZXJEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgY2VudGVyZWRDb250YWluZXJEaXYuY2xhc3NMaXN0LmFkZChcImNlbnRlcmVkLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICAvLyBBZGQgdGhlIGlubmVyIEhUTUwgY29udGVudCBmb3IgdGhlIHBsYXllci1zZWxlY3Rpb24gZGl2XHJcbiAgICBjZW50ZXJlZENvbnRhaW5lckRpdi5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGgxIGNsYXNzPVwid2VsY29tZS10aXRsZVwiPldFTENPTUUgVE8gQkFUVExFU0hJUFM6PC9oMT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicGxheWVyLXNlbGVjdGlvblwiPlxyXG4gICAgICAgICAgICA8aDM+UExBWUVSPC9oMz5cclxuICAgICAgICAgICAgPGgzPlZTPC9oMz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBsYXllci1zZWxlY3Rpb24tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGxheWVyLTItYnRuLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJwbGF5ZXItMi1idG5cIj5QTEFZRVI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbXB1dGVyLWJ0bi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiY29tcHV0ZXItYnRuXCI+Q09NUFVURVI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbmZpcm0tcGxheWVyLW9yLWNvbXB1dGVyLWJ0bi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjb25maXJtLXBsYXllci1vci1jb21wdXRlci1idG5cIj5DT05GSVJNPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGxheWVyLXNlbGVjdGlvbi1vdmVybGF5XCI+PC9kaXY+ICAgICAgICAgICAgXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1vbmlrZXItc2VsZWN0aW9uXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwbGF5ZXIxLW1vbmlrZXItY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInBsYXllcjEtbW9uaWtlci10ZXh0XCIgcGxhY2Vob2xkZXI9XCJQTEFZRVIxXCIgdmFsdWU9XCJQTEFZRVIxXCIgc2l6ZT1cIjEwXCIgbWF4bGVuZ3RoPVwiMTVcIj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxoMz5WUzwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwbGF5ZXIyLW1vbmlrZXItY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBjbGFzcz1cInBsYXllcjItbW9uaWtlci10ZXh0XCIgcGxhY2Vob2xkZXI9XCJQTEFZRVIyXCIgdmFsdWU9XCJQTEFZRVIyXCIgc2l6ZT1cIjEwXCIgbWF4bGVuZ3RoPVwiMTVcIj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInBsYXllcjItbmFtZS1pcy1jb21wdXRlclwiPkNPTVBVVEVSPC9oMz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1vbmlrZXItYnRucy1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb25maXJtLW1vbmlrZXItYnRuLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJjb25maXJtLW1vbmlrZXItYnRuXCI+Q09ORklSTTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYmFjay1idG4tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJhY2stYnRuXCI+QkFDSzwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJnYW1lLXJ1bGVzLW92ZXJsYXlcIiBpZD1cImdhbWVSdWxlc092ZXJsYXlcIj5cclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwiZ2FtZS1ydWxlcy10aXRsZVwiPkdBTUUgUlVMRVM8L2gzPlxyXG4gICAgICAgICAgICA8cD5UcnkgYW5kIHdvcmsgb3V0IHdoZXJlIHRoZSBlbmVteSBzaGlwcyBhcmUgYW5kIHNpbmsgdGhlbSBmaXJzdCE8L3A+XHJcbiAgICAgICAgICAgIDxwPkVhY2ggcGxheWVyIHBsYWNlcyB0aGVpciBzaGlwcywgYmV0d2VlbiAxIHRvIDQgc3F1YXJlcyBpbiBzaXplLCBzZWNyZXRseSBvbiB0aGVpciBnYW1lYm9hcmQuPC9wPlxyXG4gICAgICAgICAgICA8cD5QbGF5ZXJzIHRha2UgdHVybnMgc2hvb3RpbmcgYXQgdGhlIG9wcG9uZW50cyBncmlkJ3MgYnkgY2xpY2tpbmcgb24gYSBzcXVhcmUgdG8gYSByZXNwb25zZSBvZiBcIkhJVFwiLCBcIk1JU1NcIiBvciBcIlNVTktcIi48L3A+XHJcbiAgICAgICAgICAgIDxwPkZpcnN0IHBsYXllciB0byBzaW5rIGFsbCBvZiB0aGVpciBvcHBvbmVudCdzIHNoaXBzIHdpbnMhIEdvb2QgTHVjayE8L3A+XHJcblxyXG4gICAgICAgICAgICA8cD5QbGF5ZXIgdnMgUGxheWVyIGlzIGxvY2FsIHBsYXkgd2hpY2ggbWVhbnMgdGhlIHNjcmVlbiBpcyBzaGFyZWQ+XHJcbiAgICAgICAgICAgIDxwPkxvY2FsIHBsYXkgcmVxdWlyZXMgdGhlIG9wcG9uZW50IHRvIG5vdCBsb29rIGF0IHRoZSBzY3JlZW4gd2hpbHN0IHRoZSBvdGhlciBwbGF5ZXIgaXMgcG9zaXRpb25pbmcgdGhlaXIgc2hpcHMhPC9wPlxyXG5cclxuICAgICAgICAgICAgPHA+VElQOiBXYXRjaCB0aGUgZ2FtZSB0cmFja2VyIGJlbmVhdGggdGhlIHRpdGxlIGlmIHlvdSBnZXQgbG9zdDwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgIC8vIEFwcGVuZCB0aGUgcGxheWVyLXNlbGVjdGlvbiBkaXYgdG8gdGhlIGdyaWQtb3ZlcmxheSBkaXZcclxuICAgIGdyaWRPdmVybGF5LmFwcGVuZENoaWxkKGNlbnRlcmVkQ29udGFpbmVyRGl2KTtcclxuXHJcbiAgICAvLyBDb2RlIHRvIGFwcHJvcHJpYXRlbHkgcG9zaXRpb24gdGhlIGNvbmZpcm0gYnV0dG9uc1xyXG4gICAgdXBkYXRlUGxheWVyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSgpO1xyXG5cclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB1cGRhdGVQbGF5ZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZU1vbmlrZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlKTtcclxuXHJcbiAgICAvLyBWYXJpYWJsZSB0byBob2xkIHRoZSBjaG9zZW4gcGxheWVyXHJcbiAgICBsZXQgY2hvc2VuUGxheWVyMiA9IG51bGw7XHJcblxyXG4gICAgLy8gQm9keSBpcyB1c2VkIHRvIHByZXZlbnQgdGhlIHNjcm9sbCBiYXIgd2hpbHN0IHRoZSBhbmltYXRpb24gdGFrZXMgcGxhY2VcclxuICAgIC8vIFNjcm9sbCBiYXIgY2F1c2VzIHVud2FudGVkIG1vdmVtZW50IG9mIG90aGVyIGRpdnNcclxuICAgIGNvbnN0IGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcclxuXHJcbiAgICAvLyBFbGVtZW50cyBvYnRhaW5lZCB0byBkaXNwbGF5IGNvcnJlY3QgZGl2IGRlcGVuZGluZyBvbiBwbGF5ZXIgc2VsZWN0aW9uIHN0YWdlXHJcbiAgICBjb25zdCBwbGF5ZXJTZWxlY3Rpb25EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllci1zZWxlY3Rpb25cIik7XHJcbiAgICBjb25zdCBtb25pa2VyU2VsZWN0aW9uRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb25pa2VyLXNlbGVjdGlvblwiKTtcclxuXHJcbiAgICAvLyBQbGF5ZXIyIHNlbGVjdGlvbiBidXR0b25zXHJcbiAgICBjb25zdCBwbGF5ZXIyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItMi1idG5cIik7XHJcbiAgICBjb25zdCBjb21wdXRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcHV0ZXItYnRuXCIpO1xyXG5cclxuICAgIC8vIE9idGFpbiBtb25pa2VyIHRleHQgaW5wdXQgZWxlbWVudHNcclxuICAgIGNvbnN0IHBsYXllcjFNb25pa2VyVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyMS1tb25pa2VyLXRleHRcIik7XHJcbiAgICBjb25zdCBwbGF5ZXIyTW9uaWtlclRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllcjItbW9uaWtlci10ZXh0XCIpO1xyXG4gICAgY29uc3QgcGxheWVyMk5hbWVJc0NvbXB1dGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIyLW5hbWUtaXMtY29tcHV0ZXJcIik7XHJcblxyXG4gICAgLy8gVmFyaWFibGVzIHRvIGhvbGQgbW9uaWtlciB0ZXh0IHZhbHVlc1xyXG4gICAgbGV0IHBsYXllcjFNb25pa2VyVmFsdWUgPSBcIlBMQVlFUjFcIjtcclxuICAgIGxldCBwbGF5ZXIyTW9uaWtlclZhbHVlID0gXCJQTEFZRVIyXCI7XHJcbiAgICBcclxuICAgIC8vIEZ1bmN0aW9ucyB0byB1cGRhdGUgYW5kIGRpc3BsYXkgdGhlIHNlbGVjdGVkIHBsYXllclxyXG4gICAgcGxheWVyMkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIGNob3NlblBsYXllcjIgPSBcInBsYXllclwiO1xyXG4gICAgICAgIHBsYXllcjJCdG4uY2xhc3NMaXN0LmFkZChcImhpZ2hsaWdodGVkXCIsIFwiZ3JlZW5cIik7XHJcbiAgICAgICAgY29tcHV0ZXJCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZ2hsaWdodGVkXCIsIFwiZ3JlZW5cIik7XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbXB1dGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgY2hvc2VuUGxheWVyMiA9IFwiY29tcHV0ZXJcIjtcclxuICAgICAgICBjb21wdXRlckJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlnaGxpZ2h0ZWRcIiwgXCJncmVlblwiKTtcclxuICAgICAgICBwbGF5ZXIyQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWdobGlnaHRlZFwiLCBcImdyZWVuXCIpO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyBQcm9ncmVzc2VzIHBsYXllciB0byBpbnB1dCBhIG5hbWUgKG1vbmlrZXIpXHJcbiAgICBjb25zdCBjaG9zZW5QbGF5ZXJDb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb25maXJtLXBsYXllci1vci1jb21wdXRlci1idG5cIik7XHJcbiAgICBjaG9zZW5QbGF5ZXJDb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNob3NlblBsYXllcjIpIHtcclxuICAgICAgICAgICAgaWYgKGNob3NlblBsYXllcjIgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBpbnRlcm5hbCBlcXVhbCBjb21wdXRlclxyXG4gICAgICAgICAgICAgICAgcGxheWVyMk1vbmlrZXJUZXh0LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgICAgIHBsYXllcjJNb25pa2VyVmFsdWUgPSBcIkNPTVBVVEVSXCI7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyTmFtZUlzQ29tcHV0ZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcjJOYW1lSXNDb21wdXRlci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyTW9uaWtlclRleHQuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgIHBsYXllcjJNb25pa2VyVmFsdWUgPSBwbGF5ZXIyTW9uaWtlclRleHQudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFRyaWdnZXIgYW5pbWF0aW9uIHRvIHRoZSBuZXh0IHN0YWdlIChtb25pa2VyLXNlbGVjdGlvbilcclxuICAgICAgICAgICAgcGxheWVyU2VsZWN0aW9uRGl2LmNsYXNzTGlzdC5hZGQoXCJwbGF5ZXItc2VsZWN0aW9uLWxlYXZlXCIpO1xyXG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgICAgIHBsYXllclNlbGVjdGlvbkRpdi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHBsYXllclNlbGVjdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJTZWxlY3Rpb25EaXYuY2xhc3NMaXN0LnJlbW92ZShcInBsYXllci1zZWxlY3Rpb24tbGVhdmVcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgbW9uaWtlclNlbGVjdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FsbGVkIGhlcmUgYXMgdGhlIG1vbmlrZXJTZWxlY3Rpb25EaXYgaGFzIGEgbGVmdE9mZnNldFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlTW9uaWtlclNlbGVjdGlvbkRpc3RhbmNlVmFyaWFibGUoKTtcclxuICAgICAgICAgICAgICAgIG1vbmlrZXJTZWxlY3Rpb25EaXYuY2xhc3NMaXN0LmFkZChcIm1vbmlrZXItc2VsZWN0aW9uLWVudGVyXCIpO1xyXG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XHJcblxyXG4gICAgICAgICAgICBtb25pa2VyU2VsZWN0aW9uRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbW9uaWtlclNlbGVjdGlvbkRpdi5jbGFzc0xpc3QucmVtb3ZlKFwibW9uaWtlci1zZWxlY3Rpb24tZW50ZXJcIik7XHJcbiAgICAgICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaG9zZW5QbGF5ZXJDb25maXJtQnRuLmNsYXNzTGlzdC5hZGQoXCJkZW5pZWRcIik7XHJcblxyXG4gICAgICAgICAgICBjaG9zZW5QbGF5ZXJDb25maXJtQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25lbmRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hvc2VuUGxheWVyQ29uZmlybUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiZGVuaWVkXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcblxyXG4gICAgLy8gRXZlbnQgbGlzdG5lcnMgdG8gdXBkYXRlIHRoZSBzdG9yZWQgbW9uaWtlciB2YWx1ZSB3aGVuIHRoZSBpbnB1dCBjaGFuZ2VzXHJcbiAgICBwbGF5ZXIxTW9uaWtlclRleHQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldmVudCkgPT4ge1xyXG4gICAgICAgIHBsYXllcjFNb25pa2VyVmFsdWUgPSBldmVudC50YXJnZXQudmFsdWU7XHJcbiAgICB9KVxyXG5cclxuICAgIHBsYXllcjJNb25pa2VyVGV4dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgcGxheWVyMk1vbmlrZXJWYWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcclxuICAgIH0pXHJcblxyXG4gICAgLy8gQWxsb3dzIHVzZXIgdG8gcmUtc2VsZWN0IGEgZGlmZmVyZW50IG9wcG9uZW50IGFmdGVyIGxlYXZpbmcgcGxheWVyIHNlbGVjdGlvbiBzY3JlZW5cclxuICAgIGNvbnN0IGJhY2tCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJhY2stYnRuXCIpO1xyXG4gICAgYmFja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgIC8vIFRyaWdnZXIgYW5pbWF0aW9uIHRvIHJldmVydCB0byBwcmV2aW91cyBzdGFnZSAocGxheWVyLXNlbGVjdGlvbilcclxuICAgICAgICBtb25pa2VyU2VsZWN0aW9uRGl2LmNsYXNzTGlzdC5hZGQoXCJtb25pa2VyLXNlbGVjdGlvbi1sZWF2ZVwiKTtcclxuICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgbW9uaWtlclNlbGVjdGlvbkRpdi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgbW9uaWtlclNlbGVjdGlvbkRpdi5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIG1vbmlrZXJTZWxlY3Rpb25EaXYuY2xhc3NMaXN0LnJlbW92ZShcIm1vbmlrZXItc2VsZWN0aW9uLWxlYXZlXCIpO1xyXG5cclxuICAgICAgICAgICAgcGxheWVyU2VsZWN0aW9uRGl2LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgICAgIC8vIENhbGxlZCBoZXJlIGFzIHRoZSBwbGF5ZXJTZWxlY3Rpb25EaXYgaGFzIGEgbGVmdE9mZnNldFxyXG4gICAgICAgICAgICB1cGRhdGVQbGF5ZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlKCk7XHJcbiAgICAgICAgICAgIHBsYXllclNlbGVjdGlvbkRpdi5jbGFzc0xpc3QuYWRkKFwicGxheWVyLXNlbGVjdGlvbi1lbnRlclwiKTtcclxuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHBsYXllclNlbGVjdGlvbkRpdi5hZGRFdmVudExpc3RlbmVyKFwiYW5pbWF0aW9uZW5kXCIsICgpID0+IHtcclxuICAgICAgICAgICAgcGxheWVyU2VsZWN0aW9uRGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJwbGF5ZXItc2VsZWN0aW9uLWVudGVyXCIpO1xyXG4gICAgICAgICAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XHJcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyBQcm9taXNlIG1vdmVzIHRoZSBwbGF5ZXIgdG8gdGhlIG5leHQgc3RhZ2Ugb2YgdGhlIGdhbWVcclxuICAgIGNvbnN0IG1vbmlrZXJDb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb25maXJtLW1vbmlrZXItYnRuXCIpO1xyXG4gICAgY29uc3QgbW9uaWtlckNvbmZpcm1Qcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgbW9uaWtlckNvbmZpcm1CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBsYXllcjFNb25pa2VyVmFsdWUgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcjFNb25pa2VyVmFsdWUgPSBcIlBMQVlFUjFcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocGxheWVyMk1vbmlrZXJWYWx1ZSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMk1vbmlrZXJWYWx1ZSA9IGNob3NlblBsYXllcjIgPT09IFwiY29tcHV0ZXJcIiA/IFwiQ09NUFVURVJcIiA6IFwiUExBWUVSMlwiO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyMU1vbmlrZXJWYWx1ZSA9PT0gcGxheWVyMk1vbmlrZXJWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMU1vbmlrZXJWYWx1ZSA9IHBsYXllcjFNb25pa2VyVmFsdWUgKyBcIjFcIlxyXG4gICAgICAgICAgICAgICAgcGxheWVyMk1vbmlrZXJWYWx1ZSA9IHBsYXllcjJNb25pa2VyVmFsdWUgKyBcIjJcIlxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXNvbHZlKHsgY2hvc2VuUGxheWVyMiwgcGxheWVyMU1vbmlrZXJWYWx1ZSwgcGxheWVyMk1vbmlrZXJWYWx1ZSB9KTtcclxuICAgICAgICAgICAgZ3JpZE92ZXJsYXkuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgZ3JpZE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVycyBhZnRlciB0aGV5IGhhdmUgc2VydmVkIHRoZWlyIHB1cnBvc2VcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdXBkYXRlUGxheWVyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHVwZGF0ZU1vbmlrZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBtb25pa2VyQ29uZmlybVByb21pc2U7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBkdWxsVGl0bGVUZXh0KGR1bGwpIHtcclxuICAgIGNvbnN0IHRpdGxlVGV4dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJoMVwiKVxyXG4gICAgaWYgKGR1bGwpIHtcclxuICAgICAgICB0aXRsZVRleHQuc3R5bGUuY29sb3IgPSBibGFjaztcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgZ29lc0ZpcnN0LCByZW1vdmVGaXJzdFBsYXllclRleHQsIHBsYXllck9yQ29tcHV0ZXIgfSJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsImxvY2FscyIsIlNoaXAiLCJjb25zdHJ1Y3RvciIsInBsYWNlZCIsImhpdHMiLCJzdW5rIiwiaGl0IiwiaXNTdW5rIiwiUGxheWVyIiwiZ2FtZWJvYXJkIiwiYm9hcmQiLCJBcnJheSIsImZyb20iLCJmaWxsIiwibWlzc2VkIiwic2hpcHMiLCJvYnRhaW5DdXJyZW50U2hpcHMiLCJjdXJyZW50U2hpcHMiLCJ5IiwieCIsImluY2x1ZGVzIiwicG9zaXRpb25TaGlwcyIsImNvb3JkaW5hdGVzIiwiY29uc29sZSIsImxvZyIsInBvc2l0aW9uIiwibmV3U2hpcCIsIngxIiwieDIiLCJ5MSIsInkyIiwieURpZmYiLCJ4RGlmZiIsInJlY2lldmVBdHRhY2siLCJhbGxTaGlwc1N1bmsiLCJldmVyeSIsInNoaXAiLCJhbGxTaGlwc1BsYWNlZCIsInJlcXVpcmVkU2hpcHNMZW5ndGgiLCJpbmRleE9mIiwiR2FtZWJvYXJkIiwiZHJhZ2dhYmxlU2hpcHMiLCJzZWxlY3RlZFNoaXAiLCJwcmV2U2VsZWN0ZWRTaGlwQXJyYXkiLCJwcmV2U2VsZWN0ZWRTaGlwSW5kZXhBcnJheSIsInBsYW5lT2ZQbGFjaW5nU2hpcCIsInBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyIsImxvY2FsaXNlZEd1ZXNzZXMiLCJzaGlwRGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwidmVydGljYWwiLCJob3Jpem9udGFsIiwicmVzZXRIVE1MR3JpZCIsIm5hbWUiLCJpbm5lckhUTUwiLCJyZXNldFNoaXBzQXJyYXkiLCJidWlsZFJ1bGVzIiwicGxheWVyT3ZlcmxheSIsImdldEVsZW1lbnRCeUlkIiwicGFkZGluZ0xlZnQiLCJzaG93T3ZlcmxheSIsInJlbW92ZUJ1dHRvbnMiLCJncmlkQ29udGFpbmVyIiwic2luZ3VsYXJTaGlwQnRucyIsIm11bHRpcGxlU2hpcEJ0bnMiLCJidWlsZFNoaXBzIiwic2hpcHNDb250YWluZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJwbGF5ZXJHcmlkQ29udGFpbmVyIiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInJlbW92ZVNoaXBzIiwiaGlkZUdyaWRTaGlwcyIsImZvckVhY2giLCJjb250YWlucyIsInNlbGVjdERlZmF1bHRTaGlwIiwiYXBwbHlEcmFnZ2FibGVTaGlwcyIsImNoZWNrSWZQb3NpdGlvblZhbGlkIiwic2hpcFNpemUiLCJ2YWxpZCIsInNoaXBEaXZzIiwidGV4dENvbnRlbnQiLCJncmlkRGl2IiwiZ3JpZERpdkZyb21Db29yZGluYXRlcyIsImJpbmQiLCJjb29yZGluYXRlSW52YWxpZCIsIm5lYXJieVNoaXBTcXVhcmVzSGl0Rm9yU2hpcFBsYWNlbWVudCIsInN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMiLCJmaW5kU3Vycm91bmRpbmdDb29yZGluYXRlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzaGlwU2VsZWN0IiwiZHJhZ0VudGVyIiwicHJldmVudERlZmF1bHQiLCJjbGFzc1RvSW50ZWdlciIsInBhcnNlSW50IiwiZGF0YXNldCIsInNpemUiLCJkcmFnTGVhdmUiLCJoaWdobGlnaHRlZFNxdWFyZXMiLCJzcXVhcmUiLCJkcm9wIiwibWluWSIsIm1heFkiLCJtaW5YIiwibWF4WCIsIm1ha2VEcmFnZ2FibGVTaGlwSW52aXNpYmxlIiwib25jZSIsInBhcmVudEVsZW1lbnQiLCJncmlkRWxlbWVudCIsInVwZGF0ZUNsYXNzTGlzdE9uRHJhZ2dhYmxlU2hpcCIsImRhdGFTaXplIiwicmVtb3ZlU2hpcEZyb21IVE1MR2FtZWJvYXJkIiwic2hpcENvb3JkaW5hdGVzIiwicmVzZXRNaXNzZWQiLCJjbGlja0hhbmRsZXIiLCJjbGlja1RvSFRNTCIsInVwZGF0ZVR1cm5UZXh0Iiwib3Bwb25lbnQiLCJtb25pa2VyIiwibG9jYWxpc2VkQ29tcHV0ZXJHdWVzcyIsImNvbXB1dGVyR3Vlc3MiLCJIVE1MdG9ib2FyZCIsInNoaXBTdW5rIiwiY2xhc3NMaXN0U3RyaW5nIiwiZ2V0QXR0cmlidXRlIiwiY2xhc3NOYW1lIiwic3BsaXQiLCJmaW5kVG91Y2hpbmdTaGlwcyIsIlNldCIsImNvb3JkaW5hdGUiLCJuZWFyYnlTaGlwU3F1YXJlc0hpdCIsInRyaWdnZXJPdmVyYWxsT3ZlcmxheSIsIm1pc3NlZERpdiIsInJlbW92ZUNvbXB1dGVyR3Vlc3MiLCJZIiwiWCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJncmlkRGl2cyIsImZvdW5kR3JpZERpdiIsInBhdGgiLCJoYXMiLCJ0ZXh0IiwiYXN5bmMiLCJndWVzc0luZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJndWVzc2VkRGl2IiwibWluVGltZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNvbXB1dGVyR3Vlc3NUb0hUTUwiLCJkaXZUb1JlbW92ZSIsInJlbGF0aXZlTG9jYXRpb25PZkRpdiIsImNvbXB1dGVySFRNTFRvQm9hcmQiLCJkaXNjb3ZlcmVkU2hpcERpcmVjdGlvbiIsIm5ld0RpdnMiLCJnZW5lcmF0ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzIiwicG90ZW50aWFsR3Vlc3MiLCJjYWxjdWxhdGVTaGlwRGlyZWN0aW9uIiwicG90ZW50aWFsRGlyZWN0aW9uIiwicmVtb3ZlTG9jYWxDb21wdXRlckd1ZXNzZXMiLCJsb2NhbEd1ZXNzIiwib2JqZWN0U2hpZnQiLCJuZWFyYnlDb29yZGluYXRlcyIsIm5lYXJieUd1ZXNzZXMiLCJuZWFyYnlEaXYiLCJjb21wdXRlckRpdkZyb21JbnRlZ2VyIiwib2JqZWN0IiwiT2JqZWN0Iiwia2V5cyIsInJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9ib3VuZENsaWNrSGFuZGxlciIsImRpc3BsYXkiLCJjb25ncmF0dWxhdGlvbnNUaXRsZSIsIndpbm5lciIsIndpbm5pbmdDb3VudGVyIiwiY3VycmVudFNjb3JlIiwiYnVpbGRIVE1MR3JpZCIsInJldmVhbCIsImdyaWQiLCJyZWdpc3RlckdyaWREaXZFdmVudExpc3RlbmVyIiwiYm91bmRDbGlja0hhbmRsZXIiLCJidWlsZEhUTUxEaXZDb250YWluZXJzIiwiZ3JpZENvbnRhaW5lcnMiLCJwbGF5ZXJDb250YWluZXIiLCJnZW5lcmF0ZUNvbXB1dGVyR3Vlc3NlcyIsImRpdiIsImJ1aWxkQnV0dG9uQ29udGFpbmVyIiwicGxhY2luZ0RpdiIsImhvcml6b250YWxPclZlcnRpY2FsQnRuIiwidW5kb0J0biIsInJhbmRvbWlzZUJ0biIsImNvbmZpcm1CdG4iLCJyZXNldEJ0biIsInJlc2V0R3JpZCIsInJlbW92ZVJ1bGVzIiwidG9nZ2xlU2hpcHNJbnZpc2libGUiLCJyZXNldFNoaXBzIiwicHJvZ3Jlc3NGcm9tU2hpcFBsYWNlbWVudCIsInBsYXllcjJUdXJuVHJhY2tlciIsInJlbW92ZUxhc3RTaGlwIiwic2hpcFRvQmVSZW1vdmVkQ29vcmRpbmF0ZXMiLCJyZW1vdmVTaGlwRnJvbUJvYXJkQXJyYXkiLCJwb3AiLCJjb29yZGluYXRlc0Zvck1pc3NlZEdhbWVib2FyZCIsIm1pc3NlZENvb3JkaW5hdGVzIiwicmVtb3ZlWFZhbHVlc0Zyb21NaXNzZWRHYW1lYm9hcmQiLCJwcmV2U2VsZWN0ZWRTaGlwIiwicHJldlNlbGVjdGVkU2hpcEluZGV4IiwicmVpbnN0YXRlVG9IVE1MRHJhZ2dhYmxlU2hpcHMiLCJ1cGRhdGVQbGF5ZXJTZWxlY3Rpb25EaXN0YW5jZVZhcmlhYmxlIiwiZGlzdGFuY2UiLCJvZmZzZXRMZWZ0IiwiZG9jdW1lbnRFbGVtZW50Iiwic2V0UHJvcGVydHkiLCJ1cGRhdGVNb25pa2VyU2VsZWN0aW9uRGlzdGFuY2VWYXJpYWJsZSIsInBsYXllcjJNb25pa2VyRGl2IiwiY29tcHV0ZXJNb25pa2VyRGl2IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJ4Q29vcmQiLCJ5Q29vcmQiLCJyYW5kb21pc2UiLCJkaXJlY3Rpb25zIiwicm91bmQiLCJ2aWFibGUiLCJ5Q29vcmRpbmF0ZSIsImNvbmZsaWN0IiwieENvb3JkaW5hdGUiLCJoYW5kbGVIb3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbkNsaWNrIiwiYnV0dG9uIiwiaGFuZGxlVW5kb0J1dHRvbkNsaWNrIiwicGxheWVyMSIsInBsYXllcjIiLCJoYW5kbGVSYW5kb21pc2VCdXR0b25DbGljayIsImhhbmRsZVJlc2V0QnV0dG9uQ2xpY2siLCJ0cmlnZ2VyQ29uZmlybUJ1dHRvbkVycm9yIiwicGxheWVyIiwiY2hhbmdlT3ZlcmxheXNUbyIsImNvbG91ciIsImNvbXB1dGVyIiwicGxheWVyT3ZlcmxheXMiLCJvdmVybGF5IiwiYmFja2dyb3VuZENvbG9yIiwicGxheWVyMVdpbm5pbmdDb3VudGVyIiwicGxheWVyMldpbm5pbmdDb3VudGVyIiwicGxheWVyMU1vbmlrZXIiLCJwbGF5ZXIyTW9uaWtlciIsImluaXRpYWxpc2VHYW1lIiwiY2hvc2VuUGxheWVyMiIsInBsYXllcjFNb25pa2VyVmFsdWUiLCJwbGF5ZXIyTW9uaWtlclZhbHVlIiwiZ3JpZE92ZXJsYXkiLCJjZW50ZXJlZENvbnRhaW5lckRpdiIsImJvZHkiLCJwbGF5ZXJTZWxlY3Rpb25EaXYiLCJtb25pa2VyU2VsZWN0aW9uRGl2IiwicGxheWVyMkJ0biIsImNvbXB1dGVyQnRuIiwicGxheWVyMU1vbmlrZXJUZXh0IiwicGxheWVyMk1vbmlrZXJUZXh0IiwicGxheWVyMk5hbWVJc0NvbXB1dGVyIiwiY2hvc2VuUGxheWVyQ29uZmlybUJ0biIsInZhbHVlIiwib3ZlcmZsb3ciLCJldmVudCIsIm1vbmlrZXJDb25maXJtQnRuIiwicGxheWVyT3JDb21wdXRlciIsImdhbWVSdWxlc092ZXJsYXkiLCJoYW5kbGVHYW1lUnVsZXNCdXR0b25DbGljayIsImhvcml6b250YWxPclZlcnRpY2FsQnV0dG9ucyIsIm9uY2xpY2siLCJ1bmRvQnV0dG9ucyIsInJhbmRvbWlzZUJ1dHRvbnMiLCJyZXNldEJ1dHRvbnMiLCJwbGF5ZXIxQ29uZmlybUJ0biIsInJlc29sdmVQcm9taXNlIiwic2luZ2xlUGxheWVyQ29uZmlybUJ0biIsInBsYXllcjJDb25maXJtQnRuIiwibXVsdGlQbGF5ZXJDb25maXJtQnRuIiwiaGFuZGxlQ29uZmlybUJ0bkNsaWNrIiwiY29tcHV0ZXJDb29yZGluYXRlcyIsInR1cm4iLCJwbGF5ZXJzIiwibnVtYmVyIiwiZmlyc3QiLCJ0b1VwcGVyQ2FzZSIsImdvZXNGaXJzdCJdLCJzb3VyY2VSb290IjoiIn0=