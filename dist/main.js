"use strict";(self.webpackChunkbattleships=self.webpackChunkbattleships||[]).push([[792],{365:(n,e,t)=>{t.d(e,{A:()=>s});var r=t(354),i=t.n(r),a=t(314),o=t.n(a)()(i());o.push([n.id,'body {\n    user-select: none;\n}\n\n.player1-grid.number, .player2-grid.number, .computer-grid.number {\n    background-color: white;\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.centered-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%; /* Adjust as needed */\n    background-color: rgb(255, 255, 255);\n}\n\n#gameEndingOverlay {\n    display: none;\n    background-color: lightblue;\n    flex-direction: column;\n    height: auto;\n\n}\n\n.reset-btn-div {\n    text-align: center;\n    padding: 16px;\n}\n\n.welcome-title {\n    display: flex;\n    flex: 4;\n    justify-content: center;\n    align-items: flex-end;\n}\n\n.player-selection {\n    display: flex;\n    justify-content: center;\n    gap: 2em;\n    background-color: rgb(255, 255, 255);\n    /* height: 100%; */\n    width: 100%;\n    flex: 5;\n    align-items: flex-start;\n}\n\n.player-selection-container {\n    display: flex;\n    gap: 1em;\n    flex-direction: column;\n}\n\n.player-2-btn-container, .computer-btn-container {\n    display: flex;\n    justify-content: center;\n}\n\n#hit, #revealedMiss {\n    background-color: #bbb2b279;\n}\n\n#revealedMiss {\n    color: rgb(118, 115, 115);\n}\n\n.player1-grid.number.ship-present, .player2-grid.number.ship-present, .computer-grid.number.ship-present {\n    color: red;\n}\n\n/* SHIP PLACING */\ndiv.player1-grid.number.highlight, div.player2-grid.number.highlight, div.computer-grid.number.highlight {\n    /* CHOSE BORDER AS IT IS EASIER TO SEE WHEN PLACING */\n    border: 2px solid rgb(38, 209, 38);\n}\n\ndiv.player1-grid.number.not-valid, div.player2-grid.number.not-valid {\n    /* APPLYING BORDER ALLOWS USER TO DETERMINE WHAT IS BEHIND THE CURSOR\n    NECESSARY TO REDUCE WIDTH AND HEIGHT BY BORDER FOR NO BUGS */\n    border: 2px solid red;\n    width: 28px;\n    height: 28px;\n}\n\n.shaking-animation {\n    animation-name: shakeAnimation;\n    animation-duration: 0.25s;\n    animation-iteration-count: 1;\n}\n\n@keyframes shakeAnimation {\n    0% { transform: translateX(0); }\n    15% { transform: translateX(-5px); }\n    30% { transform: translateX(5px); }\n    45% { transform: translateX(-5px); }\n    60% { transform: translateX(5px); }\n    75% { transform: translateX(-5px); }\n    100% { transform: translateX(0); }\n  }\n\n\n/* DRAGGABLE SHIPS */\n.ship-container-1, .ship-container-2, .ship-container-3 {\n    display: grid;\n    align-items: end;\n}\n\n.ships-container {\n    display: flex;\n    gap: 1em;\n    grid-area: 1 / 1 / -2 / 1;\n    padding: 1em;\n}\n\n.draggable-ship[data-size="1"], .draggable-ship.vertical[data-size="1"] {\n    width: 32px;\n    height: 32px;\n    outline: 2px solid darkblue;\n    position: relative;\n}\n\n.draggable-ship[data-size="2"] {\n    width: 32px;\n    height: 64px;\n    outline: 2px solid darkblue;\n    position: relative;\n}\n\n.draggable-ship.vertical[data-size="2"] {\n    width: 64px;\n    height: 32px;\n    outline: 2px solid darkblue;\n    position: relative;\n}\n\n.draggable-ship[data-size="3"] {\n    width: 32px;\n    height: 96px;\n    outline: 2px solid darkblue;\n    position: relative;\n}\n\n.draggable-ship.vertical[data-size="3"] {\n    width: 96px;\n    height: 32px;\n    outline: 2px solid darkblue;\n    position: relative;\n}\n\n.draggable-ship[data-size="4"] {\n    width: 32px;\n    height: 128px;\n    outline: 2px solid darkblue;\n    position: relative;\n}\n\n.draggable-ship.vertical[data-size="4"] {\n    width: 128px;\n    height: 32px;\n    outline: 2px solid darkblue;\n    position: relative;\n}\n\nh3.title {\n    grid-area: 1 / 2;\n}\n\n#player1Grid, #player2Grid, #computerGrid {\n    display: grid;\n    grid-template-columns: repeat(10, 32px);\n    grid-template-rows: repeat(10, 32px);\n    grid-gap: 2px;\n    background-color: lightblue;\n    border: 2px solid lightblue;\n\n    grid-area: 2 / 2;\n    height: max-content;\n    \n}\n\n#player1GridOverlay, #player2GridOverlay, #computerGridOverlay {\n    padding-left: 1em;\n    padding-right: 1em;\n    color: rgb(237, 233, 233);\n}\n\n.grid-containers {\n    display: flex;\n    gap: 2em;\n    justify-content: space-evenly;\n}\n\nh1 {\n    text-align: center;\n}\n\n/* ONLY colour player grid */\n.ship-present.reveal {\n    outline: 2px solid darkblue;\n    width: 100%;\n    height: 100%;\n}\n\n.start-button-container{\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 32px;\n}\n\n.start-button, .reset-btn, .randomise-btn, .confirm-btn, .horizontal-or-vertical-btn {\n    font-size: large;\n    padding: 4px 8px;\n}\n\n.horizontal-or-vertical-btn {\n    min-width: 134.67px\n}\n\nh3 {\n    text-align: center;\n}\n\n/* GRID CONTAINERS */\n.player1-grid-container, .player2-grid-container, .computer-grid-container {\n    position: relative;\n    display: grid;\n    grid-template-columns: auto 1fr;\n    grid-template-rows: auto 1fr auto;\n    gap: 1em;\n\n    padding-right: 1em; /* Keeps the athestetic with the overlay even */\n}\n\n.btn-container {\n    display: flex;\n    justify-content: space-between;\n    grid-area: 3 / 1 / 3 / -1;\n}\n\n.grid-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */\n    display: none; /* Initially hidden */\n}\n\n.ship-present.reveal.sunk {\n    outline: 2px solid red;\n    width: 100%;\n    height: 100%;\n}\n\n.draggable-ship.sunk {\n    outline: 2px solid red;\n}\n\n.draggable-ship.placing {\n    outline: 2px solid rgb(38, 209, 38);\n}\n\n.draggable-ship.invisible {\n    outline: 2px solid white;\n}\n\n\n/* COLOURS FOR SPAN\'S IN TURN TEXT */\n/* HIT */\n.highlighted.red {\n    color: lightcoral;\n}\n\n/* SUNK */\n.highlighted.orange {\n    color: orange;\n}\n\n/* MISSED */\n.highlighted.blue {\n    color: lightskyblue;\n}\n\n/* PLACING */\n.highlighted.green {\n    color: rgb(38, 209, 38);\n}',"",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"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",sourcesContent:['body {\r\n    user-select: none;\r\n}\r\n\r\n.player1-grid.number, .player2-grid.number, .computer-grid.number {\r\n    background-color: white;\r\n    color: black;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.centered-container {\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%; /* Adjust as needed */\r\n    background-color: rgb(255, 255, 255);\r\n}\r\n\r\n#gameEndingOverlay {\r\n    display: none;\r\n    background-color: lightblue;\r\n    flex-direction: column;\r\n    height: auto;\r\n\r\n}\r\n\r\n.reset-btn-div {\r\n    text-align: center;\r\n    padding: 16px;\r\n}\r\n\r\n.welcome-title {\r\n    display: flex;\r\n    flex: 4;\r\n    justify-content: center;\r\n    align-items: flex-end;\r\n}\r\n\r\n.player-selection {\r\n    display: flex;\r\n    justify-content: center;\r\n    gap: 2em;\r\n    background-color: rgb(255, 255, 255);\r\n    /* height: 100%; */\r\n    width: 100%;\r\n    flex: 5;\r\n    align-items: flex-start;\r\n}\r\n\r\n.player-selection-container {\r\n    display: flex;\r\n    gap: 1em;\r\n    flex-direction: column;\r\n}\r\n\r\n.player-2-btn-container, .computer-btn-container {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n\r\n#hit, #revealedMiss {\r\n    background-color: #bbb2b279;\r\n}\r\n\r\n#revealedMiss {\r\n    color: rgb(118, 115, 115);\r\n}\r\n\r\n.player1-grid.number.ship-present, .player2-grid.number.ship-present, .computer-grid.number.ship-present {\r\n    color: red;\r\n}\r\n\r\n/* SHIP PLACING */\r\ndiv.player1-grid.number.highlight, div.player2-grid.number.highlight, div.computer-grid.number.highlight {\r\n    /* CHOSE BORDER AS IT IS EASIER TO SEE WHEN PLACING */\r\n    border: 2px solid rgb(38, 209, 38);\r\n}\r\n\r\ndiv.player1-grid.number.not-valid, div.player2-grid.number.not-valid {\r\n    /* APPLYING BORDER ALLOWS USER TO DETERMINE WHAT IS BEHIND THE CURSOR\r\n    NECESSARY TO REDUCE WIDTH AND HEIGHT BY BORDER FOR NO BUGS */\r\n    border: 2px solid red;\r\n    width: 28px;\r\n    height: 28px;\r\n}\r\n\r\n.shaking-animation {\r\n    animation-name: shakeAnimation;\r\n    animation-duration: 0.25s;\r\n    animation-iteration-count: 1;\r\n}\r\n\r\n@keyframes shakeAnimation {\r\n    0% { transform: translateX(0); }\r\n    15% { transform: translateX(-5px); }\r\n    30% { transform: translateX(5px); }\r\n    45% { transform: translateX(-5px); }\r\n    60% { transform: translateX(5px); }\r\n    75% { transform: translateX(-5px); }\r\n    100% { transform: translateX(0); }\r\n  }\r\n\r\n\r\n/* DRAGGABLE SHIPS */\r\n.ship-container-1, .ship-container-2, .ship-container-3 {\r\n    display: grid;\r\n    align-items: end;\r\n}\r\n\r\n.ships-container {\r\n    display: flex;\r\n    gap: 1em;\r\n    grid-area: 1 / 1 / -2 / 1;\r\n    padding: 1em;\r\n}\r\n\r\n.draggable-ship[data-size="1"], .draggable-ship.vertical[data-size="1"] {\r\n    width: 32px;\r\n    height: 32px;\r\n    outline: 2px solid darkblue;\r\n    position: relative;\r\n}\r\n\r\n.draggable-ship[data-size="2"] {\r\n    width: 32px;\r\n    height: 64px;\r\n    outline: 2px solid darkblue;\r\n    position: relative;\r\n}\r\n\r\n.draggable-ship.vertical[data-size="2"] {\r\n    width: 64px;\r\n    height: 32px;\r\n    outline: 2px solid darkblue;\r\n    position: relative;\r\n}\r\n\r\n.draggable-ship[data-size="3"] {\r\n    width: 32px;\r\n    height: 96px;\r\n    outline: 2px solid darkblue;\r\n    position: relative;\r\n}\r\n\r\n.draggable-ship.vertical[data-size="3"] {\r\n    width: 96px;\r\n    height: 32px;\r\n    outline: 2px solid darkblue;\r\n    position: relative;\r\n}\r\n\r\n.draggable-ship[data-size="4"] {\r\n    width: 32px;\r\n    height: 128px;\r\n    outline: 2px solid darkblue;\r\n    position: relative;\r\n}\r\n\r\n.draggable-ship.vertical[data-size="4"] {\r\n    width: 128px;\r\n    height: 32px;\r\n    outline: 2px solid darkblue;\r\n    position: relative;\r\n}\r\n\r\nh3.title {\r\n    grid-area: 1 / 2;\r\n}\r\n\r\n#player1Grid, #player2Grid, #computerGrid {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 32px);\r\n    grid-template-rows: repeat(10, 32px);\r\n    grid-gap: 2px;\r\n    background-color: lightblue;\r\n    border: 2px solid lightblue;\r\n\r\n    grid-area: 2 / 2;\r\n    height: max-content;\r\n    \r\n}\r\n\r\n#player1GridOverlay, #player2GridOverlay, #computerGridOverlay {\r\n    padding-left: 1em;\r\n    padding-right: 1em;\r\n    color: rgb(237, 233, 233);\r\n}\r\n\r\n.grid-containers {\r\n    display: flex;\r\n    gap: 2em;\r\n    justify-content: space-evenly;\r\n}\r\n\r\nh1 {\r\n    text-align: center;\r\n}\r\n\r\n/* ONLY colour player grid */\r\n.ship-present.reveal {\r\n    outline: 2px solid darkblue;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.start-button-container{\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-top: 32px;\r\n}\r\n\r\n.start-button, .reset-btn, .randomise-btn, .confirm-btn, .horizontal-or-vertical-btn {\r\n    font-size: large;\r\n    padding: 4px 8px;\r\n}\r\n\r\n.horizontal-or-vertical-btn {\r\n    min-width: 134.67px\r\n}\r\n\r\nh3 {\r\n    text-align: center;\r\n}\r\n\r\n/* GRID CONTAINERS */\r\n.player1-grid-container, .player2-grid-container, .computer-grid-container {\r\n    position: relative;\r\n    display: grid;\r\n    grid-template-columns: auto 1fr;\r\n    grid-template-rows: auto 1fr auto;\r\n    gap: 1em;\r\n\r\n    padding-right: 1em; /* Keeps the athestetic with the overlay even */\r\n}\r\n\r\n.btn-container {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    grid-area: 3 / 1 / 3 / -1;\r\n}\r\n\r\n.grid-overlay {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background-color: rgba(0, 0, 0, 0.5); /* Semi-transparent black overlay */\r\n    display: none; /* Initially hidden */\r\n}\r\n\r\n.ship-present.reveal.sunk {\r\n    outline: 2px solid red;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.draggable-ship.sunk {\r\n    outline: 2px solid red;\r\n}\r\n\r\n.draggable-ship.placing {\r\n    outline: 2px solid rgb(38, 209, 38);\r\n}\r\n\r\n.draggable-ship.invisible {\r\n    outline: 2px solid white;\r\n}\r\n\r\n\r\n/* COLOURS FOR SPAN\'S IN TURN TEXT */\r\n/* HIT */\r\n.highlighted.red {\r\n    color: lightcoral;\r\n}\r\n\r\n/* SUNK */\r\n.highlighted.orange {\r\n    color: orange;\r\n}\r\n\r\n/* MISSED */\r\n.highlighted.blue {\r\n    color: lightskyblue;\r\n}\r\n\r\n/* PLACING */\r\n.highlighted.green {\r\n    color: rgb(38, 209, 38);\r\n}'],sourceRoot:""}]);const s=o},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,r,i,a){"string"==typeof n&&(n=[[null,n,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(o[l]=!0)}for(var d=0;d<n.length;d++){var A=[].concat(n[d]);r&&o[A[0]]||(void 0!==a&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=a),t&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=t):A[2]=t),i&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=i):A[4]="".concat(i)),e.push(A))}},e}},354:n=>{n.exports=function(n){var e=n[1],t=n[3];if(!t)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(i," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var a={},o=[],s=0;s<n.length;s++){var l=n[s],d=r.base?l[0]+r.base:l[0],A=a[d]||0,c="".concat(d," ").concat(A);a[d]=A+1;var p=t(c),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var u=i(h,r);r.byIndex=s,e.splice(s,0,{identifier:c,updater:u,references:1})}o.push(c)}return o}function i(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,i){var a=r(n=n||[],i=i||{});return function(n){n=n||[];for(var o=0;o<a.length;o++){var s=t(a[o]);e[s].references--}for(var l=r(n,i),d=0;d<a.length;d++){var A=t(a[d]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}a=l}}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},681:(n,e,t)=>{var r=t(72),i=t.n(r),a=t(825),o=t.n(a),s=t(659),l=t.n(s),d=t(56),A=t.n(d),c=t(540),p=t.n(c),h=t(113),u=t.n(h),g=t(365),m={};m.styleTagTransform=u(),m.setAttributes=A(),m.insert=l().bind(null,"head"),m.domAPI=o(),m.insertStyleElement=p(),i()(g.A,m),g.A&&g.A.locals&&g.A.locals;class b{constructor(n,e=!1,t=0,r=!1){this.length=n,this.placed=e,this.hits=t,this.sunk=r}hit(){return this.hits++,this.isSunk(),this}isSunk(){return this.hits===this.length&&(this.sunk=!0),this}}const f=()=>{const n=(()=>{const n=Array.from({length:10},(()=>Array(10).fill(null))),e=Array.from({length:10},(()=>Array(10).fill(null))),t=[];function r(){const e=[];for(let t=0;t<=9;t++)for(let r=0;r<=9;r++)null==n[t][r]||e.includes(n[t][r])||e.push(n[t][r]);return e}return{board:n,missed:e,positionShips:function(e){if(null===e)return void console.log("Need to provide coordinates");let r;for(r of e){let e;const[i,a,o,s]=r;if(i===a&&o===s)e=new b(1,!0),n[o][i]=e;else if(i===a){const t=s-o+1;e=new b(t,!0);for(let r=0;r<t;r++)n[o+r][i]=e}else{if(o!==s)throw Error;{const t=a-i+1;e=new b(t,!0);for(let r=0;r<t;r++)n[o][i+r]=e}}t.push(e)}},recieveAttack:function([t,r]){null!=n[r][t]?n[r][t].hit():e[r][t]="X"},allShipsSunk:function(){return t.every((n=>!0===n.sunk))},ships:t,allShipsPlaced:function(){const n=[4,3,3,2,2,2,1,1,1,1],e=r();for(const t of e){const e=n.indexOf(t.length);if(-1===e)return!1;n.splice(e,1)}return 0===n.length&&e.every((n=>!0===n.placed))},obtainCurrentShips:r}})();let e,t=null,r="HORIZONTAL",i=null,a=null,o=null;const s={vertical:["beneath","above"],horizontal:["left","right"]};function l(){document.querySelector(`.${this.name}-grid.game-board`).innerHTML=""}function d(){n.ships.length=0}function A(n=null){const e=document.getElementById(`${this.name}GridOverlay`);this.showOverlay(!0),e.innerHTML='\n            <h3 class="rules-title">RULES</h3>\n            <p>Try and deduce where the enemy ships are and sink them first!</p>\n            <br></br>\n            <p>Each player deploys their ships (of lengths varying from 1 to 4 squares) secretly on a their square grid.</p>\n            <p>Every turn each player shoots at the other\'s grid by clicking on a location to a response of "HIT", "MISS" or "SUNK".</p>\n            <p>(Watch the turn counter beneath the title if you get lost)</p>\n            <p>First player to sink all of the opponents ships wins! Good Luck!</p>\n        ',n&&(e.innerHTML='\n            <h3 class="rules-title">RULES</h3>\n            <p>Try and deduce where the enemy ships are and sink them first!</p>\n            <br></br>\n            <p>Each player deploys their ships (of lengths varying from 1 to 4 squares) secretly on a their square grid.</p>\n            <p>Every turn each player shoots at the other\'s grid by clicking on a location to a response of "HIT", "MISS" or "SUNK".</p>\n            <p>(Watch the turn counter beneath the title if you get lost)</p>\n            <p>First player to sink all of the opponents ships wins! Good Luck!</p>\n            <br></br>\n            <p>Local play requires the opponent to not look at the screen whilst the other player is positioning their ships!</p>\n        ')}function c(){const n=document.querySelector(`.${this.name}-grid-container`),e=n.querySelector(".btn-container");n.removeChild(e)}function p(){const n=document.createElement("div");n.classList.add("ships-container"),n.innerHTML='\n        <div class="ship-container-1">\n            <div class="draggable-ship" data-size="4"></div>\n            <div class="draggable-ship" data-size="3"></div>\n            <div class="draggable-ship" data-size="3"></div>\n        </div>\n        <div class="ship-container-2">\n            <div class="draggable-ship" data-size="2"></div>\n            <div class="draggable-ship" data-size="2"></div>\n            <div class="draggable-ship" data-size="2"></div>\n        </div>\n        <div class="ship-container-3">\n            <div class="draggable-ship" data-size="1"></div>\n            <div class="draggable-ship" data-size="1"></div>\n            <div class="draggable-ship" data-size="1"></div>\n            <div class="draggable-ship" data-size="1"></div>\n        </div>\n        ';const t=document.querySelector(`.${this.name}-grid-container`);t.insertAdjacentElement("afterbegin",n),e=[...t.querySelectorAll(".draggable-ship")]}function h(){const n=document.querySelector(`.${this.name}-grid-container`),e=n.querySelector(".ships-container");e&&n.removeChild(e)}function u(){document.querySelectorAll(`.${this.name}-grid.game-board.number`).forEach((n=>{n.classList.contains("reveal")&&(n.classList.remove("reveal"),n.classList.add("hidden"))}))}function g(n=0){e.length>0&&(t=e[n%e.length],t.classList.add("placing"))}function m(){function i(n,e,t){let i=!0,o=[];if(r=document.querySelector(`.${this.name}.horizontal-or-vertical-btn`).textContent,"HORIZONTAL"===r)for(let r=0;r<t;r++){let t=k.bind(this)(n,e+r);t&&o.push(t),!0===a(n,e+r)&&(i=!1)}else if("VERTICAL"===r)for(let r=0;r<t;r++){let t=k.bind(this)(n+r,e);t&&o.push(t),!0===a(n+r,e)&&(i=!1)}return[i,o]}function a(e,t){return e>9||t>9||null!=n.board[e][t]||null!=n.missed[e][t]}function o(e,t){const r=x(e,t);for(let e of r){let t=e[0],r=e[1];null===n.missed[r][t]&&n.recieveAttack([t,r])}}g(),e.forEach((n=>{n.addEventListener("mousedown",A)}));const s=n=>{if(n.preventDefault(),e.length>0){const[e,r]=B.bind(this)(n.target),a=parseInt(t.dataset.size);let[o,s]=i.bind(this)(e,r,a);if(!0===o)for(let n of s)n.classList.add("highlight");else for(let n of s)n.classList.add("not-valid")}};function l(n){let e=document.querySelectorAll(".highlight");0===e.length&&(e=document.querySelectorAll(".not-valid")),e.forEach((n=>{n.classList.remove("highlight","not-valid","shaking-animation")}))}const d=a=>{if(a.preventDefault(),e.length>0){const[s,l]=B.bind(this)(a.target),d=parseInt(t.dataset.size);let A=s,c=s,p=l,h=l,[u,m]=i.bind(this)(s,l,d);if(u){for(let n of m)n.classList.add("ship-present","reveal"),n.classList.remove("highlight");if("HORIZONTAL"===r){h=l+d-1,n.positionShips([[p,h,A,c]]);for(let n=0;n<d;n++)o.bind(this)(l+n,s)}else if("VERTICAL"===r){c=s+d-1,n.positionShips([[p,h,A,c]]);for(let n=0;n<d;n++)o.bind(this)(l,s+n)}!function(){for(let n=0;n<e.length;n++)if(t===e[n]){e[n].classList.add("invisible"),e.splice(n,1),g(n);break}}()}else for(let n of m)n.classList.add("shaking-animation","not-valid"),n.addEventListener("animationend",(()=>{n.classList.remove("shaking-animation")}),{once:!0})}};function A(n){t&&t.classList.remove("placing"),t=n.target,n.target.classList.add("placing")}document.querySelectorAll(`.${this.name}-grid.game-board.number`).forEach((n=>{n.addEventListener("mouseenter",s),n.addEventListener("mouseleave",l),n.addEventListener("mousedown",d)}))}function f(n){for(let t=0;t<e.length;t++){const r=parseInt(e[t].dataset.size);if(n.length===r){e[t].classList.add("sunk"),e.splice(t,1);break}}}function C(){for(let e=0;e<=9;e++)for(let t=0;t<=9;t++)n.missed[t][e]=null}function y(n){I.bind(this)(n)}function I(n){""===n.textContent&&(n.classList.contains("ship-present")?(n.textContent="X",T(`${this.opponent.name.toUpperCase()} <span class="highlighted red">HIT</span>`),n.classList.contains("hidden")&&(n.classList.remove("hidden"),n.classList.add("reveal"))):(n.textContent="●",T(`${this.opponent.name.toUpperCase()} <span class="highlighted blue">MISSED</span>`),this.showOverlay(!0),this.opponent.showOverlay(!1),n.id="hit","computer"===this.name&&(a?G.bind(this)():w.bind(this)())),E.bind(this)(n))}function v(n){const[e,t]=B(n);return this.opponent.gameboard.board[e][t].sunk}function B(n){const e=n.getAttribute("class");for(let n of e.split(" "))if("0123456789".includes(n[0]))return[parseInt(n[0]),parseInt(n[1])]}function E(e){if(!n)return;const[t,r]=B(e);n.recieveAttack([r,t]),null!=n.board[t][r]&&n.board[t][r].sunk&&(T(`${this.opponent.name.toUpperCase()} <span class="highlighted orange">SANK</span> ONE OF ${this.name.toUpperCase()}'S SHIP`),L(n.board,r,t,new Set).forEach((n=>{let e=parseInt(n[1]),t=parseInt(n[0]);k.bind(this)(t,e).classList.add("sunk"),S.bind(this)(e,t)})),f.bind(this)(n.board[t][r]),n.allShipsSunk()&&D.bind(this)())}function S(e,t,r=null){const i=x(e,t);for(let e of i){let t=e[0],i=e[1];if(null===n.missed[i][t]){n.recieveAttack.bind(this)([t,i]);const e=k.bind(this)(i,t);e.textContent="●",e.id="revealedMiss","computer"===this.opponent.name&&O(e,r)}}}function x(e,t){const r=[];for(let i=t-1;i<=t+1;i++)for(let t=e-1;t<=e+1;t++)Math.min(t,i)<0||Math.max(t,i)>9||null!=n.board[i][t]||r.push([t,i]);return r}function k(n,e){const t=document.getElementById(this.name+"Grid").querySelectorAll("*");let r=null;return t.forEach((t=>{t.classList.contains(`${n}${e}`)&&(r=t)})),r}function L(n,e,t,r){if(!(r.has(`${t}${e}`)||Math.max(e,t)>9||Math.min(e,t)<0||null===n[t][e]))return r.add(`${t}${e}`),L(n,e+1,t,r),L(n,e-1,t,r),L(n,e,t+1,r),L(n,e,t-1,r),r}function T(n){document.querySelector(".turn-text").innerHTML=n}async function w(){let n=await Math.floor(Math.random()*i.length);for(;n>=i.length;)n=await Math.floor(Math.random()*i.length);const e=await i[n];i.splice(n,1);let t=await Math.max(150,500*Math.random());await new Promise((n=>setTimeout(n,t))),M.bind(this)(e)}function O(n,e){for(let t=0;t<e.length;t++)if(e[t]===n){e.splice(t,1);break}}function M(n,e=!1){n.classList.contains("ship-present")?(n.textContent="X",T('COMPUTER <span class="highlighted red">HIT</span>'),R.bind(this)(n),i.length>0&&(v.bind(this)(n)?w.bind(this)():G.bind(this)(n,e))):(n.textContent="●",T('COMPUTER <span class="highlighted blue">MISSED</span>'),R.bind(this)(n),this.showOverlay(!1),this.opponent.showOverlay(!0),n.id="hit")}function R(e){if(!n)return;const[t,r]=B(e);this.opponent.gameboard.recieveAttack([r,t]),null!=this.opponent.gameboard.board[t][r]&&this.opponent.gameboard.board[t][r].sunk&&(T(`COMPUTER <span class="highlighted orange">SANK</span> ONE OF ${this.opponent.name.toUpperCase()}'S SHIP`),a=null,o=null,L(this.opponent.gameboard.board,r,t,new Set).forEach((n=>{let e=parseInt(n[1]),t=parseInt(n[0]);this.opponent.gridDivFromCoordinates(t,e).classList.add("sunk"),this.opponent.nearbyShipSquaresHit(e,t,i)})),this.opponent.updateClassListOnShipSunk(this.opponent.gameboard.board[t][r]),this.opponent.gameboard.allShipsSunk()&&D.bind(this)())}async function G(n=null,e=!1){if(a){if(e){const t=H(n);for(let n in t)a[n]=t[n];!function(n){o||(o=q.bind(this)(n));for(const n in a)s[o].includes(n)||delete a[n]}(e)}}else a=H(n);let t=await Math.max(150,500*Math.random());await new Promise((n=>setTimeout(n,t)));const[r,l]=P.bind(this)(a);O(r,i),M.bind(this)(r,l)}function H(n){const[e,t]=B(n),r=[[e+1,t,"beneath"],[e-1,t,"above"],[e,t+1,"right"],[e,t-1,"left"]],i={};for(let n of r){let[e,t,r]=n;const a=N(t,e);a&&(i[r]=a)}return i}function N(n,e){let t=null;return i.forEach((r=>{r.classList.contains(`${e}${n}`)&&(t=r)})),t}function P(n){const e=Object.keys(n)[0],t=n[e];return delete n[e],[t,e]}function q(n){return o="above"===n||"beneath"===n?"vertical":"horizontal",o}function z(){Array.from(document.querySelectorAll(".game-board.number")).forEach((n=>{n.removeEventListener("click",n._boundClickHandler)}))}function D(){const n=document.getElementById("gameEndingOverlay");n.style.display="flex",i&&(i.length=0),z.bind(this)();const e=document.querySelector(".winner-confirmation");let t;t=this.gameboard.allShipsSunk()?this.opponent.name:this.name,e.textContent=`Congratulations ${t.toUpperCase()} wins!        `,document.querySelector(".reset-btn").addEventListener("click",(()=>{n.style.display="none",document.querySelector(".grid-containers").innerHTML="",d.bind(this)(),this.opponent.resetShipsArray()}))}return{buildHTMLGrid:function(e){const t=document.getElementById(this.name+"Grid");for(let r=0;r<=9;r++)for(let i=0;i<=9;i++){const a=document.createElement("div");a.classList=`${t.classList} number ${r}${i}`,null!=n.board[r][i]&&(a.classList.add("ship-present"),e?a.classList.add("reveal"):a.classList.add("hidden")),t.appendChild(a)}},showOverlay:function(n,e=this.name){document.getElementById(e+"GridOverlay").style.display=n?"block":"none"},registerGridDivEventListener:function(){document.getElementById(this.name+"Grid").querySelectorAll("*").forEach((n=>{const e=y.bind(this,n);n._boundClickHandler=e,n.addEventListener("click",e)}))},buildHTMLDivContainers:function(){const n=document.querySelector(".grid-containers"),e=document.createElement("div");e.classList.add(`${this.name}-grid-container`),e.id=`${this.name}Container`,e.innerHTML=`\n        <h3 class="${this.name} title">${this.name.toUpperCase()}</h3>\n                <div class="${this.name}-grid game-board" id="${this.name}Grid">\n\n                </div>\n                <div class="grid-overlay" id="${this.name}GridOverlay"></div>\n        `,n.appendChild(e)},computerGuess:w,opponent:null,generateComputerGuesses:function(){i=[],document.getElementById(`${this.opponent.name}Grid`).querySelectorAll("*").forEach((n=>{i.push(n)}))},positionShips:n.positionShips,allShipsSunk:n.allShipsSunk,allShipsPlaced:n.allShipsPlaced,gameboard:n,gridDivFromCoordinates:k,nearbyShipSquaresHit:S,potentialComputerGuesses:i,buildShips:p,applyDraggableShips:m,buildButtonContainer:function(){const n=document.createElement("div");n.classList.add("btn-container");const e=document.createElement("button");e.classList.add(`${this.name}`,"horizontal-or-vertical-btn"),e.textContent="HORIZONTAL";const t=document.createElement("button");t.classList.add(`${this.name}`,"randomise-btn"),t.textContent="RANDOMISE";const r=document.createElement("button");r.classList.add(`${this.name}`,"confirm-btn"),r.textContent="CONFIRM";const i=document.createElement("button");i.classList.add(`${this.name}`,"reset-btn"),i.textContent="RESET",n.appendChild(e),n.appendChild(t),n.appendChild(i),n.appendChild(r),document.querySelector(`.${this.name}-grid.game-board`).insertAdjacentElement("afterend",n)},resetGrid:function(){for(let e=0;e<=9;e++)for(let t=0;t<=9;t++)n.board[e][t]=null,n.missed[e][t]=null;l.bind(this)(),d.bind(this)()},removeShips:h,removeButtons:c,hideGridShips:u,updateTurnText:T,updateClassListOnShipSunk:f,buildRules:A,removeRules:function(){const n=document.getElementById(`${this.name}GridOverlay`);this.showOverlay(!1),n.innerHTML=""},toggleShipsInvisible:function(){e.forEach((n=>{n.classList.add("invisible"),n.classList.remove("placing")}))},resetShips:function(){h.bind(this)(),p.bind(this)(),m.bind(this)()},resetHTMLGrid:l,progressFromShipPlacement:function(n){"computer"===this.opponent.name?(c.bind(this)(),h.bind(this)(),C(),this.opponent.removeRules()):"player2TurnStart"===n?(A.bind(this)(!0),h.bind(this)(),C(),this.opponent.removeRules(),this.opponent.buildShips(),this.opponent.applyDraggableShips()):"player2TurnFinish"===n&&(this.opponent.removeRules(),this.opponent.removeButtons(),h.bind(this)(),c.bind(this)(),C(),this.opponent.hideGridShips(),u.bind(this)())},resetShipsArray:d,planeOfPlacingShip:r}};let C=[];class y{constructor(n,e=0,t=!1){this.length=n,this.hits=e,this.sunk=t}}function I(n){if(null===n)return void console.log("Need to provide coordinates");let e;const[t,r,i,a]=n;if(t===r&&i===a)e=new y(1),C[i][t]=e;else if(t===r){const n=a-i+1;e=new y(n);for(let r=0;r<n;r++)C[i+r][t]=e}else{if(i!==a)throw Error;{const n=r-t+1;e=new y(n);for(let r=0;r<n;r++)C[i][t+r]=e}}}function v(n,e){const t=function(n,e){const t=[];for(let r=e-1;r<=e+1;r++)for(let e=n-1;e<=n+1;e++)Math.min(e,r)<0||Math.max(e,r)>9||null!=C[r][e]||t.push([e,r]);return t}(n,e);for(let n of t){const e=n[0],t=n[1];null===C[t][e]&&(C[t][e]="Nearby")}}async function B(){C=Array.from({length:10},(()=>Array(10).fill(null)));const n=["horizontal","vertical"],e=[{length:4},{length:3},{length:3},{length:2},{length:2},{length:2},{length:1},{length:1},{length:1},{length:1}],t=[];for(let r of e){let e=Math.round(Math.random());r.direction=n[e];let i,a,o,s,l=!1;for(;!l;){if("horizontal"===r.direction){let n=Math.round(9*Math.random());o=n,s=n,i=Math.round(9*Math.random()),a=i+(r.length-1),a>9&&(a=i,i=a-(r.length-1));let e=!1;for(let n=i;n<=a;n++)if(null!=C[o][n]){e=!0;break}if(e)continue}else{let n=Math.round(9*Math.random());i=n,a=n,o=Math.round(9*Math.random()),s=o+(r.length-1),s>9&&(s=o,o=s-(r.length-1));let e=!1;for(let n=o;n<=s;n++)if(null!=C[n][i]){e=!0;break}if(e)continue}if(await I([i,a,o,s]),"horizontal"===r.direction)for(let n=i;n<=a;n++)await v(n,o);else for(let n=o;n<=s;n++)await v(i,n);t.push([i,a,o,s]),l=!0}}return t}function E(n,e,t){n.classList.contains("player1"),n.textContent="HORIZONTAL"===n.textContent?"VERTICAL":"HORIZONTAL"}async function S(n,e,t){const r=await B();n.classList.contains("player1")?(e.resetGrid(),e.positionShips(r),e.buildHTMLGrid(!0),e.toggleShipsInvisible()):(t.resetGrid(),t.positionShips(r),t.buildHTMLGrid(!0),t.toggleShipsInvisible())}function x(n,e,t){n.classList.contains("player1")?(e.resetGrid(),e.buildHTMLGrid(!0),e.resetShips()):(t.resetGrid(),t.buildHTMLGrid(!0),t.resetShips())}function k(n,e=!1){let t;t=e?[document.querySelector("#player1GridOverlay"),document.querySelector("#computerGridOverlay")]:[document.querySelector("#player1GridOverlay"),document.querySelector("#player2GridOverlay")],"blue"===n?t.forEach((n=>{n.style.backgroundColor="rgb(73, 110, 235)"})):"partially-transparent"===n&&t.forEach((n=>{n.style.backgroundColor="rgba(0, 0, 0, 0.5)"}))}!async function n(){let e=await function(){const n=document.getElementById("overallOverlay");n.style.display="block";const e=document.createElement("div");e.classList.add("centered-container"),e.innerHTML='\n        <h1 class="welcome-title">WELCOME TO BATTLESHIPS:</h1>\n        <div class="player-selection">\n            <h3>PLAYER</h3>\n            <h3>VS</h3>\n            <div class="player-selection-container">\n                <div class="player-2-btn-container">\n                    <button class="player-2-btn">PLAYER</button>\n                </div>\n                <div class="computer-btn-container">\n                    <button class="computer-btn">COMPUTER</button>\n                </div>\n            </div>\n            <div class="player-selection-overlay"></div>            \n        </div>\n        ',n.appendChild(e);const t=document.querySelector(".player-2-btn"),r=document.querySelector(".computer-btn"),i=new Promise(((e,r)=>{t.addEventListener("click",(()=>{console.log("PLAYER BUTTON PRESSED"),n.innerHTML="",n.style.display="none",e("player")}))})),a=new Promise(((e,t)=>{r.addEventListener("click",(()=>{console.log("COMPUTER BUTTON PRESSED"),n.innerHTML="",n.style.display="none",e("computer")}))}));return Promise.any([i,a])}();"player"===e&&(e="player2");const t=f();t.name="player1";const r=f();r.name=`${e}`,t.buildHTMLDivContainers(),r.buildHTMLDivContainers(),t.opponent=r,r.opponent=t,t.updateTurnText(`${t.name.toUpperCase()} <span class="highlighted green">PLACE YOUR SHIPS</span>`),t.buildHTMLGrid(!0),t.buildShips(),t.applyDraggableShips(),"computer"===r.name?(r.buildRules(),t.buildButtonContainer(),r.buildHTMLGrid(!1),k("blue",!0)):(r.buildRules(!0),t.buildButtonContainer(),r.buildButtonContainer(),r.buildHTMLGrid(!0));const i=document.querySelectorAll(".horizontal-or-vertical-btn");for(const n of i)n.onclick=()=>E(n);const a=document.querySelectorAll(".randomise-btn");for(const n of a)n.onclick=()=>S(n,t,r);const o=document.querySelectorAll(".reset-btn");for(const n of o)n.onclick=()=>x(n,t,r);if(await async function(n,e){"computer"===e.name?await function(n,e){const t=document.querySelector(".player1.confirm-btn");let r;return new Promise((e=>{r=e,t.onclick=()=>{n.allShipsPlaced()&&(n.progressFromShipPlacement(),k("partially-transparent",!0),e())}}))}(n):await function(n,e){k("blue"),document.querySelector(".player1.confirm-btn").onclick=()=>{n.allShipsPlaced()&&(n.progressFromShipPlacement("player2TurnStart"),e.updateTurnText(`${e.name.toUpperCase()} <span class="highlighted green">PLACE YOUR SHIPS</span>`))};const t=document.querySelector(".player2.confirm-btn");let r;return new Promise((n=>{r=n,t.onclick=()=>{e.allShipsPlaced()&&(e.progressFromShipPlacement("player2TurnFinish"),k("partially-transparent"),n())}}))}(n,e)}(t,r),"computer"===r.name){r.resetGrid(),r.generateComputerGuesses();const n=await B();r.positionShips(n),r.buildHTMLGrid(!1)}else t.resetHTMLGrid(),t.buildHTMLGrid(),r.resetHTMLGrid(),r.buildHTMLGrid(),t.registerGridDivEventListener();t.buildShips(),r.buildShips(),r.registerGridDivEventListener();let s=function(n){let e=Math.random(),t=Math.round(e),r=n[t].name;return document.querySelector(".turn-text").textContent=`${r.toUpperCase()} GOES FIRST`,n[t]}([t,r]);s.showOverlay(!0),"computer"===s.name&&(console.log("COMPUTER GUESSED FIRST"),r.computerGuess()),document.querySelector(".reset-btn").addEventListener("click",n)}()}},n=>{n(n.s=681)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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d0JBQ2pELElBQUlpUSxFQStCSixPQTdCc0IsSUFBSXRGLFNBQVFDLElBRTlCcUYsRUFBaUJyRixFQUVqQnVGLEVBQWtCTixRQUFVLEtBRXBCbkIsRUFBUTNLLG1CQUNSMkssRUFBUWQsMEJBQTBCLHFCQWFsQ2lCLEVBQWlCLHlCQUdqQmpFLElBQ0osQ0FDSixHQUtSLENBekVjd0YsQ0FBc0IzQixFQUFTQyxFQUU3QyxDQzBCVTJCLENBQXNCNUIsRUFBU0MsR0FLaEIsYUFBakJBLEVBQVE3SixLQUFxQixDQUc3QjZKLEVBQVFsQixZQUdSa0IsRUFBUXpCLDBCQUNSLE1BQU1xRCxRQUE0QnRDLElBQ2xDVSxFQUFRM0wsY0FBY3VOLEdBR3RCNUIsRUFBUWpDLGVBQWMsRUFDMUIsTUFFSWdDLEVBQVE3SixnQkFDUjZKLEVBQVFoQyxnQkFFUmlDLEVBQVE5SixnQkFDUjhKLEVBQVFqQyxnQkFHUmdDLEVBQVE3QiwrQkFHWjZCLEVBQVFqSixhQUNSa0osRUFBUWxKLGFBRVJrSixFQUFROUIsK0JBR1IsSUFBSTJELEVDMUdSLFNBQW1CQyxHQUNmLElBQUlDLEVBQVM1RyxLQUFLVyxTQUNkbEwsRUFBUXVLLEtBQUtxRSxNQUFNdUMsR0FDbkJDLEVBQVFGLEVBQVFsUixHQUFPdUYsS0FLM0IsT0FIZ0I5RSxTQUFTQyxjQUFjLGNBQy9CeUcsWUFBYyxHQUFHaUssRUFBTS9ILDJCQUV4QjZILEVBQVFsUixFQUNuQixDRGlHZXFSLENBQVUsQ0FBQ2xDLEVBQVNDLElBQy9CNkIsRUFBS25MLGFBQVksR0FFQyxhQUFkbUwsRUFBSzFMLE9BQ0w1QixRQUFRQyxJQUFJLDBCQUNad0wsRUFBUTdGLGlCQUlXOUksU0FBU0MsY0FBYyxjQUMvQmlILGlCQUFpQixRQUFTaUksRUFDN0MsQ0FFQUEsRSIsInNvdXJjZXMiOlsid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL3N0eWxlcy5jc3MiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9zdHlsZXMuY3NzPzQ0YjIiLCJ3ZWJwYWNrOi8vYmF0dGxlc2hpcHMvLi9zcmMvY2xhc3NDcmVhdG9yLmpzIiwid2VicGFjazovL2JhdHRsZXNoaXBzLy4vc3JjL3JhbmRvbWlzZS5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9idXR0b25Mb2dpYy5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9iYXR0bGVzaGlwcy8uL3NyYy9nb2VzRmlyc3QuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgYGJvZHkge1xyXG4gICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbn1cclxuXHJcbi5wbGF5ZXIxLWdyaWQubnVtYmVyLCAucGxheWVyMi1ncmlkLm51bWJlciwgLmNvbXB1dGVyLWdyaWQubnVtYmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgY29sb3I6IGJsYWNrO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmNlbnRlcmVkLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGhlaWdodDogMTAwJTsgLyogQWRqdXN0IGFzIG5lZWRlZCAqL1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG59XHJcblxyXG4jZ2FtZUVuZGluZ092ZXJsYXkge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcblxyXG59XHJcblxyXG4ucmVzZXQtYnRuLWRpdiB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBwYWRkaW5nOiAxNnB4O1xyXG59XHJcblxyXG4ud2VsY29tZS10aXRsZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleDogNDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xyXG59XHJcblxyXG4ucGxheWVyLXNlbGVjdGlvbiB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBnYXA6IDJlbTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcclxuICAgIC8qIGhlaWdodDogMTAwJTsgKi9cclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZmxleDogNTtcclxuICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xyXG59XHJcblxyXG4ucGxheWVyLXNlbGVjdGlvbi1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMWVtO1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxufVxyXG5cclxuLnBsYXllci0yLWJ0bi1jb250YWluZXIsIC5jb21wdXRlci1idG4tY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxufVxyXG5cclxuI2hpdCwgI3JldmVhbGVkTWlzcyB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmJiMmIyNzk7XHJcbn1cclxuXHJcbiNyZXZlYWxlZE1pc3Mge1xyXG4gICAgY29sb3I6IHJnYigxMTgsIDExNSwgMTE1KTtcclxufVxyXG5cclxuLnBsYXllcjEtZ3JpZC5udW1iZXIuc2hpcC1wcmVzZW50LCAucGxheWVyMi1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQsIC5jb21wdXRlci1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQge1xyXG4gICAgY29sb3I6IHJlZDtcclxufVxyXG5cclxuLyogU0hJUCBQTEFDSU5HICovXHJcbmRpdi5wbGF5ZXIxLWdyaWQubnVtYmVyLmhpZ2hsaWdodCwgZGl2LnBsYXllcjItZ3JpZC5udW1iZXIuaGlnaGxpZ2h0LCBkaXYuY29tcHV0ZXItZ3JpZC5udW1iZXIuaGlnaGxpZ2h0IHtcclxuICAgIC8qIENIT1NFIEJPUkRFUiBBUyBJVCBJUyBFQVNJRVIgVE8gU0VFIFdIRU4gUExBQ0lORyAqL1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgcmdiKDM4LCAyMDksIDM4KTtcclxufVxyXG5cclxuZGl2LnBsYXllcjEtZ3JpZC5udW1iZXIubm90LXZhbGlkLCBkaXYucGxheWVyMi1ncmlkLm51bWJlci5ub3QtdmFsaWQge1xyXG4gICAgLyogQVBQTFlJTkcgQk9SREVSIEFMTE9XUyBVU0VSIFRPIERFVEVSTUlORSBXSEFUIElTIEJFSElORCBUSEUgQ1VSU09SXHJcbiAgICBORUNFU1NBUlkgVE8gUkVEVUNFIFdJRFRIIEFORCBIRUlHSFQgQlkgQk9SREVSIEZPUiBOTyBCVUdTICovXHJcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZWQ7XHJcbiAgICB3aWR0aDogMjhweDtcclxuICAgIGhlaWdodDogMjhweDtcclxufVxyXG5cclxuLnNoYWtpbmctYW5pbWF0aW9uIHtcclxuICAgIGFuaW1hdGlvbi1uYW1lOiBzaGFrZUFuaW1hdGlvbjtcclxuICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogMC4yNXM7XHJcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xyXG59XHJcblxyXG5Aa2V5ZnJhbWVzIHNoYWtlQW5pbWF0aW9uIHtcclxuICAgIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9XHJcbiAgICAxNSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cclxuICAgIDMwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9XHJcbiAgICA0NSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cclxuICAgIDYwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9XHJcbiAgICA3NSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cclxuICAgIDEwMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cclxuICB9XHJcblxyXG5cclxuLyogRFJBR0dBQkxFIFNISVBTICovXHJcbi5zaGlwLWNvbnRhaW5lci0xLCAuc2hpcC1jb250YWluZXItMiwgLnNoaXAtY29udGFpbmVyLTMge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGFsaWduLWl0ZW1zOiBlbmQ7XHJcbn1cclxuXHJcbi5zaGlwcy1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGdhcDogMWVtO1xyXG4gICAgZ3JpZC1hcmVhOiAxIC8gMSAvIC0yIC8gMTtcclxuICAgIHBhZGRpbmc6IDFlbTtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cIjFcIl0sIC5kcmFnZ2FibGUtc2hpcC52ZXJ0aWNhbFtkYXRhLXNpemU9XCIxXCJdIHtcclxuICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgaGVpZ2h0OiAzMnB4O1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXBbZGF0YS1zaXplPVwiMlwiXSB7XHJcbiAgICB3aWR0aDogMzJweDtcclxuICAgIGhlaWdodDogNjRweDtcclxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwLnZlcnRpY2FsW2RhdGEtc2l6ZT1cIjJcIl0ge1xyXG4gICAgd2lkdGg6IDY0cHg7XHJcbiAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XCIzXCJdIHtcclxuICAgIHdpZHRoOiAzMnB4O1xyXG4gICAgaGVpZ2h0OiA5NnB4O1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXAudmVydGljYWxbZGF0YS1zaXplPVwiM1wiXSB7XHJcbiAgICB3aWR0aDogOTZweDtcclxuICAgIGhlaWdodDogMzJweDtcclxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cIjRcIl0ge1xyXG4gICAgd2lkdGg6IDMycHg7XHJcbiAgICBoZWlnaHQ6IDEyOHB4O1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXAudmVydGljYWxbZGF0YS1zaXplPVwiNFwiXSB7XHJcbiAgICB3aWR0aDogMTI4cHg7XHJcbiAgICBoZWlnaHQ6IDMycHg7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbn1cclxuXHJcbmgzLnRpdGxlIHtcclxuICAgIGdyaWQtYXJlYTogMSAvIDI7XHJcbn1cclxuXHJcbiNwbGF5ZXIxR3JpZCwgI3BsYXllcjJHcmlkLCAjY29tcHV0ZXJHcmlkIHtcclxuICAgIGRpc3BsYXk6IGdyaWQ7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgMzJweCk7XHJcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMzJweCk7XHJcbiAgICBncmlkLWdhcDogMnB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRibHVlO1xyXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRibHVlO1xyXG5cclxuICAgIGdyaWQtYXJlYTogMiAvIDI7XHJcbiAgICBoZWlnaHQ6IG1heC1jb250ZW50O1xyXG4gICAgXHJcbn1cclxuXHJcbiNwbGF5ZXIxR3JpZE92ZXJsYXksICNwbGF5ZXIyR3JpZE92ZXJsYXksICNjb21wdXRlckdyaWRPdmVybGF5IHtcclxuICAgIHBhZGRpbmctbGVmdDogMWVtO1xyXG4gICAgcGFkZGluZy1yaWdodDogMWVtO1xyXG4gICAgY29sb3I6IHJnYigyMzcsIDIzMywgMjMzKTtcclxufVxyXG5cclxuLmdyaWQtY29udGFpbmVycyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZ2FwOiAyZW07XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWV2ZW5seTtcclxufVxyXG5cclxuaDEge1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG59XHJcblxyXG4vKiBPTkxZIGNvbG91ciBwbGF5ZXIgZ3JpZCAqL1xyXG4uc2hpcC1wcmVzZW50LnJldmVhbCB7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuLnN0YXJ0LWJ1dHRvbi1jb250YWluZXJ7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMzJweDtcclxufVxyXG5cclxuLnN0YXJ0LWJ1dHRvbiwgLnJlc2V0LWJ0biwgLnJhbmRvbWlzZS1idG4sIC5jb25maXJtLWJ0biwgLmhvcml6b250YWwtb3ItdmVydGljYWwtYnRuIHtcclxuICAgIGZvbnQtc2l6ZTogbGFyZ2U7XHJcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xyXG59XHJcblxyXG4uaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG4ge1xyXG4gICAgbWluLXdpZHRoOiAxMzQuNjdweFxyXG59XHJcblxyXG5oMyB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi8qIEdSSUQgQ09OVEFJTkVSUyAqL1xyXG4ucGxheWVyMS1ncmlkLWNvbnRhaW5lciwgLnBsYXllcjItZ3JpZC1jb250YWluZXIsIC5jb21wdXRlci1ncmlkLWNvbnRhaW5lciB7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBkaXNwbGF5OiBncmlkO1xyXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDFmcjtcclxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogYXV0byAxZnIgYXV0bztcclxuICAgIGdhcDogMWVtO1xyXG5cclxuICAgIHBhZGRpbmctcmlnaHQ6IDFlbTsgLyogS2VlcHMgdGhlIGF0aGVzdGV0aWMgd2l0aCB0aGUgb3ZlcmxheSBldmVuICovXHJcbn1cclxuXHJcbi5idG4tY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICBncmlkLWFyZWE6IDMgLyAxIC8gMyAvIC0xO1xyXG59XHJcblxyXG4uZ3JpZC1vdmVybGF5IHtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41KTsgLyogU2VtaS10cmFuc3BhcmVudCBibGFjayBvdmVybGF5ICovXHJcbiAgICBkaXNwbGF5OiBub25lOyAvKiBJbml0aWFsbHkgaGlkZGVuICovXHJcbn1cclxuXHJcbi5zaGlwLXByZXNlbnQucmV2ZWFsLnN1bmsge1xyXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHJlZDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXAuc3VuayB7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgcmVkO1xyXG59XHJcblxyXG4uZHJhZ2dhYmxlLXNoaXAucGxhY2luZyB7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgcmdiKDM4LCAyMDksIDM4KTtcclxufVxyXG5cclxuLmRyYWdnYWJsZS1zaGlwLmludmlzaWJsZSB7XHJcbiAgICBvdXRsaW5lOiAycHggc29saWQgd2hpdGU7XHJcbn1cclxuXHJcblxyXG4vKiBDT0xPVVJTIEZPUiBTUEFOJ1MgSU4gVFVSTiBURVhUICovXHJcbi8qIEhJVCAqL1xyXG4uaGlnaGxpZ2h0ZWQucmVkIHtcclxuICAgIGNvbG9yOiBsaWdodGNvcmFsO1xyXG59XHJcblxyXG4vKiBTVU5LICovXHJcbi5oaWdobGlnaHRlZC5vcmFuZ2Uge1xyXG4gICAgY29sb3I6IG9yYW5nZTtcclxufVxyXG5cclxuLyogTUlTU0VEICovXHJcbi5oaWdobGlnaHRlZC5ibHVlIHtcclxuICAgIGNvbG9yOiBsaWdodHNreWJsdWU7XHJcbn1cclxuXHJcbi8qIFBMQUNJTkcgKi9cclxuLmhpZ2hsaWdodGVkLmdyZWVuIHtcclxuICAgIGNvbG9yOiByZ2IoMzgsIDIwOSwgMzgpO1xyXG59YCwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvc3R5bGVzLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGlCQUFpQjtBQUNyQjs7QUFFQTtJQUNJLHVCQUF1QjtJQUN2QixZQUFZO0lBQ1osYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFlBQVksRUFBRSxxQkFBcUI7SUFDbkMsb0NBQW9D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RUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztJQUNQLFdBQVc7SUFDWCxZQUFZO0lBQ1osb0NBQW9DLEVBQUUsbUNBQW1DO0lBQ3pFLGFBQWEsRUFBRSxxQkFBcUI7QUFDeEM7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsV0FBVztJQUNYLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxtQ0FBbUM7QUFDdkM7O0FBRUE7SUFDSSx3QkFBd0I7QUFDNUI7OztBQUdBLG9DQUFvQztBQUNwQyxRQUFRO0FBQ1I7SUFDSSxpQkFBaUI7QUFDckI7O0FBRUEsU0FBUztBQUNUO0lBQ0ksYUFBYTtBQUNqQjs7QUFFQSxXQUFXO0FBQ1g7SUFDSSxtQkFBbUI7QUFDdkI7O0FBRUEsWUFBWTtBQUNaO0lBQ0ksdUJBQXVCO0FBQzNCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcImJvZHkge1xcclxcbiAgICB1c2VyLXNlbGVjdDogbm9uZTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllcjEtZ3JpZC5udW1iZXIsIC5wbGF5ZXIyLWdyaWQubnVtYmVyLCAuY29tcHV0ZXItZ3JpZC5udW1iZXIge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcXHJcXG4gICAgY29sb3I6IGJsYWNrO1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLmNlbnRlcmVkLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxuICAgIGhlaWdodDogMTAwJTsgLyogQWRqdXN0IGFzIG5lZWRlZCAqL1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjU1LCAyNTUsIDI1NSk7XFxyXFxufVxcclxcblxcclxcbiNnYW1lRW5kaW5nT3ZlcmxheSB7XFxyXFxuICAgIGRpc3BsYXk6IG5vbmU7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcXHJcXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXHJcXG4gICAgaGVpZ2h0OiBhdXRvO1xcclxcblxcclxcbn1cXHJcXG5cXHJcXG4ucmVzZXQtYnRuLWRpdiB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG4gICAgcGFkZGluZzogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuLndlbGNvbWUtdGl0bGUge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBmbGV4OiA0O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcclxcbn1cXHJcXG5cXHJcXG4ucGxheWVyLXNlbGVjdGlvbiB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBnYXA6IDJlbTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xcclxcbiAgICAvKiBoZWlnaHQ6IDEwMCU7ICovXFxyXFxuICAgIHdpZHRoOiAxMDAlO1xcclxcbiAgICBmbGV4OiA1O1xcclxcbiAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllci1zZWxlY3Rpb24tY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZ2FwOiAxZW07XFxyXFxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxyXFxufVxcclxcblxcclxcbi5wbGF5ZXItMi1idG4tY29udGFpbmVyLCAuY29tcHV0ZXItYnRuLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4jaGl0LCAjcmV2ZWFsZWRNaXNzIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2JiYjJiMjc5O1xcclxcbn1cXHJcXG5cXHJcXG4jcmV2ZWFsZWRNaXNzIHtcXHJcXG4gICAgY29sb3I6IHJnYigxMTgsIDExNSwgMTE1KTtcXHJcXG59XFxyXFxuXFxyXFxuLnBsYXllcjEtZ3JpZC5udW1iZXIuc2hpcC1wcmVzZW50LCAucGxheWVyMi1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQsIC5jb21wdXRlci1ncmlkLm51bWJlci5zaGlwLXByZXNlbnQge1xcclxcbiAgICBjb2xvcjogcmVkO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBTSElQIFBMQUNJTkcgKi9cXHJcXG5kaXYucGxheWVyMS1ncmlkLm51bWJlci5oaWdobGlnaHQsIGRpdi5wbGF5ZXIyLWdyaWQubnVtYmVyLmhpZ2hsaWdodCwgZGl2LmNvbXB1dGVyLWdyaWQubnVtYmVyLmhpZ2hsaWdodCB7XFxyXFxuICAgIC8qIENIT1NFIEJPUkRFUiBBUyBJVCBJUyBFQVNJRVIgVE8gU0VFIFdIRU4gUExBQ0lORyAqL1xcclxcbiAgICBib3JkZXI6IDJweCBzb2xpZCByZ2IoMzgsIDIwOSwgMzgpO1xcclxcbn1cXHJcXG5cXHJcXG5kaXYucGxheWVyMS1ncmlkLm51bWJlci5ub3QtdmFsaWQsIGRpdi5wbGF5ZXIyLWdyaWQubnVtYmVyLm5vdC12YWxpZCB7XFxyXFxuICAgIC8qIEFQUExZSU5HIEJPUkRFUiBBTExPV1MgVVNFUiBUTyBERVRFUk1JTkUgV0hBVCBJUyBCRUhJTkQgVEhFIENVUlNPUlxcclxcbiAgICBORUNFU1NBUlkgVE8gUkVEVUNFIFdJRFRIIEFORCBIRUlHSFQgQlkgQk9SREVSIEZPUiBOTyBCVUdTICovXFxyXFxuICAgIGJvcmRlcjogMnB4IHNvbGlkIHJlZDtcXHJcXG4gICAgd2lkdGg6IDI4cHg7XFxyXFxuICAgIGhlaWdodDogMjhweDtcXHJcXG59XFxyXFxuXFxyXFxuLnNoYWtpbmctYW5pbWF0aW9uIHtcXHJcXG4gICAgYW5pbWF0aW9uLW5hbWU6IHNoYWtlQW5pbWF0aW9uO1xcclxcbiAgICBhbmltYXRpb24tZHVyYXRpb246IDAuMjVzO1xcclxcbiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxO1xcclxcbn1cXHJcXG5cXHJcXG5Aa2V5ZnJhbWVzIHNoYWtlQW5pbWF0aW9uIHtcXHJcXG4gICAgMCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH1cXHJcXG4gICAgMTUlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01cHgpOyB9XFxyXFxuICAgIDMwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCg1cHgpOyB9XFxyXFxuICAgIDQ1JSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNXB4KTsgfVxcclxcbiAgICA2MCUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoNXB4KTsgfVxcclxcbiAgICA3NSUgeyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTVweCk7IH1cXHJcXG4gICAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfVxcclxcbiAgfVxcclxcblxcclxcblxcclxcbi8qIERSQUdHQUJMRSBTSElQUyAqL1xcclxcbi5zaGlwLWNvbnRhaW5lci0xLCAuc2hpcC1jb250YWluZXItMiwgLnNoaXAtY29udGFpbmVyLTMge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBhbGlnbi1pdGVtczogZW5kO1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcHMtY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZ2FwOiAxZW07XFxyXFxuICAgIGdyaWQtYXJlYTogMSAvIDEgLyAtMiAvIDE7XFxyXFxuICAgIHBhZGRpbmc6IDFlbTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cXFwiMVxcXCJdLCAuZHJhZ2dhYmxlLXNoaXAudmVydGljYWxbZGF0YS1zaXplPVxcXCIxXFxcIl0ge1xcclxcbiAgICB3aWR0aDogMzJweDtcXHJcXG4gICAgaGVpZ2h0OiAzMnB4O1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwW2RhdGEtc2l6ZT1cXFwiMlxcXCJdIHtcXHJcXG4gICAgd2lkdGg6IDMycHg7XFxyXFxuICAgIGhlaWdodDogNjRweDtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxufVxcclxcblxcclxcbi5kcmFnZ2FibGUtc2hpcC52ZXJ0aWNhbFtkYXRhLXNpemU9XFxcIjJcXFwiXSB7XFxyXFxuICAgIHdpZHRoOiA2NHB4O1xcclxcbiAgICBoZWlnaHQ6IDMycHg7XFxyXFxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlLXNoaXBbZGF0YS1zaXplPVxcXCIzXFxcIl0ge1xcclxcbiAgICB3aWR0aDogMzJweDtcXHJcXG4gICAgaGVpZ2h0OiA5NnB4O1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwLnZlcnRpY2FsW2RhdGEtc2l6ZT1cXFwiM1xcXCJdIHtcXHJcXG4gICAgd2lkdGg6IDk2cHg7XFxyXFxuICAgIGhlaWdodDogMzJweDtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIGRhcmtibHVlO1xcclxcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XFxyXFxufVxcclxcblxcclxcbi5kcmFnZ2FibGUtc2hpcFtkYXRhLXNpemU9XFxcIjRcXFwiXSB7XFxyXFxuICAgIHdpZHRoOiAzMnB4O1xcclxcbiAgICBoZWlnaHQ6IDEyOHB4O1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgZGFya2JsdWU7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwLnZlcnRpY2FsW2RhdGEtc2l6ZT1cXFwiNFxcXCJdIHtcXHJcXG4gICAgd2lkdGg6IDEyOHB4O1xcclxcbiAgICBoZWlnaHQ6IDMycHg7XFxyXFxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcXHJcXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xcclxcbn1cXHJcXG5cXHJcXG5oMy50aXRsZSB7XFxyXFxuICAgIGdyaWQtYXJlYTogMSAvIDI7XFxyXFxufVxcclxcblxcclxcbiNwbGF5ZXIxR3JpZCwgI3BsYXllcjJHcmlkLCAjY29tcHV0ZXJHcmlkIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDMycHgpO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgMzJweCk7XFxyXFxuICAgIGdyaWQtZ2FwOiAycHg7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Ymx1ZTtcXHJcXG4gICAgYm9yZGVyOiAycHggc29saWQgbGlnaHRibHVlO1xcclxcblxcclxcbiAgICBncmlkLWFyZWE6IDIgLyAyO1xcclxcbiAgICBoZWlnaHQ6IG1heC1jb250ZW50O1xcclxcbiAgICBcXHJcXG59XFxyXFxuXFxyXFxuI3BsYXllcjFHcmlkT3ZlcmxheSwgI3BsYXllcjJHcmlkT3ZlcmxheSwgI2NvbXB1dGVyR3JpZE92ZXJsYXkge1xcclxcbiAgICBwYWRkaW5nLWxlZnQ6IDFlbTtcXHJcXG4gICAgcGFkZGluZy1yaWdodDogMWVtO1xcclxcbiAgICBjb2xvcjogcmdiKDIzNywgMjMzLCAyMzMpO1xcclxcbn1cXHJcXG5cXHJcXG4uZ3JpZC1jb250YWluZXJzIHtcXHJcXG4gICAgZGlzcGxheTogZmxleDtcXHJcXG4gICAgZ2FwOiAyZW07XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtZXZlbmx5O1xcclxcbn1cXHJcXG5cXHJcXG5oMSB7XFxyXFxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXHJcXG59XFxyXFxuXFxyXFxuLyogT05MWSBjb2xvdXIgcGxheWVyIGdyaWQgKi9cXHJcXG4uc2hpcC1wcmVzZW50LnJldmVhbCB7XFxyXFxuICAgIG91dGxpbmU6IDJweCBzb2xpZCBkYXJrYmx1ZTtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLnN0YXJ0LWJ1dHRvbi1jb250YWluZXJ7XFxyXFxuICAgIGRpc3BsYXk6IGZsZXg7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcclxcbiAgICBtYXJnaW4tdG9wOiAzMnB4O1xcclxcbn1cXHJcXG5cXHJcXG4uc3RhcnQtYnV0dG9uLCAucmVzZXQtYnRuLCAucmFuZG9taXNlLWJ0biwgLmNvbmZpcm0tYnRuLCAuaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG4ge1xcclxcbiAgICBmb250LXNpemU6IGxhcmdlO1xcclxcbiAgICBwYWRkaW5nOiA0cHggOHB4O1xcclxcbn1cXHJcXG5cXHJcXG4uaG9yaXpvbnRhbC1vci12ZXJ0aWNhbC1idG4ge1xcclxcbiAgICBtaW4td2lkdGg6IDEzNC42N3B4XFxyXFxufVxcclxcblxcclxcbmgzIHtcXHJcXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBHUklEIENPTlRBSU5FUlMgKi9cXHJcXG4ucGxheWVyMS1ncmlkLWNvbnRhaW5lciwgLnBsYXllcjItZ3JpZC1jb250YWluZXIsIC5jb21wdXRlci1ncmlkLWNvbnRhaW5lciB7XFxyXFxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIDFmcjtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBhdXRvIDFmciBhdXRvO1xcclxcbiAgICBnYXA6IDFlbTtcXHJcXG5cXHJcXG4gICAgcGFkZGluZy1yaWdodDogMWVtOyAvKiBLZWVwcyB0aGUgYXRoZXN0ZXRpYyB3aXRoIHRoZSBvdmVybGF5IGV2ZW4gKi9cXHJcXG59XFxyXFxuXFxyXFxuLmJ0bi1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBmbGV4O1xcclxcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxyXFxuICAgIGdyaWQtYXJlYTogMyAvIDEgLyAzIC8gLTE7XFxyXFxufVxcclxcblxcclxcbi5ncmlkLW92ZXJsYXkge1xcclxcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxyXFxuICAgIHRvcDogMDtcXHJcXG4gICAgbGVmdDogMDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjUpOyAvKiBTZW1pLXRyYW5zcGFyZW50IGJsYWNrIG92ZXJsYXkgKi9cXHJcXG4gICAgZGlzcGxheTogbm9uZTsgLyogSW5pdGlhbGx5IGhpZGRlbiAqL1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcC1wcmVzZW50LnJldmVhbC5zdW5rIHtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHJlZDtcXHJcXG4gICAgd2lkdGg6IDEwMCU7XFxyXFxuICAgIGhlaWdodDogMTAwJTtcXHJcXG59XFxyXFxuXFxyXFxuLmRyYWdnYWJsZS1zaGlwLnN1bmsge1xcclxcbiAgICBvdXRsaW5lOiAycHggc29saWQgcmVkO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlLXNoaXAucGxhY2luZyB7XFxyXFxuICAgIG91dGxpbmU6IDJweCBzb2xpZCByZ2IoMzgsIDIwOSwgMzgpO1xcclxcbn1cXHJcXG5cXHJcXG4uZHJhZ2dhYmxlLXNoaXAuaW52aXNpYmxlIHtcXHJcXG4gICAgb3V0bGluZTogMnB4IHNvbGlkIHdoaXRlO1xcclxcbn1cXHJcXG5cXHJcXG5cXHJcXG4vKiBDT0xPVVJTIEZPUiBTUEFOJ1MgSU4gVFVSTiBURVhUICovXFxyXFxuLyogSElUICovXFxyXFxuLmhpZ2hsaWdodGVkLnJlZCB7XFxyXFxuICAgIGNvbG9yOiBsaWdodGNvcmFsO1xcclxcbn1cXHJcXG5cXHJcXG4vKiBTVU5LICovXFxyXFxuLmhpZ2hsaWdodGVkLm9yYW5nZSB7XFxyXFxuICAgIGNvbG9yOiBvcmFuZ2U7XFxyXFxufVxcclxcblxcclxcbi8qIE1JU1NFRCAqL1xcclxcbi5oaWdobGlnaHRlZC5ibHVlIHtcXHJcXG4gICAgY29sb3I6IGxpZ2h0c2t5Ymx1ZTtcXHJcXG59XFxyXFxuXFxyXFxuLyogUExBQ0lORyAqL1xcclxcbi5oaWdobGlnaHRlZC5ncmVlbiB7XFxyXFxuICAgIGNvbG9yOiByZ2IoMzgsIDIwOSwgMzgpO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKlxyXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxyXG4qL1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XHJcbiAgdmFyIGxpc3QgPSBbXTtcclxuXHJcbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xyXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcclxuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XHJcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcclxuICAgICAgaWYgKGl0ZW1bNF0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGl0ZW1bMl0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcclxuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XHJcbiAgICAgIH1cclxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xyXG4gICAgICBpZiAobmVlZExheWVyKSB7XHJcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXRlbVsyXSkge1xyXG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGl0ZW1bNF0pIHtcclxuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBjb250ZW50O1xyXG4gICAgfSkuam9pbihcIlwiKTtcclxuICB9O1xyXG5cclxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxyXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XHJcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XHJcbiAgICB9XHJcbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xyXG4gICAgaWYgKGRlZHVwZSkge1xyXG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xyXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcclxuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xyXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcclxuICAgICAgICBjb250aW51ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XHJcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChtZWRpYSkge1xyXG4gICAgICAgIGlmICghaXRlbVsyXSkge1xyXG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcclxuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHN1cHBvcnRzKSB7XHJcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XHJcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xyXG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gbGlzdDtcclxufTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XHJcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xyXG4gIGlmICghY3NzTWFwcGluZykge1xyXG4gICAgcmV0dXJuIGNvbnRlbnQ7XHJcbiAgfVxyXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XHJcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XHJcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcclxuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcclxuICB9XHJcbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xyXG59OyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxudmFyIHN0eWxlc0luRE9NID0gW107XHJcbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcclxuICB2YXIgcmVzdWx0ID0gLTE7XHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcclxuICAgICAgcmVzdWx0ID0gaTtcclxuICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn1cclxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcclxuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xyXG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xyXG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XHJcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xyXG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XHJcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcclxuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgdmFyIG9iaiA9IHtcclxuICAgICAgY3NzOiBpdGVtWzFdLFxyXG4gICAgICBtZWRpYTogaXRlbVsyXSxcclxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxyXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcclxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cclxuICAgIH07XHJcbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XHJcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XHJcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xyXG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xyXG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xyXG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXHJcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcclxuICAgICAgICByZWZlcmVuY2VzOiAxXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcclxuICB9XHJcbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xyXG59XHJcbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcclxuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XHJcbiAgYXBpLnVwZGF0ZShvYmopO1xyXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcclxuICAgIGlmIChuZXdPYmopIHtcclxuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhcGkucmVtb3ZlKCk7XHJcbiAgICB9XHJcbiAgfTtcclxuICByZXR1cm4gdXBkYXRlcjtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XHJcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgbGlzdCA9IGxpc3QgfHwgW107XHJcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcclxuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcclxuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XHJcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xyXG4gICAgfVxyXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XHJcbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XHJcbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcclxuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcclxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xyXG4gIH07XHJcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG52YXIgbWVtbyA9IHt9O1xyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcclxuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpO1xyXG5cclxuICAgIC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXHJcbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcclxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xyXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxyXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XHJcbiAgfVxyXG4gIHJldHVybiBtZW1vW3RhcmdldF07XHJcbn1cclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcclxuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XHJcbiAgaWYgKCF0YXJnZXQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XHJcbiAgfVxyXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xyXG5cclxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXHJcbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XHJcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XHJcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XHJcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcclxuICByZXR1cm4gZWxlbWVudDtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XHJcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xyXG4gIGlmIChub25jZSkge1xyXG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcclxuICB9XHJcbn1cclxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cclxuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcclxuICB2YXIgY3NzID0gXCJcIjtcclxuICBpZiAob2JqLnN1cHBvcnRzKSB7XHJcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xyXG4gIH1cclxuICBpZiAob2JqLm1lZGlhKSB7XHJcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcclxuICB9XHJcbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XHJcbiAgaWYgKG5lZWRMYXllcikge1xyXG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xyXG4gIH1cclxuICBjc3MgKz0gb2JqLmNzcztcclxuICBpZiAobmVlZExheWVyKSB7XHJcbiAgICBjc3MgKz0gXCJ9XCI7XHJcbiAgfVxyXG4gIGlmIChvYmoubWVkaWEpIHtcclxuICAgIGNzcyArPSBcIn1cIjtcclxuICB9XHJcbiAgaWYgKG9iai5zdXBwb3J0cykge1xyXG4gICAgY3NzICs9IFwifVwiO1xyXG4gIH1cclxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcclxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcclxuICB9XHJcblxyXG4gIC8vIEZvciBvbGQgSUVcclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXHJcbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcclxufVxyXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XHJcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXHJcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XHJcbn1cclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xyXG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKCkge30sXHJcbiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge31cclxuICAgIH07XHJcbiAgfVxyXG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcclxuICByZXR1cm4ge1xyXG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XHJcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcclxuICAgIH0sXHJcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcclxuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XHJcbiAgICB9XHJcbiAgfTtcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcclxuXHJcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xyXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xyXG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xyXG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcclxuICB9IGVsc2Uge1xyXG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XHJcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XHJcbiAgICB9XHJcbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XHJcbiAgfVxyXG59XHJcbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL3N0eWxlcy5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJjbGFzcyBTaGlwIHtcclxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgcGxhY2VkPWZhbHNlLCBoaXRzPTAsIHN1bms9ZmFsc2UpIHtcclxuICAgICAgICB0aGlzLmxlbmd0aCA9IGxlbmd0aDtcclxuICAgICAgICB0aGlzLnBsYWNlZCA9IHBsYWNlZDtcclxuICAgICAgICB0aGlzLmhpdHMgPSBoaXRzO1xyXG4gICAgICAgIHRoaXMuc3VuayA9IHN1bms7XHJcbiAgICB9XHJcblxyXG4gICAgaGl0KCkge1xyXG4gICAgICAgIHRoaXMuaGl0cysrO1xyXG4gICAgICAgIHRoaXMuaXNTdW5rKCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgaXNTdW5rKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhpdHMgPT09IHRoaXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3VuayA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgR2FtZWJvYXJkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgYm9hcmQgPSBBcnJheS5mcm9tKHtsZW5ndGg6IDEwfSwgKCkgPT4gQXJyYXkoMTApLmZpbGwobnVsbCkpO1xyXG4gICAgY29uc3QgbWlzc2VkID0gQXJyYXkuZnJvbSh7bGVuZ3RoOiAxMH0sICgpID0+IEFycmF5KDEwKS5maWxsKG51bGwpKTtcclxuICAgIGNvbnN0IHNoaXBzID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gcG9zaXRpb25TaGlwcyhjb29yZGluYXRlcykge1xyXG4gICAgICAgIGlmIChjb29yZGluYXRlcyA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5lZWQgdG8gcHJvdmlkZSBjb29yZGluYXRlc1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcG9zaXRpb25cclxuICAgICAgICBmb3IgKHBvc2l0aW9uIG9mIGNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgIGxldCBuZXdTaGlwO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgW3gxLCB4MiwgeTEsIHkyXSA9IHBvc2l0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy8gTGVuZ3RoIDFcclxuICAgICAgICAgICAgaWYgKHgxID09PSB4MiAmJiB5MSA9PT0geTIpIHtcclxuICAgICAgICAgICAgICAgIC8vIEZpbGwgYm9hcmQgd2l0aCBTaGlwXHJcbiAgICAgICAgICAgICAgICBuZXdTaGlwID0gbmV3IFNoaXAoMSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBib2FyZFt5MV1beDFdID0gbmV3U2hpcDtcclxuICAgICAgICAgICAgfSAvLyBGb3IgYSB2ZXJ0aWNhbCBzaGlwXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHgxID09PSB4Mikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeURpZmYgPSB5MiAtIHkxICsgMTtcclxuICAgICAgICAgICAgICAgIG5ld1NoaXAgPSBuZXcgU2hpcCh5RGlmZiwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAvLyBGaWxsIGJvYXJkIHdpdGggU2hpcFxyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB5RGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm9hcmRbeTEgKyBpXVt4MV0gPSBuZXdTaGlwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IC8vIEZvciBhIGhvcml6b250YWwgc2hpcFxyXG4gICAgICAgICAgICBlbHNlIGlmICh5MSA9PT0geTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHhEaWZmID0geDIgLSB4MSArIDE7XHJcbiAgICAgICAgICAgICAgICBuZXdTaGlwID0gbmV3IFNoaXAoeERpZmYsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgLy8gRmlsbCBib2FyZCB3aXRoIFNoaXBcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeERpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvYXJkW3kxXVt4MSArIGldID0gbmV3U2hpcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93KEVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzaGlwcy5wdXNoKG5ld1NoaXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZWNpZXZlQXR0YWNrKFt4LHldKSB7XHJcbiAgICAgICAgaWYgKGJvYXJkW3ldW3hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgYm9hcmRbeV1beF0uaGl0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWlzc2VkW3ldW3hdID0gXCJYXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGFsbFNoaXBzU3VuaygpIHtcclxuICAgICAgICByZXR1cm4gc2hpcHMuZXZlcnkoc2hpcCA9PiBzaGlwLnN1bmsgPT09IHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9idGFpbkN1cnJlbnRTaGlwcygpIHtcclxuICAgICAgICAvLyBhZGRzIGV2ZXJ5IHNoaXAgb24gYm9hcmQgdG8gY3VycmVudFNoaXBzXHJcbiAgICAgICAgY29uc3QgY3VycmVudFNoaXBzID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gOTsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDw9IDk7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJvYXJkW3ldW3hdICE9IG51bGwgJiYgIWN1cnJlbnRTaGlwcy5pbmNsdWRlcyhib2FyZFt5XVt4XSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2hpcHMucHVzaChib2FyZFt5XVt4XSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRTaGlwcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhbGxTaGlwc1BsYWNlZCgpIHtcclxuICAgICAgICAvLyBDb21wYXJlcyBldmVyeSBzaGlwIG9uIGJvYXJkIHdpdGggcmVxdWlyZWQgbGVuZ3Roc1xyXG4gICAgICAgIGNvbnN0IHJlcXVpcmVkU2hpcHNMZW5ndGggPSBbNCwgMywgMywgMiwgMiwgMiwgMSwgMSwgMSwgMV07XHJcbiAgICAgICAgY29uc3QgY3VycmVudFNoaXBzID0gb2J0YWluQ3VycmVudFNoaXBzKCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc2hpcCBvZiBjdXJyZW50U2hpcHMpIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSByZXF1aXJlZFNoaXBzTGVuZ3RoLmluZGV4T2Yoc2hpcC5sZW5ndGgpO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVxdWlyZWRTaGlwc0xlbmd0aC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiAocmVxdWlyZWRTaGlwc0xlbmd0aC5sZW5ndGggPT09IDAgJiYgY3VycmVudFNoaXBzLmV2ZXJ5KHNoaXAgPT4gc2hpcC5wbGFjZWQgPT09IHRydWUpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge2JvYXJkLCBtaXNzZWQsIHBvc2l0aW9uU2hpcHMsIHJlY2lldmVBdHRhY2ssIGFsbFNoaXBzU3Vuaywgc2hpcHMsIGFsbFNoaXBzUGxhY2VkLCBvYnRhaW5DdXJyZW50U2hpcHN9O1xyXG59XHJcblxyXG4vLyBtb2R1bGUuZXhwb3J0cyA9IHtTaGlwLCBHYW1lYm9hcmR9O1xyXG5cclxuY29uc3QgUGxheWVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZ2FtZWJvYXJkID0gR2FtZWJvYXJkKCk7XHJcbiAgICBjb25zdCBuYW1lID0gXCJcIjtcclxuICAgIGNvbnN0IG9wcG9uZW50ID0gbnVsbDtcclxuXHJcbiAgICAvLyBWYXJpYWJsZXMgZm9yIHNoaXAgcGxhY2VtZW50IHNlY3Rpb25cclxuICAgIGxldCBzZWxlY3RlZFNoaXAgPSBudWxsO1xyXG4gICAgbGV0IHBsYW5lT2ZQbGFjaW5nU2hpcCA9IFwiSE9SSVpPTlRBTFwiO1xyXG4gICAgbGV0IGRyYWdnYWJsZVNoaXBzO1xyXG5cclxuICAgIC8vIEZvciBjb21wdXRlciBndWVzc2luZyBsb2dpY1xyXG4gICAgbGV0IHBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyA9IG51bGw7XHJcblxyXG4gICAgLy8gRm9yIGxvY2FsaXNlZCBjb21wdXRlciBndWVzc2luZyBsb2dpY1xyXG4gICAgbGV0IGxvY2FsaXNlZEd1ZXNzZXMgPSBudWxsO1xyXG4gICAgbGV0IHNoaXBEaXJlY3Rpb24gPSBudWxsO1xyXG4gICAgY29uc3QgZGlyZWN0aW9uID0ge3ZlcnRpY2FsIDogW1wiYmVuZWF0aFwiLCBcImFib3ZlXCJdLCBob3Jpem9udGFsIDogW1wibGVmdFwiLCBcInJpZ2h0XCJdfTtcclxuXHJcbiAgICAvKiBJTklUSUFMSVNBVElPTiBBTkQgSFRNTCBCVUlMRElORyAmIFJFU0VUVElORyBGVU5DVElPTlMgKi9cclxuXHJcbiAgICAvLyBGdW5jdGlvbiB0byBidWlsZCB0aGUgdG9wIGxldmVsIEhUTUwgc3R1Y3R1cmUgZm9yIHBsYXllcidzIGdyaWRzIFxyXG4gICAgZnVuY3Rpb24gYnVpbGRIVE1MRGl2Q29udGFpbmVycygpIHtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBncmlkQ29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJzXCIpO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcGxheWVyQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfS1ncmlkLWNvbnRhaW5lcmApO1xyXG4gICAgICAgIHBsYXllckNvbnRhaW5lci5pZCA9IGAke3RoaXMubmFtZX1Db250YWluZXJgO1xyXG5cclxuICAgICAgICBwbGF5ZXJDb250YWluZXIuaW5uZXJIVE1MID0gXHJcbiAgICAgICAgYFxyXG4gICAgICAgIDxoMyBjbGFzcz1cIiR7dGhpcy5uYW1lfSB0aXRsZVwiPiR7dGhpcy5uYW1lLnRvVXBwZXJDYXNlKCl9PC9oMz5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3RoaXMubmFtZX0tZ3JpZCBnYW1lLWJvYXJkXCIgaWQ9XCIke3RoaXMubmFtZX1HcmlkXCI+XHJcblxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZ3JpZC1vdmVybGF5XCIgaWQ9XCIke3RoaXMubmFtZX1HcmlkT3ZlcmxheVwiPjwvZGl2PlxyXG4gICAgICAgIGBcclxuICAgICAgICBncmlkQ29udGFpbmVycy5hcHBlbmRDaGlsZChwbGF5ZXJDb250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEJ1aWxkIHBsYXllcidzIEhUTUwgZ3JpZCBiYXNlZCBvZmYgcGxheWVyJ3MgYm9hcmQgYXJyYXlcclxuICAgIGZ1bmN0aW9uIGJ1aWxkSFRNTEdyaWQocmV2ZWFsKSB7XHJcbiAgICAgICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubmFtZSArIFwiR3JpZFwiKTtcclxuICAgICAgICBmb3IgKGxldCB5ID0gMDsgeSA8PSA5OyB5KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPD0gOTsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBncmlkRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0ID0gYCR7Z3JpZC5jbGFzc0xpc3R9IG51bWJlciAke3l9JHt4fWA7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuYm9hcmRbeV1beF0gIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LmFkZChcInNoaXAtcHJlc2VudFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV2ZWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LmFkZChcInJldmVhbFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBncmlkLmFwcGVuZENoaWxkKGdyaWREaXYpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldEhUTUxHcmlkKCkge1xyXG4gICAgICAgIGNvbnN0IEhUTUxHcmlkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5uYW1lfS1ncmlkLmdhbWUtYm9hcmRgKTtcclxuICAgICAgICBIVE1MR3JpZC5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlc2V0IGJvYXJkIGFycmF5XHJcbiAgICBmdW5jdGlvbiByZXNldEdyaWQoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gOTsgeSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IHggPSAwOyB4IDw9IDk7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkLmJvYXJkW3ldW3hdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5taXNzZWRbeV1beF0gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlc2V0SFRNTEdyaWQuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgIHJlc2V0U2hpcHNBcnJheS5iaW5kKHRoaXMpKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVzZXRTaGlwc0FycmF5KCkge1xyXG4gICAgICAgIGdhbWVib2FyZC5zaGlwcy5sZW5ndGggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERpc3BsYXkncyBydWxlc1xyXG4gICAgZnVuY3Rpb24gYnVpbGRSdWxlcyhwdnA9bnVsbCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllck92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLm5hbWV9R3JpZE92ZXJsYXlgKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93T3ZlcmxheSh0cnVlKTtcclxuXHJcbiAgICAgICAgcGxheWVyT3ZlcmxheS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgICAgIDxoMyBjbGFzcz1cInJ1bGVzLXRpdGxlXCI+UlVMRVM8L2gzPlxyXG4gICAgICAgICAgICA8cD5UcnkgYW5kIGRlZHVjZSB3aGVyZSB0aGUgZW5lbXkgc2hpcHMgYXJlIGFuZCBzaW5rIHRoZW0gZmlyc3QhPC9wPlxyXG4gICAgICAgICAgICA8YnI+PC9icj5cclxuICAgICAgICAgICAgPHA+RWFjaCBwbGF5ZXIgZGVwbG95cyB0aGVpciBzaGlwcyAob2YgbGVuZ3RocyB2YXJ5aW5nIGZyb20gMSB0byA0IHNxdWFyZXMpIHNlY3JldGx5IG9uIGEgdGhlaXIgc3F1YXJlIGdyaWQuPC9wPlxyXG4gICAgICAgICAgICA8cD5FdmVyeSB0dXJuIGVhY2ggcGxheWVyIHNob290cyBhdCB0aGUgb3RoZXIncyBncmlkIGJ5IGNsaWNraW5nIG9uIGEgbG9jYXRpb24gdG8gYSByZXNwb25zZSBvZiBcIkhJVFwiLCBcIk1JU1NcIiBvciBcIlNVTktcIi48L3A+XHJcbiAgICAgICAgICAgIDxwPihXYXRjaCB0aGUgdHVybiBjb3VudGVyIGJlbmVhdGggdGhlIHRpdGxlIGlmIHlvdSBnZXQgbG9zdCk8L3A+XHJcbiAgICAgICAgICAgIDxwPkZpcnN0IHBsYXllciB0byBzaW5rIGFsbCBvZiB0aGUgb3Bwb25lbnRzIHNoaXBzIHdpbnMhIEdvb2QgTHVjayE8L3A+XHJcbiAgICAgICAgYDtcclxuXHJcbiAgICAgICAgaWYgKHB2cCkge1xyXG4gICAgICAgICAgICBwbGF5ZXJPdmVybGF5LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGgzIGNsYXNzPVwicnVsZXMtdGl0bGVcIj5SVUxFUzwvaDM+XHJcbiAgICAgICAgICAgIDxwPlRyeSBhbmQgZGVkdWNlIHdoZXJlIHRoZSBlbmVteSBzaGlwcyBhcmUgYW5kIHNpbmsgdGhlbSBmaXJzdCE8L3A+XHJcbiAgICAgICAgICAgIDxicj48L2JyPlxyXG4gICAgICAgICAgICA8cD5FYWNoIHBsYXllciBkZXBsb3lzIHRoZWlyIHNoaXBzIChvZiBsZW5ndGhzIHZhcnlpbmcgZnJvbSAxIHRvIDQgc3F1YXJlcykgc2VjcmV0bHkgb24gYSB0aGVpciBzcXVhcmUgZ3JpZC48L3A+XHJcbiAgICAgICAgICAgIDxwPkV2ZXJ5IHR1cm4gZWFjaCBwbGF5ZXIgc2hvb3RzIGF0IHRoZSBvdGhlcidzIGdyaWQgYnkgY2xpY2tpbmcgb24gYSBsb2NhdGlvbiB0byBhIHJlc3BvbnNlIG9mIFwiSElUXCIsIFwiTUlTU1wiIG9yIFwiU1VOS1wiLjwvcD5cclxuICAgICAgICAgICAgPHA+KFdhdGNoIHRoZSB0dXJuIGNvdW50ZXIgYmVuZWF0aCB0aGUgdGl0bGUgaWYgeW91IGdldCBsb3N0KTwvcD5cclxuICAgICAgICAgICAgPHA+Rmlyc3QgcGxheWVyIHRvIHNpbmsgYWxsIG9mIHRoZSBvcHBvbmVudHMgc2hpcHMgd2lucyEgR29vZCBMdWNrITwvcD5cclxuICAgICAgICAgICAgPGJyPjwvYnI+XHJcbiAgICAgICAgICAgIDxwPkxvY2FsIHBsYXkgcmVxdWlyZXMgdGhlIG9wcG9uZW50IHRvIG5vdCBsb29rIGF0IHRoZSBzY3JlZW4gd2hpbHN0IHRoZSBvdGhlciBwbGF5ZXIgaXMgcG9zaXRpb25pbmcgdGhlaXIgc2hpcHMhPC9wPlxyXG4gICAgICAgIGA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVJ1bGVzKCkge1xyXG4gICAgICAgIGNvbnN0IHBsYXllck92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLm5hbWV9R3JpZE92ZXJsYXlgKTtcclxuXHJcbiAgICAgICAgdGhpcy5zaG93T3ZlcmxheShmYWxzZSk7XHJcblxyXG4gICAgICAgIHBsYXllck92ZXJsYXkuaW5uZXJIVE1MID0gYGBcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyogU0hJUCBQTEFDRU1FTlQgKC8gVUkgU0hJUFMgT04gTEhTIE9GIEdSSUQpIEZVTkNUSU9OUyAqL1xyXG5cclxuICAgIC8vIEJ1dHRvbnMgZm9yIFNISVAgUE9TSVRJT05JTkcgU1RBR0VcclxuICAgIGZ1bmN0aW9uIGJ1aWxkQnV0dG9uQ29udGFpbmVyKCkge1xyXG4gICAgICAgIGNvbnN0IGJ0bkNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgYnRuQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJidG4tY29udGFpbmVyXCIpO1xyXG5cclxuICAgICAgICBjb25zdCBob3Jpem9udGFsT3JWZXJ0aWNhbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgaG9yaXpvbnRhbE9yVmVydGljYWxCdG4uY2xhc3NMaXN0LmFkZChgJHt0aGlzLm5hbWV9YCwgYGhvcml6b250YWwtb3ItdmVydGljYWwtYnRuYCk7XHJcbiAgICAgICAgaG9yaXpvbnRhbE9yVmVydGljYWxCdG4udGV4dENvbnRlbnQgPSBcIkhPUklaT05UQUxcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmFuZG9taXNlQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICByYW5kb21pc2VCdG4uY2xhc3NMaXN0LmFkZChgJHt0aGlzLm5hbWV9YCwgYHJhbmRvbWlzZS1idG5gKTtcclxuICAgICAgICByYW5kb21pc2VCdG4udGV4dENvbnRlbnQgPSBcIlJBTkRPTUlTRVwiO1xyXG5cclxuICAgICAgICBjb25zdCBjb25maXJtQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICAgICAgICBjb25maXJtQnRuLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfWAsIGBjb25maXJtLWJ0bmApO1xyXG4gICAgICAgIGNvbmZpcm1CdG4udGV4dENvbnRlbnQgPSBcIkNPTkZJUk1cIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzZXRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xyXG4gICAgICAgIHJlc2V0QnRuLmNsYXNzTGlzdC5hZGQoYCR7dGhpcy5uYW1lfWAsIGByZXNldC1idG5gKTtcclxuICAgICAgICByZXNldEJ0bi50ZXh0Q29udGVudCA9IFwiUkVTRVRcIjtcclxuXHJcbiAgICAgICAgYnRuQ29udGFpbmVyLmFwcGVuZENoaWxkKGhvcml6b250YWxPclZlcnRpY2FsQnRuKTtcclxuICAgICAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQocmFuZG9taXNlQnRuKTtcclxuICAgICAgICBidG5Db250YWluZXIuYXBwZW5kQ2hpbGQocmVzZXRCdG4pO1xyXG4gICAgICAgIGJ0bkNvbnRhaW5lci5hcHBlbmRDaGlsZChjb25maXJtQnRuKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ2FtZWJvYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7dGhpcy5uYW1lfS1ncmlkLmdhbWUtYm9hcmRgKVxyXG4gICAgICAgIGdhbWVib2FyZC5pbnNlcnRBZGphY2VudEVsZW1lbnQoXCJhZnRlcmVuZFwiLCBidG5Db250YWluZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZUJ1dHRvbnMoKSB7XHJcbiAgICAgICAgY29uc3QgZ3JpZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3RoaXMubmFtZX0tZ3JpZC1jb250YWluZXJgKTtcclxuICAgICAgICBjb25zdCBidG5Db250YWluZXIgPSBncmlkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC5idG4tY29udGFpbmVyYCk7XHJcblxyXG4gICAgICAgIGdyaWRDb250YWluZXIucmVtb3ZlQ2hpbGQoYnRuQ29udGFpbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBidWlsZHMgc2hpcHMgdG8gYmUgcGxhY2VkXHJcbiAgICBmdW5jdGlvbiBidWlsZFNoaXBzKCkge1xyXG4gICAgICAgIGNvbnN0IHNoaXBzQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgc2hpcHNDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnc2hpcHMtY29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIHNoaXBzQ29udGFpbmVyLmlubmVySFRNTCA9IGBcclxuICAgICAgICA8ZGl2IGNsYXNzPVwic2hpcC1jb250YWluZXItMVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCI0XCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjNcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiM1wiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzaGlwLWNvbnRhaW5lci0yXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjJcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMlwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIyXCI+PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInNoaXAtY29udGFpbmVyLTNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMVwiPjwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJhZ2dhYmxlLXNoaXBcIiBkYXRhLXNpemU9XCIxXCI+PC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcmFnZ2FibGUtc2hpcFwiIGRhdGEtc2l6ZT1cIjFcIj48L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyYWdnYWJsZS1zaGlwXCIgZGF0YS1zaXplPVwiMVwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIGA7XHJcblxyXG4gICAgICAgIC8vIEJlbmVhdGggaXMgZm9yIGNvcnJlY3QgVVggcGxhY2VtZW50IG9mIHRoZSBjb25maXJtIGJ1dHRvblxyXG4gICAgICAgIGNvbnN0IHBsYXllckdyaWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9LWdyaWQtY29udGFpbmVyYClcclxuICAgICAgICBwbGF5ZXJHcmlkQ29udGFpbmVyLmluc2VydEFkamFjZW50RWxlbWVudChcImFmdGVyYmVnaW5cIiwgc2hpcHNDb250YWluZXIpO1xyXG5cclxuICAgICAgICAvLyBTdG9yZXMgdGhlIGRyYWdnYWJsZVNoaXBzIGRpdiBpbiBhcnJheSBmb3IgdXBkYXRlQ2xhc3NMaXNzdE9uU2hpcFN1bmtcclxuICAgICAgICBkcmFnZ2FibGVTaGlwcyA9IFsuLi5wbGF5ZXJHcmlkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZHJhZ2dhYmxlLXNoaXBcIildO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbW92ZVNoaXBzKCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWRDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9LWdyaWQtY29udGFpbmVyYCk7XHJcbiAgICAgICAgY29uc3Qgc2hpcHNDb250YWluZXIgPSBncmlkQ29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYC5zaGlwcy1jb250YWluZXJgKTtcclxuXHJcbiAgICAgICAgaWYgKHNoaXBzQ29udGFpbmVyKSB7XHJcbiAgICAgICAgICAgIGdyaWRDb250YWluZXIucmVtb3ZlQ2hpbGQoc2hpcHNDb250YWluZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgZnVuY3Rpb24gaGlkZUdyaWRTaGlwcygpIHtcclxuICAgICAgICAvLyBVc2VkIGZvciBsb2NhbCBwbGF5IHRvIHJlbW92ZSBzaGlwcyBmcm9tIHNjcmVlblxyXG4gICAgICAgIGNvbnN0IGdhbWVib2FyZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMubmFtZX0tZ3JpZC5nYW1lLWJvYXJkLm51bWJlcmApO1xyXG4gICAgICAgIGdhbWVib2FyZC5mb3JFYWNoKGVsZW1lbnQgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJyZXZlYWxcIikpIHtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcInJldmVhbFwiKTtcclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcblxyXG4gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gc2VsZWN0RGVmYXVsdFNoaXAoaW5kZXg9MCkge1xyXG4gICAgICAgIGlmIChkcmFnZ2FibGVTaGlwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdGVkU2hpcCA9IGRyYWdnYWJsZVNoaXBzW2luZGV4ICUgZHJhZ2dhYmxlU2hpcHMubGVuZ3RoXTtcclxuICAgICAgICAgICAgc2VsZWN0ZWRTaGlwLmNsYXNzTGlzdC5hZGQoXCJwbGFjaW5nXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBhcHBseURyYWdnYWJsZVNoaXBzKCkge1xyXG4gICAgICAgIC8vIFNldHMgaW5pdGlhbCBzaGlwIGZvciBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgIHNlbGVjdERlZmF1bHRTaGlwKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZHJhZ2dhYmxlU2hpcHMuZm9yRWFjaChzaGlwID0+IHtcclxuICAgICAgICAgICAgc2hpcC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHNoaXBTZWxlY3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBcclxuICAgICAgICBmdW5jdGlvbiBjaGVja0lmUG9zaXRpb25WYWxpZCh5LCB4LCBzaGlwU2l6ZSkge1xyXG4gICAgICAgICAgICBsZXQgdmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBsZXQgc2hpcERpdnMgPSBbXTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIE5FRUQgVE8gY2hhbmdlIHBsYW5lT2ZQbGFjaW5nU2hpcCBoZXJlIGFzIHdoZW4gSSBkaWQgaXQgaW4gdGhlIGhvcml6b250YWxPclZlcnRpY2FsSGFuZGxlQ2xpY2sgXHJcbiAgICAgICAgICAgIC8vIHBsYW5lT2ZQbGFjaW5nU2hpcCBkaWQgbm90IHVwZGF0ZSBpbiB0aGlzIHNjb3BlIC0gTWF5YmUgc2NvcGUgcmVsYXRlZFxyXG4gICAgICAgICAgICBwbGFuZU9mUGxhY2luZ1NoaXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHt0aGlzLm5hbWV9Lmhvcml6b250YWwtb3ItdmVydGljYWwtYnRuYCkudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggdGhlIHNxdWFyZXMgdG8gaGlnaGxpZ2h0IGJhc2VkIG9uIHNoaXAgc2l6ZVxyXG4gICAgICAgICAgICBpZiAocGxhbmVPZlBsYWNpbmdTaGlwID09PSBcIkhPUklaT05UQUxcIikge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGdyaWREaXYgPSBncmlkRGl2RnJvbUNvb3JkaW5hdGVzLmJpbmQodGhpcykoeSwgeCArIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChncmlkRGl2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoaXBEaXZzLnB1c2goZ3JpZERpdik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb29yZGluYXRlSW52YWxpZCh5LCB4ICsgaSkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGxhbmVPZlBsYWNpbmdTaGlwID09PSBcIlZFUlRJQ0FMXCIpIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2hpcFNpemU7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBncmlkRGl2ID0gZ3JpZERpdkZyb21Db29yZGluYXRlcy5iaW5kKHRoaXMpKHkgKyBpLCB4KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZ3JpZERpdikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGlwRGl2cy5wdXNoKGdyaWREaXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRpbmF0ZUludmFsaWQoeSArIGksIHgpID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBbdmFsaWQsIHNoaXBEaXZzXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiBmb3IgY2hlY2tJZlBvc2l0aW9uVmFsaWRcclxuICAgICAgICBmdW5jdGlvbiBjb29yZGluYXRlSW52YWxpZCh5LCB4KSB7XHJcbiAgICAgICAgICAgIGlmICh5ID4gOSB8fCB4ID4gOSB8fCBnYW1lYm9hcmQuYm9hcmRbeV1beF0gIT0gbnVsbCB8fCBnYW1lYm9hcmQubWlzc2VkW3ldW3hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG5lYXJieVNoaXBTcXVhcmVzSGl0Rm9yU2hpcFBsYWNlbWVudCh4LCB5KSB7XHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZXMgc3F1YXJlcyB3aGljaCBuZWlnaGJvdXIgYSBzdW5rIHNoaXAgdG8gYmUgZ3Vlc3Nlc1xyXG4gICAgICAgICAgICBjb25zdCBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzID0gZmluZFN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMoeCwgeSk7XHJcbiAgICBcclxuICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIGFycmF5IHRvIGRldGVybWluZSBpZiBuZWVkcyB0byBiZSB1cGRhdGVkO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBjb29yZGluYXRlcyBvZiBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeCA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICAgICAgICAgICAgbGV0IHkgPSBjb29yZGluYXRlc1sxXTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5taXNzZWRbeV1beF0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmQucmVjaWV2ZUF0dGFjayhbeCwgeV0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRyYWdFbnRlciBuZWVkcyB0byBiZSBhbiBhcnJvdyBmdW5jdGlvbiBzbyB0aGF0IHRoaXMgY2FuIHJlbWFpbiBpbiB0aGUgY29ycmVjdCBzY29wZVxyXG4gICAgICAgIC8vIG90aGVyd2lzZSB0aGlzIGJlY29tZXMgdGhlIGdyaWREaXZcclxuICAgICAgICBjb25zdCBkcmFnRW50ZXIgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGlmIChkcmFnZ2FibGVTaGlwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlci5iaW5kKHRoaXMpKGUudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNoaXBTaXplID0gcGFyc2VJbnQoc2VsZWN0ZWRTaGlwLmRhdGFzZXQuc2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUmV0dXJucyBpZiBwb3NpdGlvblZhbGlkIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgZGl2c1xyXG4gICAgICAgICAgICAgICAgbGV0IFt2YWxpZCwgc2hpcERpdnNdID0gY2hlY2tJZlBvc2l0aW9uVmFsaWQuYmluZCh0aGlzKSh5LCB4LCBzaGlwU2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZERpdiBvZiBzaGlwRGl2cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZERpdiBvZiBzaGlwRGl2cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoJ25vdC12YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZHJhZ0xlYXZlKGUpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIGhpZ2hsaWdodCBlZmZlY3QgZnJvbSBhbGwgc3F1YXJlc1xyXG4gICAgICAgICAgICBsZXQgaGlnaGxpZ2h0ZWRTcXVhcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZ2hsaWdodCcpO1xyXG4gICAgICAgICAgICBpZiAoaGlnaGxpZ2h0ZWRTcXVhcmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0ZWRTcXVhcmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5vdC12YWxpZCcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBoaWdobGlnaHRlZFNxdWFyZXMuZm9yRWFjaChzcXVhcmUgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3F1YXJlLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodCcsICdub3QtdmFsaWQnLCAnc2hha2luZy1hbmltYXRpb24nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgY29uc3QgZHJvcCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgaWYgKGRyYWdnYWJsZVNoaXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IFt5LCB4XSA9IGNsYXNzVG9JbnRlZ2VyLmJpbmQodGhpcykoZS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2hpcFNpemUgPSBwYXJzZUludChzZWxlY3RlZFNoaXAuZGF0YXNldC5zaXplKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgbWluWSA9IHk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4WSA9IHk7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWluWCA9IHg7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWF4WCA9IHg7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IFt2YWxpZCwgc2hpcERpdnNdID0gY2hlY2tJZlBvc2l0aW9uVmFsaWQuYmluZCh0aGlzKSh5LCB4LCBzaGlwU2l6ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSBzcXVhcmVzIHRvIGhpZ2hsaWdodCBiYXNlZCBvbiBzaGlwIHNpemVcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgZ3JpZERpdiBvZiBzaGlwRGl2cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQbGFjZSBzaGlwIG9uIEhUTUxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKCdzaGlwLXByZXNlbnQnLCAncmV2ZWFsJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgaGlnaGxpZ2h0IGVmZmVjdCBmcm9tIHRoZSBncmlkIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlnaGxpZ2h0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGxhbmVPZlBsYWNpbmdTaGlwID09PSBcIkhPUklaT05UQUxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhYID0geCArIHNoaXBTaXplIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnBvc2l0aW9uU2hpcHMoW1ttaW5YLCBtYXhYLCBtaW5ZLCBtYXhZXV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWFyYnlTaGlwU3F1YXJlc0hpdEZvclNoaXBQbGFjZW1lbnQuYmluZCh0aGlzKSh4K2ksIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwbGFuZU9mUGxhY2luZ1NoaXAgPT09IFwiVkVSVElDQUxcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZID0geSArIHNoaXBTaXplIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2FtZWJvYXJkLnBvc2l0aW9uU2hpcHMoW1ttaW5YLCBtYXhYLCBtaW5ZLCBtYXhZXV0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaGlwU2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWFyYnlTaGlwU3F1YXJlc0hpdEZvclNoaXBQbGFjZW1lbnQuYmluZCh0aGlzKSh4LCB5K2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENoYW5nZSB0aGUgVUkgb2YgdGhlIHNoaXBzIHRvIGJlIHBsYWNlZFxyXG4gICAgICAgICAgICAgICAgICAgIG1ha2VEcmFnZ2FibGVTaGlwSW52aXNpYmxlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGdyaWREaXYgb2Ygc2hpcERpdnMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBhbmltYXRpb24gd2l0aCBjbGFzc0xpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm90LXZhbGlkIGFsc28gYWRkZWQgaGVyZSBpbiB0aGUgZWRnZSBjYXNlIHdoZXJlIHRoZSB1c2VyIGNsaWNrcyB0aGUgc3F1YXJlIGRpcmVjdGx5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyIGRyb3BwaW5nIGEgc2hpcCBvbiB0aGF0IHNxdWFyZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5jbGFzc0xpc3QuYWRkKCdzaGFraW5nLWFuaW1hdGlvbicsJ25vdC12YWxpZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgZXZlbnQgbGlzdGVuZXIgdG8gcmVtb3ZlIHNoYWtpbmcgYW5pbWF0aW9uIGNsYXNzIHdoZW4gYW5pbWF0aW9uIGVuZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZERpdi5hZGRFdmVudExpc3RlbmVyKCdhbmltYXRpb25lbmQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5yZW1vdmUoJ3NoYWtpbmctYW5pbWF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTsgLy8gUmVtb3ZlIGV2ZW50IGxpc3RlbmVyIGFmdGVyIGFuaW1hdGlvbiBlbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSAgICAgICAgIFxyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZ3JpZEVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7dGhpcy5uYW1lfS1ncmlkLmdhbWUtYm9hcmQubnVtYmVyYClcclxuICAgICAgICBncmlkRWxlbWVudHMuZm9yRWFjaChncmlkRWxlbWVudCA9PiB7XHJcbiAgICAgICAgICAgIGdyaWRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBkcmFnRW50ZXIpO1xyXG4gICAgICAgICAgICBncmlkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZHJhZ0xlYXZlKTtcclxuICAgICAgICAgICAgZ3JpZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgZHJvcCk7XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2hpcFNlbGVjdChlKSB7XHJcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZFNoaXApIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2hpcC5jbGFzc0xpc3QucmVtb3ZlKFwicGxhY2luZ1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZWxlY3RlZFNoaXAgPSBlLnRhcmdldDtcclxuICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInBsYWNpbmdcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBtYWtlRHJhZ2dhYmxlU2hpcEludmlzaWJsZSgpIHtcclxuICAgICAgICAgICAgLy8gRnVuY3Rpb24gdG8gdXBkYXRlIHRoZSBjbGFzc0xpc3Qgb2YgdGhlIEhUTUwgZWxlbWVudCB3aGVuIHRoZSBhc3NvY2lhdGVkIHNoaXAgaXMgYmVpbmcvaXMgcGxhY2VkXHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0wOyBpIDwgZHJhZ2dhYmxlU2hpcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZFNoaXAgPT09IGRyYWdnYWJsZVNoaXBzW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlU2hpcHNbaV0uY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGVTaGlwcy5zcGxpY2UoaSwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vdmVzIHRoZSBzaGlwIHRvIGJlIHBsYWNlZCB0byB0aGUgZm9sbG93aW5nIHNoaXBcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3REZWZhdWx0U2hpcChpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gICAgICAgIFxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvZ2dsZVNoaXBzSW52aXNpYmxlKCkge1xyXG4gICAgICAgIGRyYWdnYWJsZVNoaXBzLmZvckVhY2goc2hpcCA9PiB7XHJcbiAgICAgICAgICAgIHNoaXAuY2xhc3NMaXN0LmFkZChcImludmlzaWJsZVwiKTtcclxuICAgICAgICAgICAgc2hpcC5jbGFzc0xpc3QucmVtb3ZlKFwicGxhY2luZ1wiKTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlc2V0U2hpcHMoKSB7XHJcbiAgICAgICAgcmVtb3ZlU2hpcHMuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgIGJ1aWxkU2hpcHMuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgIGFwcGx5RHJhZ2dhYmxlU2hpcHMuYmluZCh0aGlzKSgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc0xpc3RPblNoaXBTdW5rKHNoaXApIHtcclxuICAgICAgICAvLyBGdW5jdGlvbiB0byB1cGRhdGUgdGhlIGNsYXNzTGlzdCBvZiB0aGUgSFRNTCBlbGVtZW50IHdoZW4gdGhlIGFzc29jaWF0ZWQgc2hpcCBpcyBzdW5rXHJcbiAgICAgICAgLy8gSSBjb21wYXJlIHRoZSBsZW5ndGggb3Bwb3NlZCB0byB0aGUgaW5kaXZpZHVhbCBkaXYgYXMgdGhpcyBtZWFucyBlYWNoIHNoaXAgaXMgc3VuayBmcm9tIHRoZSB0b3AgZG93biB3aGljaCBpcyBtb3JlIGxvZ2ljYWwgYW5kIGxlc3MgY29uZnVzaW5nXHJcbiAgICAgICAgZm9yIChsZXQgaSA9MDsgaSA8IGRyYWdnYWJsZVNoaXBzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGFTaXplID0gcGFyc2VJbnQoZHJhZ2dhYmxlU2hpcHNbaV0uZGF0YXNldC5zaXplKTtcclxuICAgICAgICAgICAgaWYgKHNoaXAubGVuZ3RoID09PSBkYXRhU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgZHJhZ2dhYmxlU2hpcHNbaV0uY2xhc3NMaXN0LmFkZChcInN1bmtcIik7XHJcbiAgICAgICAgICAgICAgICBkcmFnZ2FibGVTaGlwcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm9ncmVzc0Zyb21TaGlwUGxhY2VtZW50KHBsYXllcjJUdXJuVHJhY2tlcikge1xyXG4gICAgICAgIC8vIElmIFZTIENPTVBVVEVSLCBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBvbiBQbGF5ZXIgMSFcclxuICAgICAgICBpZiAodGhpcy5vcHBvbmVudC5uYW1lID09PSBcImNvbXB1dGVyXCIpIHtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIFJ1bGVzLCBCdXR0b25zIGFuZCBTaGlwc1xyXG4gICAgICAgICAgICByZW1vdmVCdXR0b25zLmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgcmVtb3ZlU2hpcHMuYmluZCh0aGlzKSgpO1xyXG5cclxuICAgICAgICAgICAgLy8gTmVlZCB0byByZXNldCBtaXNzZWQgZ2FtZWJvYXJkIGFzIGl0IHdhcyB1c2VkIHRvIHByZXZlbnQgaW52YWxpZCBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgICAgICAvLyBGb3Igc2hpcHMgdG9vIGNsb3NlIHRvZ2V0aGVyXHJcbiAgICAgICAgICAgIHJlc2V0TWlzc2VkKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLm9wcG9uZW50LnJlbW92ZVJ1bGVzKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gQ2FsbGVkIG9uIFBsYXllcjFcclxuICAgICAgICAgICAgaWYgKHBsYXllcjJUdXJuVHJhY2tlciA9PT0gXCJwbGF5ZXIyVHVyblN0YXJ0XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBSdWxlcyBhbmQgU2hpcHMsIGtlZXBzIGJ1dHRvbnMgZm9yIGFldGhzdGV0aWMgcmVhc29ucyBmb3IgaG93IHRoZSBydWxlcyBsb29rXHJcbiAgICAgICAgICAgICAgICBidWlsZFJ1bGVzLmJpbmQodGhpcykodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVTaGlwcy5iaW5kKHRoaXMpKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byByZXNldCBtaXNzZWQgZ2FtZWJvYXJkIGFzIGl0IHdhcyB1c2VkIHRvIHByZXZlbnQgaW52YWxpZCBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gRm9yIHNoaXBzIHRvbyBjbG9zZSB0b2dldGhlclxyXG4gICAgICAgICAgICAgICAgcmVzZXRNaXNzZWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50LnJlbW92ZVJ1bGVzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50LmJ1aWxkU2hpcHMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuYXBwbHlEcmFnZ2FibGVTaGlwcygpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICAvLyBDYWxsZWQgb24gUGxheWVyMlxyXG4gICAgICAgICAgICBlbHNlIGlmIChwbGF5ZXIyVHVyblRyYWNrZXIgPT09IFwicGxheWVyMlR1cm5GaW5pc2hcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIFJ1bGVzLCBCdXR0b25zIGFuZCBTaGlwc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5yZW1vdmVSdWxlcygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5yZW1vdmVCdXR0b25zKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVTaGlwcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVCdXR0b25zLmJpbmQodGhpcykoKTsgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTmVlZCB0byByZXNldCBtaXNzZWQgZ2FtZWJvYXJkIGFzIGl0IHdhcyB1c2VkIHRvIHByZXZlbnQgaW52YWxpZCBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gRm9yIHNoaXBzIHRvbyBjbG9zZSB0b2dldGhlclxyXG4gICAgICAgICAgICAgICAgcmVzZXRNaXNzZWQoKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlcyBTaGlwcyBvbiBIVE1MIGJvYXJkIGZyb20gc2lnaHQgYXMgdGhpcyBtb2RlIGlzIGxvY2FsIFBsYXllciB2cyBQbGF5ZXJcclxuICAgICAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuaGlkZUdyaWRTaGlwcygpO1xyXG4gICAgICAgICAgICAgICAgaGlkZUdyaWRTaGlwcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNldE1pc3NlZCgpIHtcclxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSA5OyB4KyspIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgeSA9IDA7IHkgPD0gOTsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICBnYW1lYm9hcmQubWlzc2VkW3ldW3hdID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKiBHQU1FIExPR0lDICovXHJcblxyXG4gICAgLy8gTW92ZWQgZm9yIHJlbW92ZUV2ZW50TGlzdGVuZXIgYnV0IHRoZSBiaW5kKHRoaXMpIG1lYW5zIHRoZSBpbnN0YW5jZSBpcyBub3QgdGhlIHNhbWUsIHNvIGl0IGNhbm5vdCB3b3JrXHJcbiAgICBmdW5jdGlvbiBjbGlja0hhbmRsZXIoZ3JpZERpdikge1xyXG4gICAgICAgIGNsaWNrVG9IVE1MLmJpbmQodGhpcykoZ3JpZERpdik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVnaXN0ZXJHcmlkRGl2RXZlbnRMaXN0ZW5lcigpIHtcclxuICAgICAgICAvLyBBbGxvd3MgZm9yIHBsYXllciBpbnRlcmFjdGlvbiB3aXRoIGdyaWRcclxuICAgICAgICBjb25zdCBncmlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5uYW1lICsgXCJHcmlkXCIpXHJcbiAgICAgICAgY29uc3QgZ3JpZERpdnMgPSBncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpO1xyXG5cclxuICAgICAgICBncmlkRGl2cy5mb3JFYWNoKGdyaWREaXYgPT4ge1xyXG4gICAgICAgICAgICAvLyBTdG9yZSB0aGUgYm91bmQgZnVuY3Rpb24gcmVmZXJlbmNlIGFzIGEgcHJvcGVydHkgb2YgdGhlIGdyaWREaXZcclxuICAgICAgICAgICAgY29uc3QgYm91bmRDbGlja0hhbmRsZXIgPSBjbGlja0hhbmRsZXIuYmluZCh0aGlzLCBncmlkRGl2KTtcclxuICAgICAgICAgICAgZ3JpZERpdi5fYm91bmRDbGlja0hhbmRsZXIgPSBib3VuZENsaWNrSGFuZGxlcjtcclxuXHJcbiAgICAgICAgICAgIGdyaWREaXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJvdW5kQ2xpY2tIYW5kbGVyKTtcclxuICAgICAgICB9KVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbGlja1RvSFRNTChncmlkRGl2KSB7XHJcbiAgICAgICAgLy8gQ29udmVydCdzIHBsYXllciBpbnRlcmFjdGlvbiB3aXRoIGdyaWQgaW50byBhIGd1ZXNzIGJ5IGNoYW5naW5nIEhUTUxcclxuICAgICAgICBpZiAoZ3JpZERpdi50ZXh0Q29udGVudCA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICBpZiAoZ3JpZERpdi5jbGFzc0xpc3QuY29udGFpbnMoXCJzaGlwLXByZXNlbnRcIikpIHtcclxuICAgICAgICAgICAgICAgIGdyaWREaXYudGV4dENvbnRlbnQgPSBcIlhcIjtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVR1cm5UZXh0KGAke3RoaXMub3Bwb25lbnQubmFtZS50b1VwcGVyQ2FzZSgpfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIHJlZFwiPkhJVDwvc3Bhbj5gKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChncmlkRGl2LmNsYXNzTGlzdC5jb250YWlucyhcImhpZGRlblwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdyaWREaXYuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICBncmlkRGl2LmNsYXNzTGlzdC5hZGQoXCJyZXZlYWxcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBncmlkRGl2LnRleHRDb250ZW50ID0gXCLil49cIjtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVR1cm5UZXh0KGAke3RoaXMub3Bwb25lbnQubmFtZS50b1VwcGVyQ2FzZSgpfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIGJsdWVcIj5NSVNTRUQ8L3NwYW4+YClcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dPdmVybGF5KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5vcHBvbmVudC5zaG93T3ZlcmxheShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBncmlkRGl2LmlkID0gXCJoaXRcIjtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gQ29tcHV0ZXIgZ3Vlc3NJbmRleCBpZiBwbGF5ZXIgbWlzc3Nlc1xyXG4gICAgICAgICAgICAgICAgLy8gS2VlcHMgZ29pbmcgdW50aWwgaXQgaGl0cyBhbmQgWFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmFtZSA9PT0gXCJjb21wdXRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsaXNlZEd1ZXNzZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxpc2VkQ29tcHV0ZXJHdWVzcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJHdWVzcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIEhUTUx0b2JvYXJkLmJpbmQodGhpcykoZ3JpZERpdik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNoaXBTdW5rKGdyaWREaXYpIHtcclxuICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlcihncmlkRGl2KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5vcHBvbmVudC5nYW1lYm9hcmQuYm9hcmRbeV1beF0uc3VuazsgICAgICAgIFxyXG4gICAgfSAgIFxyXG5cclxuICAgIC8vIFVzZWQgZm9yIGludGVyYWN0aW9uIGJldHdlZW4gRE9NIGFuZCBib2FyZCBhcnJheVxyXG4gICAgZnVuY3Rpb24gY2xhc3NUb0ludGVnZXIoZ3JpZERpdikge1xyXG4gICAgICAgIGNvbnN0IGNsYXNzTGlzdFN0cmluZyA9IGdyaWREaXYuZ2V0QXR0cmlidXRlKFwiY2xhc3NcIik7XHJcbiAgICAgICAgY29uc3QgbnVtYmVycyA9IFwiMDEyMzQ1Njc4OVwiXHJcbiAgICAgICAgZm9yIChsZXQgY2xhc3NOYW1lIG9mIGNsYXNzTGlzdFN0cmluZy5zcGxpdChcIiBcIikpIHtcclxuICAgICAgICAgICAgaWYgKG51bWJlcnMuaW5jbHVkZXMoY2xhc3NOYW1lWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtwYXJzZUludChjbGFzc05hbWVbMF0pLCBwYXJzZUludChjbGFzc05hbWVbMV0pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBDb252ZXJ0J3MgcGxheWVyIGludGVyYWN0aW9uIHdpdGggZ3JpZCBpbnRvIGEgZ3Vlc3MgYnkgY2hhbmdpbmcgYm9hcmQgYXJyYXlcclxuICAgIGZ1bmN0aW9uIEhUTUx0b2JvYXJkKGdyaWREaXYpIHtcclxuICAgICAgICBpZiAoIWdhbWVib2FyZCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICAgICAgY29uc3QgW3ksIHhdID0gY2xhc3NUb0ludGVnZXIoZ3JpZERpdik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZ2FtZWJvYXJkLnJlY2lldmVBdHRhY2soW3gsIHldKTtcclxuXHJcbiAgICAgICAgaWYgKGdhbWVib2FyZC5ib2FyZFt5XVt4XSAhPSBudWxsICYmIGdhbWVib2FyZC5ib2FyZFt5XVt4XS5zdW5rKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZVR1cm5UZXh0KGAke3RoaXMub3Bwb25lbnQubmFtZS50b1VwcGVyQ2FzZSgpfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIG9yYW5nZVwiPlNBTks8L3NwYW4+IE9ORSBPRiAke3RoaXMubmFtZS50b1VwcGVyQ2FzZSgpfSdTIFNISVBgKVxyXG4gICAgIFxyXG4gICAgICAgICAgICAvLyBBbGdvcml0aG0gdG8gZmluZCBhbGwgYWxsIHBhcnRzIG9mIHN1bmsgc2hpcCB0byBjaGFuZ2UgYm9yZGVyIHRvIHJlZFxyXG4gICAgICAgICAgICAvLyBBbGxvd3MgZm9yIFwic3Vua1wiIHRvIGJlIGFkZGVkIHRvIGVhY2ggcGFydCBvZiB0aGUgc3Vua2VuIHNoaXAsIG5vdCBqdXN0IHRoZSBoaXQgd2hpY2ggc2FuayB0aGUgc2hpcCAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gZmluZFRvdWNoaW5nU2hpcHMoZ2FtZWJvYXJkLmJvYXJkLCB4LCB5LCBuZXcgU2V0KCkpO1xyXG4gICAgICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKGNvb3JkaW5hdGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBwYXJzZUludChjb29yZGluYXRlWzFdKTtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gcGFyc2VJbnQoY29vcmRpbmF0ZVswXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2hpcERpdiA9IGdyaWREaXZGcm9tQ29vcmRpbmF0ZXMuYmluZCh0aGlzKSh5LCB4KTtcclxuICAgICAgICAgICAgICAgIHNoaXBEaXYuY2xhc3NMaXN0LmFkZChcInN1bmtcIik7XHJcbiAgICAgICAgICAgICAgICBuZWFyYnlTaGlwU3F1YXJlc0hpdC5iaW5kKHRoaXMpKHgsIHkpO1xyXG4gICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgdXBkYXRlQ2xhc3NMaXN0T25TaGlwU3Vuay5iaW5kKHRoaXMpKGdhbWVib2FyZC5ib2FyZFt5XVt4XSk7XHJcblxyXG4gICAgICAgICAgICAvLyBHYW1lIG92ZXIgY2hlY2s/XHJcbiAgICAgICAgICAgIGlmIChnYW1lYm9hcmQuYWxsU2hpcHNTdW5rKCkpIHtcclxuICAgICAgICAgICAgICAgIHRyaWdnZXJPdmVyYWxsT3ZlcmxheS5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbmVhcmJ5U2hpcFNxdWFyZXNIaXQoeCwgeSwgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzID0gbnVsbCkge1xyXG4gICAgICAgIC8vIFVwZGF0ZXMgc3F1YXJlcyB3aGljaCBuZWlnaGJvdXIgYSBzdW5rIHNoaXAgdG8gYmUgZ3Vlc3Nlc1xyXG4gICAgICAgIGNvbnN0IHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMgPSBmaW5kU3Vycm91bmRpbmdDb29yZGluYXRlcyh4LCB5KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggYXJyYXkgdG8gZGV0ZXJtaW5lIGlmIG5lZWRzIHRvIGJlIHVwZGF0ZWQ7XHJcbiAgICAgICAgZm9yIChsZXQgY29vcmRpbmF0ZXMgb2Ygc3Vycm91bmRpbmdDb29yZGluYXRlcykge1xyXG4gICAgICAgICAgICBsZXQgeCA9IGNvb3JkaW5hdGVzWzBdO1xyXG4gICAgICAgICAgICBsZXQgeSA9IGNvb3JkaW5hdGVzWzFdO1xyXG5cclxuICAgICAgICAgICAgaWYgKGdhbWVib2FyZC5taXNzZWRbeV1beF0gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVib2FyZC5yZWNpZXZlQXR0YWNrLmJpbmQodGhpcykoW3gsIHldKVxyXG4gICAgICAgICAgICAgICAgY29uc3QgbWlzc2VkRGl2ID0gZ3JpZERpdkZyb21Db29yZGluYXRlcy5iaW5kKHRoaXMpKHksIHgpO1xyXG4gICAgICAgICAgICAgICAgbWlzc2VkRGl2LnRleHRDb250ZW50ID0gXCLil49cIjtcclxuICAgICAgICAgICAgICAgIG1pc3NlZERpdi5pZCA9IFwicmV2ZWFsZWRNaXNzXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3Bwb25lbnQubmFtZSA9PT0gXCJjb21wdXRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ29tcHV0ZXJHdWVzcyhtaXNzZWREaXYsIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRTdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKHgsIHkpIHtcclxuICAgICAgICAvLyBGaW5kIGFsbCBjb29yZGluYXRlcyBzdXJyb3VuZGluZyBpbnB1dCBjb29yZGluYXRlcyAoSW5jbHVkaW5nIGRpYWdvbmFsKVxyXG4gICAgICAgIGNvbnN0IHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBZID0geSAtIDE7IFkgPD0geSArIDE7IFkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBYID0geCAtIDE7IFggPD0geCArIDE7IFgrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKE1hdGgubWluKFgsIFkpIDwgMCB8fCBNYXRoLm1heChYLCBZKSA+IDkgfHwgZ2FtZWJvYXJkLmJvYXJkW1ldW1hdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMucHVzaChbWCwgWV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdyaWREaXZGcm9tQ29vcmRpbmF0ZXMoeSwgeCkge1xyXG4gICAgICAgIGNvbnN0IGdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLm5hbWUgKyBcIkdyaWRcIik7XHJcbiAgICAgICAgY29uc3QgZ3JpZERpdnMgPSBncmlkLnF1ZXJ5U2VsZWN0b3JBbGwoXCIqXCIpO1xyXG4gICAgICAgIGxldCBmb3VuZEdyaWREaXYgPSBudWxsO1xyXG5cclxuICAgICAgICBncmlkRGl2cy5mb3JFYWNoKGdyaWREaXYgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ3JpZERpdi5jbGFzc0xpc3QuY29udGFpbnMoYCR7eX0ke3h9YCkpIHtcclxuICAgICAgICAgICAgICAgIGZvdW5kR3JpZERpdiA9IGdyaWREaXY7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gZm91bmRHcmlkRGl2O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZCwgeCwgeSwgcGF0aCkge1xyXG4gICAgICAgIGlmIChwYXRoLmhhcyhgJHt5fSR7eH1gKSB8fCBNYXRoLm1heCh4LCB5KSA+IDkgfHwgTWF0aC5taW4oeCwgeSkgPCAwIHx8IGdhbWVib2FyZFt5XVt4XSA9PT0gbnVsbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBDT0RFIEZPUiBNWSBPV04gVU5ERVJTVEFORElOR1xyXG4gICAgICAgIC8vIFByZXZpb3VzbHkgaGFkIFwicGF0aC5hZGQoW3ksIHhdKVwiXHJcbiAgICAgICAgLy8gVGhpcyBsaW5lIGF0dGVtcHRzIHRvIGFkZCBhbiBhcnJheSBbeSwgeF0gdG8gdGhlIFNldC4gSG93ZXZlciwgSmF2YVNjcmlwdCBjb25zaWRlcnMgdHdvIGFycmF5cyB0byBcclxuICAgICAgICAvLyBiZSBlcXVhbCBvbmx5IGlmIHRoZXkgcmVmZXJlbmNlIHRoZSBzYW1lIGFycmF5IG9iamVjdCwgbm90IGlmIHRoZWlyIGNvbnRlbnRzIGFyZSB0aGUgc2FtZS4gU2luY2UgeW91IFxyXG4gICAgICAgIC8vIGFyZSBjcmVhdGluZyBuZXcgYXJyYXkgb2JqZWN0cyBlYWNoIHRpbWUgeW91IHVzZSBbeSwgeF0sIHRoZXkgYXJlIG5vdCBjb25zaWRlcmVkIGVxdWFsLCBhbmQgdGh1cyBlYWNoIFxyXG4gICAgICAgIC8vIGF0dGVtcHQgdG8gYWRkIGEgbmV3IFt5LCB4XSBhcnJheSB0byB0aGUgU2V0IHdpbGwgc3VjY2VlZCwgcmVzdWx0aW5nIGluIGR1cGxpY2F0ZXMuXHJcblxyXG4gICAgICAgIC8vIEJlbmVhdGggYWxsb3dzIGZvciBwcm9wZXIgY2hlY2tzXHJcbiAgICAgICAgcGF0aC5hZGQoYCR7eX0ke3h9YCk7XHJcblxyXG4gICAgICAgIGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZCwgeCArIDEsIHksIHBhdGgpIFxyXG4gICAgICAgIGZpbmRUb3VjaGluZ1NoaXBzKGdhbWVib2FyZCwgeCAtIDEsIHksIHBhdGgpXHJcbiAgICAgICAgZmluZFRvdWNoaW5nU2hpcHMoZ2FtZWJvYXJkLCB4LCB5ICsgMSwgcGF0aClcclxuICAgICAgICBmaW5kVG91Y2hpbmdTaGlwcyhnYW1lYm9hcmQsIHgsIHkgLSAxLCBwYXRoKVxyXG5cclxuICAgICAgICByZXR1cm4gcGF0aFxyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd092ZXJsYXkoc2hvd092ZXJsYXksIG5hbWU9dGhpcy5uYW1lKSB7XHJcbiAgICAgICAgbGV0IG92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lICsgXCJHcmlkT3ZlcmxheVwiKTtcclxuICAgICAgICBpZiAoc2hvd092ZXJsYXkpIHtcclxuICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVUdXJuVGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgY29uc3QgdHVybkRpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudHVybi10ZXh0XCIpO1xyXG4gICAgICAgIHR1cm5EaXYuaW5uZXJIVE1MID0gdGV4dDtcclxuICAgIH1cclxuXHJcbiAgICAvKiBDT01QVVRFUiBHVUVTU0lORyBMT0dJQyAqL1xyXG4gICAgXHJcbiAgICBhc3luYyBmdW5jdGlvbiBjb21wdXRlckd1ZXNzKCkge1xyXG4gICAgICAgIGxldCBndWVzc0luZGV4ID0gYXdhaXQgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCk7XHJcbiAgICAgICAgd2hpbGUgKGd1ZXNzSW5kZXggPj0gcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBndWVzc0luZGV4ID0gYXdhaXQgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGd1ZXNzZWREaXYgPSBhd2FpdCBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXNbZ3Vlc3NJbmRleF07XHJcblxyXG4gICAgICAgIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5zcGxpY2UoZ3Vlc3NJbmRleCwgMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUmFuZG9taXNlcyBhZGp1c3RzIHRoZSBjb21wdXRlciByZXNwb25zZSB0aW1lIHdpdGggbWluVGltZVxyXG4gICAgICAgIGxldCBtaW5UaW1lID0gYXdhaXQgTWF0aC5tYXgoMTUwLCBNYXRoLnJhbmRvbSgpICogNTAwKSBcclxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbWluVGltZSkpO1xyXG5cclxuICAgICAgICBjb21wdXRlckd1ZXNzVG9IVE1MLmJpbmQodGhpcykoZ3Vlc3NlZERpdik7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEdlbmVyYXRpbmcgY29tcHV0ZXIgZ3Vlc3NlcyBvbiBpbml0aWFsaXNhdGlvblxyXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVDb21wdXRlckd1ZXNzZXMoKSB7XHJcbiAgICAgICAgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzID0gW11cclxuICAgICAgICBjb25zdCBjb21wdXRlckdyaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0aGlzLm9wcG9uZW50Lm5hbWV9R3JpZGApXHJcbiAgICAgICAgY29uc3QgY29tcHV0ZXJHcmlkRGl2cyA9IGNvbXB1dGVyR3JpZC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKTtcclxuICAgICAgICBjb21wdXRlckdyaWREaXZzLmZvckVhY2goZGl2ID0+IHtcclxuICAgICAgICAgICAgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLnB1c2goZGl2KTtcclxuICAgICAgICB9KVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBVc2VkIGZvciB0aGUgcmVtb3ZhbCBvZiBkaXYncyBuZWFyYnkgdG8gYSBzaGlwIHdoZW4gYSBzaGlwIGlzIHN1bmtcclxuICAgIGZ1bmN0aW9uIHJlbW92ZUNvbXB1dGVyR3Vlc3MoZGl2VG9SZW1vdmUsIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcykge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXNbaV0gPT09IGRpdlRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcXVpcmVzIG93biBmdW5jdGlvbiBkdWUgdG8gbG9naWMgb2YgYSBjb21wdXRlciBndWVzc2VzXHJcbiAgICAvLyByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgaXMgd2hlbiB0aGUgcGxhbmUgb2YgdGhlIHNoaXAgKHZlcnRpY2FsIG9yIGhvcml6b250YWwpIGlzIGtub3duXHJcbiAgICBmdW5jdGlvbiBjb21wdXRlckd1ZXNzVG9IVE1MKGdyaWREaXYsIHJlbGF0aXZlTG9jYXRpb25PZkRpdiA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKGdyaWREaXYuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2hpcC1wcmVzZW50XCIpKSB7XHJcbiAgICAgICAgICAgIGdyaWREaXYudGV4dENvbnRlbnQgPSBcIlhcIjtcclxuICAgICAgICAgICAgdXBkYXRlVHVyblRleHQoYENPTVBVVEVSIDxzcGFuIGNsYXNzPVwiaGlnaGxpZ2h0ZWQgcmVkXCI+SElUPC9zcGFuPmApXHJcblxyXG4gICAgICAgICAgICBjb21wdXRlckhUTUxUb0JvYXJkLmJpbmQodGhpcykoZ3JpZERpdik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAocG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChzaGlwU3Vuay5iaW5kKHRoaXMpKGdyaWREaXYpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tcHV0ZXJHdWVzcy5iaW5kKHRoaXMpKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsaXNlZENvbXB1dGVyR3Vlc3MuYmluZCh0aGlzKShncmlkRGl2LCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGdyaWREaXYudGV4dENvbnRlbnQgPSBcIuKXj1wiO1xyXG4gICAgICAgICAgICB1cGRhdGVUdXJuVGV4dChgQ09NUFVURVIgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCBibHVlXCI+TUlTU0VEPC9zcGFuPmApXHJcblxyXG4gICAgICAgICAgICBjb21wdXRlckhUTUxUb0JvYXJkLmJpbmQodGhpcykoZ3JpZERpdik7XHJcblxyXG4gICAgICAgICAgICAvLyBJbiBDb21wdXRlciB2cyBQbGF5ZXIgdGhlIGNvbXB1dGVyIGJvYXJkIG5lZWRzIHRvIGJlIGFjY2Vzc2VkIHRocm91Z2ggdGhlIHBsYXllciBjbGFzc1xyXG4gICAgICAgICAgICAvLyBUaGVyZWZvcmUgcmV2ZXJzZSB0byBsb2dpYyBpbiBwbGF5ZXIgY2xhc3NcclxuICAgICAgICAgICAgdGhpcy5zaG93T3ZlcmxheShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMub3Bwb25lbnQuc2hvd092ZXJsYXkodHJ1ZSk7XHJcbiAgICAgICAgICAgIGdyaWREaXYuaWQgPSBcImhpdFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udmVydCdzIGNvbXB1dGVyJ3MgZ3Vlc3MgdG8gYm9hcmRcclxuICAgIGZ1bmN0aW9uIGNvbXB1dGVySFRNTFRvQm9hcmQoZ3JpZERpdikge1xyXG4gICAgICAgIGlmICghZ2FtZWJvYXJkKSByZXR1cm47XHJcbiAgICBcclxuICAgICAgICBjb25zdCBbeSwgeF0gPSBjbGFzc1RvSW50ZWdlcihncmlkRGl2KTsgICAgICAgICAgICBcclxuICAgICAgICB0aGlzLm9wcG9uZW50LmdhbWVib2FyZC5yZWNpZXZlQXR0YWNrKFt4LCB5XSk7XHJcbiAgICAgICAgaWYgKHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmJvYXJkW3ldW3hdICE9IG51bGwgJiYgdGhpcy5vcHBvbmVudC5nYW1lYm9hcmQuYm9hcmRbeV1beF0uc3Vuaykge1xyXG4gICAgICAgICAgICB1cGRhdGVUdXJuVGV4dChgQ09NUFVURVIgPHNwYW4gY2xhc3M9XCJoaWdobGlnaHRlZCBvcmFuZ2VcIj5TQU5LPC9zcGFuPiBPTkUgT0YgJHt0aGlzLm9wcG9uZW50Lm5hbWUudG9VcHBlckNhc2UoKX0nUyBTSElQYClcclxuICAgICAgICAgICAgbG9jYWxpc2VkR3Vlc3NlcyA9IG51bGw7XHJcbiAgICAgICAgICAgIHNoaXBEaXJlY3Rpb24gPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgLy8gQWxnb3JpdGhtIHRvIGZpbmQgYWxsIGFsbCBwYXJ0cyBvZiBzdW5rIHNoaXAgdG8gY2hhbmdlIGJvcmRlciB0byByZWQgXHJcbiAgICAgICAgICAgIC8vIEFsbG93cyBmb3IgXCJzdW5rXCIgdG8gYmUgYWRkZWQgdG8gZWFjaCBwYXJ0IG9mIHRoZSBzdW5rZW4gc2hpcCwgbm90IGp1c3QgdGhlIGhpdCB3aGljaCBzYW5rIHRoZSBzaGlwIFxyXG4gICAgICAgICAgICBjb25zdCBjb29yZGluYXRlcyA9IGZpbmRUb3VjaGluZ1NoaXBzKHRoaXMub3Bwb25lbnQuZ2FtZWJvYXJkLmJvYXJkLCB4LCB5LCBuZXcgU2V0KCkpO1xyXG4gICAgICAgICAgICBjb29yZGluYXRlcy5mb3JFYWNoKGNvb3JkaW5hdGUgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IHggPSBwYXJzZUludChjb29yZGluYXRlWzFdKTtcclxuICAgICAgICAgICAgICAgIGxldCB5ID0gcGFyc2VJbnQoY29vcmRpbmF0ZVswXSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgc2hpcERpdiA9IHRoaXMub3Bwb25lbnQuZ3JpZERpdkZyb21Db29yZGluYXRlcyh5LCB4KTtcclxuICAgICAgICAgICAgICAgIHNoaXBEaXYuY2xhc3NMaXN0LmFkZChcInN1bmtcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9wcG9uZW50Lm5lYXJieVNoaXBTcXVhcmVzSGl0KHgsIHksIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcyk7XHJcbiAgICAgICAgICAgIH0pICAgICAgICBcclxuXHJcbiAgICAgICAgICAgIHRoaXMub3Bwb25lbnQudXBkYXRlQ2xhc3NMaXN0T25TaGlwU3Vuayh0aGlzLm9wcG9uZW50LmdhbWVib2FyZC5ib2FyZFt5XVt4XSk7XHJcblxyXG4gICAgICAgICAgICAvLyBHYW1lIG92ZXIgY2hlY2s/XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9wcG9uZW50LmdhbWVib2FyZC5hbGxTaGlwc1N1bmsoKSkge1xyXG4gICAgICAgICAgICAgICAgdHJpZ2dlck92ZXJhbGxPdmVybGF5LmJpbmQodGhpcykoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBmdW5jdGlvbiBsb2NhbGlzZWRDb21wdXRlckd1ZXNzKGdyaWREaXY9bnVsbCwgZGlzY292ZXJlZFNoaXBEaXJlY3Rpb249ZmFsc2UpIHtcclxuICAgICAgICAvLyBGaXJzdCBoaXQgb2YgYSBzaGlwXHJcbiAgICAgICAgaWYgKCFsb2NhbGlzZWRHdWVzc2VzKSB7XHJcbiAgICAgICAgICAgIGxvY2FsaXNlZEd1ZXNzZXMgPSBnZW5lcmF0ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzKGdyaWREaXYpO1xyXG4gICAgICAgIH0gLy8gU2Vjb25kIGhpdCBvciBncmVhdGVyXHJcbiAgICAgICAgZWxzZSBpZiAoZGlzY292ZXJlZFNoaXBEaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgbmV3IG5lYXJieSBkaXZzXHJcbiAgICAgICAgICAgIGNvbnN0IG5ld0RpdnMgPSBnZW5lcmF0ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzKGdyaWREaXYpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBwb3RlbnRpYWxHdWVzcyBpbiBuZXdEaXZzKSB7XHJcbiAgICAgICAgICAgICAgICBsb2NhbGlzZWRHdWVzc2VzW3BvdGVudGlhbEd1ZXNzXSA9IG5ld0RpdnNbcG90ZW50aWFsR3Vlc3NdO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgZGl2cyB3aGljaCBhcmUgbm90IGluIGNvcnJlY3QgcGxhbmVcclxuICAgICAgICAgICAgcmVtb3ZlTG9jYWxDb21wdXRlckd1ZXNzZXMoZGlzY292ZXJlZFNoaXBEaXJlY3Rpb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUmFuZG9tbHkgYWRqdXN0cyB0aGUgY29tcHV0ZXIgcmVzcG9uc2UgdGltZSB3aXRoIG1pblRpbWVcclxuICAgICAgICBsZXQgbWluVGltZSA9IGF3YWl0IE1hdGgubWF4KDE1MCwgTWF0aC5yYW5kb20oKSAqIDUwMCkgXHJcbiAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1pblRpbWUpKTtcclxuXHJcbiAgICAgICAgLy8gUGVyZm9ybXMgYW4gaW50ZWxsaWdlbnQgY29tcHV0ZXIgZ3Vlc3NcclxuICAgICAgICBjb25zdCBbIGxvY2FsR3Vlc3MsIHJlbGF0aXZlTG9jYXRpb25PZkRpdiBdID0gb2JqZWN0U2hpZnQuYmluZCh0aGlzKShsb2NhbGlzZWRHdWVzc2VzKTtcclxuICAgICAgICByZW1vdmVDb21wdXRlckd1ZXNzKGxvY2FsR3Vlc3MsIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcyk7XHJcbiAgICAgICAgY29tcHV0ZXJHdWVzc1RvSFRNTC5iaW5kKHRoaXMpKGxvY2FsR3Vlc3MsIHJlbGF0aXZlTG9jYXRpb25PZkRpdik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVMb2NhbENvbXB1dGVyR3Vlc3NlcyhncmlkRGl2KSB7XHJcbiAgICAgICAgLy8gUmVjaWV2ZWQgW3ksIHhdIHRvIG1hdGNoIHVwIHdpdGggdGhlIGdhbWVib2FyZFxyXG4gICAgICAgIGNvbnN0IFt5LCB4XSA9IGNsYXNzVG9JbnRlZ2VyKGdyaWREaXYpO1xyXG4gICAgICAgIGNvbnN0IG5lYXJieUNvb3JkaW5hdGVzID0gW1xyXG4gICAgICAgICAgICBbeSsxLCB4LCBcImJlbmVhdGhcIl0sXHJcbiAgICAgICAgICAgIFt5LTEsIHgsIFwiYWJvdmVcIl0sXHJcbiAgICAgICAgICAgIFt5LCB4KzEsIFwicmlnaHRcIl0sXHJcbiAgICAgICAgICAgIFt5LCB4LTEsIFwibGVmdFwiXSxcclxuICAgICAgICBdIFxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IG5lYXJieUd1ZXNzZXMgPSB7fTtcclxuICAgICAgICBmb3IgKGxldCBjb29yZGluYXRlIG9mIG5lYXJieUNvb3JkaW5hdGVzKSB7XHJcbiAgICAgICAgICAgIGxldCBbeSwgeCwgcmVsYXRpdmVMb2NhdGlvbk9mRGl2XSA9IGNvb3JkaW5hdGU7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBjb21wdXRlckRpdkZyb21JbnRlZ2VyIHJldHVybnMgbnVsbCBpZiBub3QgZm91bmRcclxuICAgICAgICAgICAgLy8gVGhlcmVmb3JlIHdpbGwgYmUgbnVsbCBpZiBub3QgaW4gcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzIG9yIGlmIG91dCBvZiByYW5nZVxyXG4gICAgICAgICAgICBjb25zdCBuZWFyYnlEaXYgPSBjb21wdXRlckRpdkZyb21JbnRlZ2VyKHgsIHkpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBTZXJpYWxpemF0aW9uOiBXaGVuIHlvdSB1c2UgYW4gSFRNTEVsZW1lbnQgb2JqZWN0IGFzIGEga2V5IGluIGFuIG9iamVjdCwgaXQgaXMgaW1wbGljaXRseSBcclxuICAgICAgICAgICAgLy8gY29udmVydGVkIHRvIGEgc3RyaW5nIHVzaW5nIGl0cyB0b1N0cmluZygpIG1ldGhvZC4gVGhpcyBtZWFucyB0aGF0IHRoZSBhY3R1YWwgb2JqZWN0IFxyXG4gICAgICAgICAgICAvLyByZWZlcmVuY2UgaXMgbm90IHVzZWQgYXMgdGhlIGtleSwgYnV0IHJhdGhlciBpdHMgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxyXG4gICAgICAgICAgICBpZiAobmVhcmJ5RGl2KSBuZWFyYnlHdWVzc2VzW3JlbGF0aXZlTG9jYXRpb25PZkRpdl0gPSBuZWFyYnlEaXY7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmVhcmJ5R3Vlc3NlczsgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAvLyBTaW1pbGFyIGxvZ2ljIHRvIGdyaWREaXZGcm9tQ29vcmRpbmF0ZXNcclxuICAgIGZ1bmN0aW9uIGNvbXB1dGVyRGl2RnJvbUludGVnZXIoeCwgeSkge1xyXG4gICAgICAgIGxldCBmb3VuZEdyaWREaXYgPSBudWxsO1xyXG5cclxuICAgICAgICBwb3RlbnRpYWxDb21wdXRlckd1ZXNzZXMuZm9yRWFjaChncmlkRGl2ID0+IHtcclxuICAgICAgICAgICAgaWYgKGdyaWREaXYuY2xhc3NMaXN0LmNvbnRhaW5zKGAke3l9JHt4fWApKSB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZEdyaWREaXYgPSBncmlkRGl2OyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIHJldHVybiBmb3VuZEdyaWREaXY7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gb2JqZWN0U2hpZnQob2JqZWN0KSB7XHJcbiAgICAgICAgLy8gR2V0IHRoZSBmaXJzdCBrZXlcclxuICAgICAgICBjb25zdCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgPSBPYmplY3Qua2V5cyhvYmplY3QpWzBdO1xyXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgZmlyc3Qga2V5LXZhbHVlIHBhaXJcclxuICAgICAgICBjb25zdCBuZWFyYnlEaXYgPSBvYmplY3RbcmVsYXRpdmVMb2NhdGlvbk9mRGl2XTtcclxuICAgICAgICBkZWxldGUgb2JqZWN0W3JlbGF0aXZlTG9jYXRpb25PZkRpdl07XHJcbiAgICAgICAgcmV0dXJuIFsgbmVhcmJ5RGl2LCByZWxhdGl2ZUxvY2F0aW9uT2ZEaXYgXTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVMb2NhbENvbXB1dGVyR3Vlc3NlcyhyZWxhdGl2ZUxvY2F0aW9uT2ZEaXYpIHtcclxuICAgICAgICAvLyBJZiBzaGlwIGRpcmVjdGlvbiBoYXMgbm90IGJlIGRldGVybWluZWQsIGNhbGN1bGF0ZSBzaGlwRGlyZWN0aW9uXHJcbiAgICAgICAgaWYgKCFzaGlwRGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHNoaXBEaXJlY3Rpb24gPSBjYWxjdWxhdGVTaGlwRGlyZWN0aW9uLmJpbmQodGhpcykocmVsYXRpdmVMb2NhdGlvbk9mRGl2KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFJlbW92ZSBhbnkgcG90ZW50aWFsR3Vlc3NlcyB3aGljaCBhcmUgbm90IG9uIHRoZSBzYW1lIHBsYW5lIGFzIHRoZSBzaGlwRGlyZWN0aW9uXHJcbiAgICAgICAgZm9yIChjb25zdCBwb3RlbnRpYWxEaXJlY3Rpb24gaW4gbG9jYWxpc2VkR3Vlc3Nlcykge1xyXG4gICAgICAgICAgICBpZiAoIWRpcmVjdGlvbltzaGlwRGlyZWN0aW9uXS5pbmNsdWRlcyhwb3RlbnRpYWxEaXJlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgbG9jYWxpc2VkR3Vlc3Nlc1twb3RlbnRpYWxEaXJlY3Rpb25dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVNoaXBEaXJlY3Rpb24ocmVsYXRpdmVMb2NhdGlvbk9mRGl2KSB7XHJcbiAgICAgICAgaWYgKHJlbGF0aXZlTG9jYXRpb25PZkRpdiA9PT0gXCJhYm92ZVwiIHx8IHJlbGF0aXZlTG9jYXRpb25PZkRpdiA9PT0gXCJiZW5lYXRoXCIpIHtcclxuICAgICAgICAgICAgc2hpcERpcmVjdGlvbiA9IFwidmVydGljYWxcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaGlwRGlyZWN0aW9uID0gXCJob3Jpem9udGFsXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzaGlwRGlyZWN0aW9uO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvKiBHYW1lIGVuZGluZyBmdW5jdGlvbnMgKi9cclxuXHJcbiAgICBmdW5jdGlvbiByZW1vdmVBbGxFdmVudExpc3RlbmVycygpIHtcclxuICAgICAgICBjb25zdCBhbGxHcmlkRGl2cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5nYW1lLWJvYXJkLm51bWJlclwiKSk7XHJcblxyXG4gICAgICAgIGFsbEdyaWREaXZzLmZvckVhY2goZ3JpZERpdiA9PiB7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgdXNpbmcgdGhlIHN0b3JlZCBib3VuZCBmdW5jdGlvbiByZWZlcmVuY2VcclxuICAgICAgICAgICAgZ3JpZERpdi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ3JpZERpdi5fYm91bmRDbGlja0hhbmRsZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRyaWdnZXJPdmVyYWxsT3ZlcmxheSgpIHtcclxuICAgICAgICBjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lRW5kaW5nT3ZlcmxheVwiKTtcclxuICAgICAgICBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgLy8gUmVzZXQgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzIGxlbmd0aCB0byBwcmV2ZW50IHRoZSBjb21wdXRlciBmcm9tIGd1ZXNzaW5nIGZ1cnRoZXJcclxuICAgICAgICBpZiAocG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzKSB7XHJcbiAgICAgICAgICAgIHBvdGVudGlhbENvbXB1dGVyR3Vlc3Nlcy5sZW5ndGggPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVtb3ZlQWxsRXZlbnRMaXN0ZW5lcnMuYmluZCh0aGlzKSgpO1xyXG5cclxuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgZGl2IGVsZW1lbnQgdG8gaG9sZCB0aGUgcGxheWVyLXNlbGVjdGlvbiBIVE1MIGNvbnRlbnRcclxuICAgICAgICBjb25zdCBjb25ncmF0dWxhdGlvbnNUaXRsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmVyLWNvbmZpcm1hdGlvblwiKTtcclxuXHJcbiAgICAgICAgbGV0IHdpbm5lcjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZ2FtZWJvYXJkLmFsbFNoaXBzU3VuaygpKSB7XHJcbiAgICAgICAgICAgIHdpbm5lciA9IHRoaXMub3Bwb25lbnQubmFtZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB3aW5uZXIgPSB0aGlzLm5hbWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBZGQgdGhlIGlubmVyIEhUTUwgY29udGVudCBmb3IgdGhlIHBsYXllci1zZWxlY3Rpb24gZGl2XHJcbiAgICAgICAgY29uZ3JhdHVsYXRpb25zVGl0bGUudGV4dENvbnRlbnQgPSBgQ29uZ3JhdHVsYXRpb25zICR7d2lubmVyLnRvVXBwZXJDYXNlKCl9IHdpbnMhICAgICAgICBgXHJcblxyXG4gICAgICAgIGNvbnN0IHJlc2V0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXNldC1idG5cIilcclxuXHJcbiAgICAgICAgcmVzZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc2V0SFRNTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ3JpZC1jb250YWluZXJzXCIpO1xyXG5cclxuICAgICAgICAgICAgcmVzZXRIVE1MLmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgICAgICByZXNldFNoaXBzQXJyYXkuYmluZCh0aGlzKSgpO1xyXG4gICAgICAgICAgICB0aGlzLm9wcG9uZW50LnJlc2V0U2hpcHNBcnJheSgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9XHJcbiAgICBcclxuICAgIFxyXG5cclxuICAgIHJldHVybiB7YnVpbGRIVE1MR3JpZCwgc2hvd092ZXJsYXksIHJlZ2lzdGVyR3JpZERpdkV2ZW50TGlzdGVuZXIsIGJ1aWxkSFRNTERpdkNvbnRhaW5lcnMsIGNvbXB1dGVyR3Vlc3MsIG9wcG9uZW50LCBnZW5lcmF0ZUNvbXB1dGVyR3Vlc3NlcywgcG9zaXRpb25TaGlwczogZ2FtZWJvYXJkLnBvc2l0aW9uU2hpcHMsIGFsbFNoaXBzU3VuazogZ2FtZWJvYXJkLmFsbFNoaXBzU3VuaywgYWxsU2hpcHNQbGFjZWQ6IGdhbWVib2FyZC5hbGxTaGlwc1BsYWNlZCwgZ2FtZWJvYXJkLCBncmlkRGl2RnJvbUNvb3JkaW5hdGVzLCBuZWFyYnlTaGlwU3F1YXJlc0hpdCwgcG90ZW50aWFsQ29tcHV0ZXJHdWVzc2VzLCBidWlsZFNoaXBzLCBhcHBseURyYWdnYWJsZVNoaXBzLCBidWlsZEJ1dHRvbkNvbnRhaW5lciwgcmVzZXRHcmlkLCByZW1vdmVTaGlwcywgcmVtb3ZlQnV0dG9ucywgaGlkZUdyaWRTaGlwcywgdXBkYXRlVHVyblRleHQsIHVwZGF0ZUNsYXNzTGlzdE9uU2hpcFN1bmssIGJ1aWxkUnVsZXMsIHJlbW92ZVJ1bGVzLCB0b2dnbGVTaGlwc0ludmlzaWJsZSwgcmVzZXRTaGlwcywgcmVzZXRIVE1MR3JpZCwgcHJvZ3Jlc3NGcm9tU2hpcFBsYWNlbWVudCwgcmVzZXRTaGlwc0FycmF5LCBwbGFuZU9mUGxhY2luZ1NoaXB9XHJcbn1cclxuZXhwb3J0IHtTaGlwLCBHYW1lYm9hcmQsIFBsYXllcn07IiwibGV0IGJvYXJkID0gW107XHJcblxyXG5jbGFzcyBTaGlwIHtcclxuICAgIGNvbnN0cnVjdG9yKGxlbmd0aCwgaGl0cz0wLCBzdW5rPWZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSBsZW5ndGg7XHJcbiAgICAgICAgdGhpcy5oaXRzID0gaGl0cztcclxuICAgICAgICB0aGlzLnN1bmsgPSBzdW5rO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBwb3NpdGlvblNoaXBzKGNvb3JkaW5hdGVzKSB7XHJcbiAgICBpZiAoY29vcmRpbmF0ZXMgPT09IG51bGwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIk5lZWQgdG8gcHJvdmlkZSBjb29yZGluYXRlc1wiKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgbmV3U2hpcDtcclxuXHJcbiAgICBjb25zdCBbeDEsIHgyLCB5MSwgeTJdID0gY29vcmRpbmF0ZXM7XHJcbiAgICAvLyBBc3N1bWluZyBlYWNoIGNvb3JkaW5hdGUgaXMgZmluZSBiYyBpdCB3aWxsIGNvbWUgZnJvbSB0aGUgVUlcclxuICAgIC8vIExlbmd0aCAxXHJcbiAgICBpZiAoeDEgPT09IHgyICYmIHkxID09PSB5Mikge1xyXG4gICAgICAgIC8vIEZpbGwgYm9hcmQgd2l0aCBTaGlwXHJcbiAgICAgICAgbmV3U2hpcCA9IG5ldyBTaGlwKDEpO1xyXG4gICAgICAgIGJvYXJkW3kxXVt4MV0gPSBuZXdTaGlwO1xyXG4gICAgfSAvLyBGb3IgYSBjb25zdGFudCBYXHJcbiAgICBlbHNlIGlmICh4MSA9PT0geDIpIHtcclxuICAgICAgICBjb25zdCB5RGlmZiA9IHkyIC0geTEgKyAxO1xyXG4gICAgICAgIG5ld1NoaXAgPSBuZXcgU2hpcCh5RGlmZik7XHJcbiAgICAgICAgLy8gRmlsbCBib2FyZCB3aXRoIFNoaXBcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHlEaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgYm9hcmRbeTEgKyBpXVt4MV0gPSBuZXdTaGlwO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoeTEgPT09IHkyKSB7XHJcbiAgICAgICAgY29uc3QgeERpZmYgPSB4MiAtIHgxICsgMTtcclxuICAgICAgICBuZXdTaGlwID0gbmV3IFNoaXAoeERpZmYpO1xyXG4gICAgICAgIC8vIEZpbGwgYm9hcmQgd2l0aCBTaGlwXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB4RGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGJvYXJkW3kxXVt4MSArIGldID0gbmV3U2hpcDtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93KEVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gbmVhcmJ5U2hpcFNxdWFyZXNIaXQoeCwgeSkge1xyXG4gICAgY29uc3Qgc3Vycm91bmRpbmdDb29yZGluYXRlcyA9IGZpbmRTdXJyb3VuZGluZ0Nvb3JkaW5hdGVzKHgsIHkpO1xyXG5cclxuICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBhcnJheSB0byBkZXRlcm1pbmUgaWYgbmVlZHMgdG8gYmUgdXBkYXRlZDtcclxuICAgIGZvciAobGV0IGNvb3JkaW5hdGVzIG9mIHN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMpIHtcclxuICAgICAgICBjb25zdCB4Q29vcmQgPSBjb29yZGluYXRlc1swXTtcclxuICAgICAgICBjb25zdCB5Q29vcmQgPSBjb29yZGluYXRlc1sxXTtcclxuXHJcbiAgICAgICAgaWYgKGJvYXJkW3lDb29yZF1beENvb3JkXSA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBib2FyZFt5Q29vcmRdW3hDb29yZF0gPSBcIk5lYXJieVwiO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmluZFN1cnJvdW5kaW5nQ29vcmRpbmF0ZXMoeCwgeSkge1xyXG4gICAgY29uc3Qgc3Vycm91bmRpbmdDb29yZGluYXRlcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgWSA9IHkgLSAxOyBZIDw9IHkgKyAxOyBZKyspIHtcclxuICAgICAgICBmb3IgKGxldCBYID0geCAtIDE7IFggPD0geCArIDE7IFgrKykge1xyXG4gICAgICAgICAgICBpZiAoTWF0aC5taW4oWCwgWSkgPCAwIHx8IE1hdGgubWF4KFgsIFkpID4gOSB8fCBib2FyZFtZXVtYXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdXJyb3VuZGluZ0Nvb3JkaW5hdGVzLnB1c2goW1gsIFldKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gc3Vycm91bmRpbmdDb29yZGluYXRlcztcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gcmFuZG9taXNlKCkge1xyXG4gICAgLy8gUmVpbml0aWFsaXplIGJvYXJkIGFycmF5IGZvciBldmVyeSByYW5kb21pc2UoKVxyXG4gICAgYm9hcmQgPSBBcnJheS5mcm9tKHtsZW5ndGg6IDEwfSwgKCkgPT4gQXJyYXkoMTApLmZpbGwobnVsbCkpO1xyXG5cclxuICAgIGNvbnN0IGRpcmVjdGlvbnMgPSBbXCJob3Jpem9udGFsXCIsIFwidmVydGljYWxcIl07XHJcbiAgICBjb25zdCBzaGlwcyA9IFt7bGVuZ3RoOjR9LHtsZW5ndGg6M30se2xlbmd0aDozfSx7bGVuZ3RoOjJ9LHtsZW5ndGg6Mn0se2xlbmd0aDoyfSx7bGVuZ3RoOjF9LHtsZW5ndGg6MX0se2xlbmd0aDoxfSx7bGVuZ3RoOjF9XTtcclxuICAgIGNvbnN0IGNvb3JkaW5hdGVzID0gW107XHJcblxyXG4gICAgZm9yIChsZXQgc2hpcCBvZiBzaGlwcykge1xyXG4gICAgICAgIGxldCBpbmRleCA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSk7XHJcbiAgICAgICAgc2hpcFtcImRpcmVjdGlvblwiXSA9IGRpcmVjdGlvbnNbaW5kZXhdO1xyXG5cclxuICAgICAgICBsZXQgdmlhYmxlID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHgxLCB4MiwgeTEsIHkyO1xyXG5cclxuICAgICAgICB3aGlsZSAoIXZpYWJsZSkge1xyXG4gICAgICAgICAgICBpZiAoc2hpcFtcImRpcmVjdGlvblwiXSA9PT0gXCJob3Jpem9udGFsXCIpIHtcclxuICAgICAgICAgICAgICAgIGxldCB5Q29vcmRpbmF0ZSA9IE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDkpO1xyXG4gICAgICAgICAgICAgICAgeTEgPSB5Q29vcmRpbmF0ZTtcclxuICAgICAgICAgICAgICAgIHkyID0geUNvb3JkaW5hdGU7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHgxID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSk7XHJcbiAgICAgICAgICAgICAgICB4MiA9IHgxICsgKHNoaXBbXCJsZW5ndGhcIl0gLSAxKTtcclxuICAgICAgICAgICAgICAgIGlmICh4MiA+IDkpIHtcclxuICAgICAgICAgICAgICAgICAgICB4MiA9IHgxO1xyXG4gICAgICAgICAgICAgICAgICAgIHgxID0geDIgLSAoc2hpcFtcImxlbmd0aFwiXSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBjb25mbGljdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIHZpYWJsZSBjb29yZGluYXRlc1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHgxOyBpIDw9IHgyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRbeTFdW2ldICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmxpY3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZsaWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgeENvb3JkaW5hdGUgPSBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiA5KTtcclxuICAgICAgICAgICAgICAgIHgxID0geENvb3JkaW5hdGU7XHJcbiAgICAgICAgICAgICAgICB4MiA9IHhDb29yZGluYXRlO1xyXG5cclxuICAgICAgICAgICAgICAgIHkxID0gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogOSk7XHJcbiAgICAgICAgICAgICAgICB5MiA9IHkxICsgKHNoaXBbXCJsZW5ndGhcIl0gLSAxKTtcclxuICAgICAgICAgICAgICAgIGlmICh5MiA+IDkpIHtcclxuICAgICAgICAgICAgICAgICAgICB5MiA9IHkxO1xyXG4gICAgICAgICAgICAgICAgICAgIHkxID0geTIgLSAoc2hpcFtcImxlbmd0aFwiXSAtIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciB2aWFibGUgY29vcmRpbmF0ZXNcclxuICAgICAgICAgICAgICAgIGxldCBjb25mbGljdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHkxOyBpIDw9IHkyOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYm9hcmRbaV1beDFdICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uZmxpY3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbmZsaWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBvc2l0aW9uIHNoaXBzIGFuZCBtYXJrIG5lYXJieSBzcXVhcmVzIHRvIHByZXZlbnQgaWxsZWdhbCBzaGlwIHBsYWNlbWVudFxyXG4gICAgICAgICAgICBhd2FpdCBwb3NpdGlvblNoaXBzKFt4MSwgeDIsIHkxLCB5Ml0pO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNoaXBbXCJkaXJlY3Rpb25cIl0gPT09IFwiaG9yaXpvbnRhbFwiKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0geDE7IGkgPD0geDI7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IG5lYXJieVNoaXBTcXVhcmVzSGl0KGksIHkxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSB5MTsgaSA8PSB5MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgbmVhcmJ5U2hpcFNxdWFyZXNIaXQoeDEsIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvb3JkaW5hdGVzLnB1c2goW3gxLCB4MiwgeTEsIHkyXSk7XHJcbiAgICAgICAgICAgIHZpYWJsZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGNvb3JkaW5hdGVzXHJcbn1cclxuXHJcbmV4cG9ydCB7cmFuZG9taXNlfTtcclxuXHJcbiIsImltcG9ydCB7IHJhbmRvbWlzZSB9IGZyb20gXCIuL3JhbmRvbWlzZVwiO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlSG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25DbGljayhidXR0b24sIHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicGxheWVyMVwiKSkge1xyXG4gICAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IChidXR0b24udGV4dENvbnRlbnQgPT09IFwiSE9SSVpPTlRBTFwiID8gXCJWRVJUSUNBTFwiIDogXCJIT1JJWk9OVEFMXCIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBidXR0b24udGV4dENvbnRlbnQgPSAoYnV0dG9uLnRleHRDb250ZW50ID09PSBcIkhPUklaT05UQUxcIiA/IFwiVkVSVElDQUxcIiA6IFwiSE9SSVpPTlRBTFwiKTtcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG4vLyBEZWZpbmUgYW4gYXN5bmMgZnVuY3Rpb24gdG8gdXNlIGF3YWl0XHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVJhbmRvbWlzZUJ1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMikge1xyXG4gICAgY29uc3QgY29vcmRpbmF0ZXMgPSBhd2FpdCByYW5kb21pc2UoKTsgLy8gV2FpdCBmb3IgcmFuZG9taXNlKCkgdG8gcmVzb2x2ZVxyXG4gICAgaWYgKGJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwbGF5ZXIxXCIpKSB7XHJcbiAgICAgICAgcGxheWVyMS5yZXNldEdyaWQoKVxyXG4gICAgICAgIHBsYXllcjEucG9zaXRpb25TaGlwcyhjb29yZGluYXRlcyk7XHJcbiAgICAgICAgcGxheWVyMS5idWlsZEhUTUxHcmlkKHRydWUpO1xyXG4gICAgICAgIHBsYXllcjEudG9nZ2xlU2hpcHNJbnZpc2libGUoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGxheWVyMi5yZXNldEdyaWQoKVxyXG4gICAgICAgIHBsYXllcjIucG9zaXRpb25TaGlwcyhjb29yZGluYXRlcyk7XHJcbiAgICAgICAgcGxheWVyMi5idWlsZEhUTUxHcmlkKHRydWUpO1xyXG4gICAgICAgIHBsYXllcjIudG9nZ2xlU2hpcHNJbnZpc2libGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlUmVzZXRCdXR0b25DbGljayhidXR0b24sIHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIGlmIChidXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKFwicGxheWVyMVwiKSkge1xyXG4gICAgICAgIHBsYXllcjEucmVzZXRHcmlkKCk7XHJcbiAgICAgICAgcGxheWVyMS5idWlsZEhUTUxHcmlkKHRydWUpO1xyXG4gICAgICAgIHBsYXllcjEucmVzZXRTaGlwcygpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXIyLnJlc2V0R3JpZCgpO1xyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZCh0cnVlKTtcclxuICAgICAgICBwbGF5ZXIyLnJlc2V0U2hpcHMoKTtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlQ29uZmlybUJ0bkNsaWNrKHBsYXllcjEsIHBsYXllcjIpIHtcclxuICAgIGlmIChwbGF5ZXIyLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgIGF3YWl0IHNpbmdsZVBsYXllckNvbmZpcm1CdG4ocGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IG11bHRpUGxheWVyQ29uZmlybUJ0bihwbGF5ZXIxLCBwbGF5ZXIyKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2luZ2xlUGxheWVyQ29uZmlybUJ0bihwbGF5ZXIxLCBwbGF5ZXIyKSB7XHJcbiAgICBjb25zdCBwbGF5ZXIxQ29uZmlybUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyMS5jb25maXJtLWJ0blwiKTtcclxuICAgIGxldCByZXNvbHZlUHJvbWlzZTtcclxuXHJcbiAgICBjb25zdCBtb3ZlT25Qcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xyXG4gICAgICAgIHBsYXllcjFDb25maXJtQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENhbGxpbmcgYWxsU2hpcHNQbGFjZWQgY2hlY2tzIGlmIHRoZSBnYW1lIGlzIHJlYWR5IHRvIGJlIHByb2dyZXNzZWQgdG8gbmV4dCBzdGFnZVxyXG4gICAgICAgICAgICBpZiAocGxheWVyMS5hbGxTaGlwc1BsYWNlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxLnByb2dyZXNzRnJvbVNoaXBQbGFjZW1lbnQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VPdmVybGF5c1RvKFwicGFydGlhbGx5LXRyYW5zcGFyZW50XCIsIHRydWUpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIHJldHVybiBtb3ZlT25Qcm9taXNlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBtdWx0aVBsYXllckNvbmZpcm1CdG4ocGxheWVyMSwgcGxheWVyMikge1xyXG4gICAgLy8gQ2hhbmdlIHRoZSBvdmVybGF5IGNvbG91ciBmb3Igc2hpcCBwbGFjZW1lbnRcclxuICAgIGNoYW5nZU92ZXJsYXlzVG8oXCJibHVlXCIpO1xyXG5cclxuICAgIGNvbnN0IHBsYXllcjFDb25maXJtQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXIxLmNvbmZpcm0tYnRuXCIpO1xyXG5cclxuICAgIHBsYXllcjFDb25maXJtQnRuLm9uY2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gQ2FsbGluZyBhbGxTaGlwc1BsYWNlZCBjaGVja3MgaWYgdGhlIGdhbWUgaXMgcmVhZHkgdG8gYmUgcHJvZ3Jlc3NlZCB0byBuZXh0IHN0YWdlXHJcbiAgICAgICAgaWYgKHBsYXllcjEuYWxsU2hpcHNQbGFjZWQoKSkge1xyXG4gICAgICAgICAgICBwbGF5ZXIxLnByb2dyZXNzRnJvbVNoaXBQbGFjZW1lbnQoXCJwbGF5ZXIyVHVyblN0YXJ0XCIpXHJcblxyXG4gICAgICAgICAgICBwbGF5ZXIyLnVwZGF0ZVR1cm5UZXh0KGAke3BsYXllcjIubmFtZS50b1VwcGVyQ2FzZSgpfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIGdyZWVuXCI+UExBQ0UgWU9VUiBTSElQUzwvc3Bhbj5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGxheWVyMkNvbmZpcm1CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllcjIuY29uZmlybS1idG5cIik7XHJcbiAgICBsZXQgcmVzb2x2ZVByb21pc2U7IC8vIERlY2xhcmUgYSB2YXJpYWJsZSB0byBzdG9yZSB0aGUgcmVzb2x2ZSBmdW5jdGlvblxyXG4gICAgXHJcbiAgICBjb25zdCBtb3ZlT25Qcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XHJcbiAgICAgICAgLy8gQXNzaWduIHRoZSByZXNvbHZlIGZ1bmN0aW9uIHRvIHRoZSB2YXJpYWJsZVxyXG4gICAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcclxuICAgICAgICBcclxuICAgICAgICBwbGF5ZXIyQ29uZmlybUJ0bi5vbmNsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBDYWxsaW5nIGFsbFNoaXBzUGxhY2VkIGNoZWNrcyBpZiB0aGUgZ2FtZSBpcyByZWFkeSB0byBiZSBwcm9ncmVzc2VkIHRvIG5leHQgc3RhZ2VcclxuICAgICAgICAgICAgaWYgKHBsYXllcjIuYWxsU2hpcHNQbGFjZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMi5wcm9ncmVzc0Zyb21TaGlwUGxhY2VtZW50KFwicGxheWVyMlR1cm5GaW5pc2hcIilcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxLnJlbW92ZVJ1bGVzKCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxLnJlbW92ZUJ1dHRvbnMoKTtcclxuICAgICAgICAgICAgICAgIHBsYXllcjEuaGlkZUdyaWRTaGlwcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIHBsYXllcjIucmVtb3ZlU2hpcHMoKTtcclxuICAgICAgICAgICAgICAgIHBsYXllcjIucmVtb3ZlQnV0dG9ucygpO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyMi5oaWRlR3JpZFNoaXBzKCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyLmdhbWVib2FyZC5taXNzZWQgPSBBcnJheS5mcm9tKHtsZW5ndGg6IDEwfSwgKCkgPT4gQXJyYXkoMTApLmZpbGwobnVsbCkpO1xyXG4gICAgICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gUmV2ZXJ0IG92ZXJsYXkgY29sb3VyIGJhY2sgdG8gb3JpZ2luYWxcclxuICAgICAgICAgICAgICAgIGNoYW5nZU92ZXJsYXlzVG8oXCJwYXJ0aWFsbHktdHJhbnNwYXJlbnRcIik7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2hlbiB0aGUgcGxheWVyIDIgY29uZmlybWF0aW9uIGJ1dHRvbiBpcyBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy8gUmV0dXJuIHRoZSBwcm9taXNlXHJcbiAgICByZXR1cm4gbW92ZU9uUHJvbWlzZTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hhbmdlT3ZlcmxheXNUbyhjb2xvdXIsIGNvbXB1dGVyPWZhbHNlKSB7XHJcbiAgICBsZXQgcGxheWVyT3ZlcmxheXM7XHJcbiAgICBpZiAoY29tcHV0ZXIpIHtcclxuICAgICAgICBwbGF5ZXJPdmVybGF5cyA9IFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcGxheWVyMUdyaWRPdmVybGF5YCksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNjb21wdXRlckdyaWRPdmVybGF5YCldO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXJPdmVybGF5cyA9IFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjcGxheWVyMUdyaWRPdmVybGF5YCksIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCNwbGF5ZXIyR3JpZE92ZXJsYXlgKV07XHJcbiAgICB9XHJcbiAgICBpZiAoY29sb3VyID09PSBcImJsdWVcIikge1xyXG4gICAgICAgIHBsYXllck92ZXJsYXlzLmZvckVhY2gob3ZlcmxheSA9PiB7XHJcbiAgICAgICAgICAgIG92ZXJsYXkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoNzMsIDExMCwgMjM1KVwiO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmIChjb2xvdXIgPT09IFwicGFydGlhbGx5LXRyYW5zcGFyZW50XCIpIHtcclxuICAgICAgICBwbGF5ZXJPdmVybGF5cy5mb3JFYWNoKG92ZXJsYXkgPT4ge1xyXG4gICAgICAgICAgICBvdmVybGF5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgwLCAwLCAwLCAwLjUpXCI7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVTaGlwc0NvbnRhaW5lcihoaWRlLCBwbGF5ZXJOYW1lKSB7XHJcbiAgICBjb25zdCBzaGlwc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3BsYXllck5hbWV9LWdyaWQtY29udGFpbmVyID4gLnNoaXBzLWNvbnRhaW5lcmApO1xyXG4gICAgaWYgKGhpZGUpIHtcclxuICAgICAgICBzaGlwc0NvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNoaXBzQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHsgaGFuZGxlSG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25DbGljaywgaGFuZGxlUmFuZG9taXNlQnV0dG9uQ2xpY2ssIGhhbmRsZVJlc2V0QnV0dG9uQ2xpY2ssIGhhbmRsZUNvbmZpcm1CdG5DbGljaywgaGlkZVNoaXBzQ29udGFpbmVyLCBjaGFuZ2VPdmVybGF5c1RvIH0iLCJpbXBvcnQgXCIuL3N0eWxlcy5jc3NcIlxyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tIFwiLi9jbGFzc0NyZWF0b3JcIjtcclxuaW1wb3J0IHsgZ29lc0ZpcnN0LCBwbGF5ZXJPckNvbXB1dGVyIH0gZnJvbSBcIi4vZ29lc0ZpcnN0XCI7XHJcbmltcG9ydCB7IGhhbmRsZVJhbmRvbWlzZUJ1dHRvbkNsaWNrLCBoYW5kbGVSZXNldEJ1dHRvbkNsaWNrLCBoYW5kbGVDb25maXJtQnRuQ2xpY2ssIGNoYW5nZU92ZXJsYXlzVG8sIGhhbmRsZUhvcml6b250YWxPclZlcnRpY2FsQnV0dG9uQ2xpY2sgfSBmcm9tIFwiLi9idXR0b25Mb2dpY1wiO1xyXG5pbXBvcnQgeyByYW5kb21pc2UgfSBmcm9tIFwiLi9yYW5kb21pc2VcIjtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpc2VHYW1lKCkge1xyXG5cclxuICAgIC8vIFdFTENPTUUgU1RBR0VcclxuICAgIGxldCBvcHBvbmVudCA9IGF3YWl0IHBsYXllck9yQ29tcHV0ZXIoKTtcclxuICAgIGlmIChvcHBvbmVudCA9PT0gXCJwbGF5ZXJcIikgb3Bwb25lbnQgPSBcInBsYXllcjJcIjtcclxuXHJcbiAgICAvLyBJbml0aWFsaXNpbmcgdGhlIHBsYXllciBjbGFzc2VzXHJcbiAgICBjb25zdCBwbGF5ZXIxID0gUGxheWVyKCk7XHJcbiAgICBwbGF5ZXIxLm5hbWUgPSBcInBsYXllcjFcIjtcclxuICAgIGNvbnN0IHBsYXllcjIgPSBQbGF5ZXIoKTtcclxuICAgIHBsYXllcjIubmFtZSA9IGAke29wcG9uZW50fWA7XHJcblxyXG4gICAgcGxheWVyMS5idWlsZEhUTUxEaXZDb250YWluZXJzKCk7XHJcbiAgICBwbGF5ZXIyLmJ1aWxkSFRNTERpdkNvbnRhaW5lcnMoKTtcclxuICAgIFxyXG4gICAgcGxheWVyMS5vcHBvbmVudCA9IHBsYXllcjI7XHJcbiAgICBwbGF5ZXIyLm9wcG9uZW50ID0gcGxheWVyMTtcclxuXHJcbiAgICAvLyBTSElQIFBPU0lUSU9OIFNUQUdFXHJcbiAgICBwbGF5ZXIxLnVwZGF0ZVR1cm5UZXh0KGAke3BsYXllcjEubmFtZS50b1VwcGVyQ2FzZSgpfSA8c3BhbiBjbGFzcz1cImhpZ2hsaWdodGVkIGdyZWVuXCI+UExBQ0UgWU9VUiBTSElQUzwvc3Bhbj5gKTtcclxuXHJcbiAgICBwbGF5ZXIxLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcbiAgICBwbGF5ZXIxLmJ1aWxkU2hpcHMoKTtcclxuICAgIHBsYXllcjEuYXBwbHlEcmFnZ2FibGVTaGlwcygpO1xyXG5cclxuICAgIGlmIChwbGF5ZXIyLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgIC8vIEFzIHBsYXllcjEgd2lsbCBhbHdheXMgcG9zaXRpb24gc2hpcHMgZmlyc3RcclxuICAgICAgICBwbGF5ZXIyLmJ1aWxkUnVsZXMoKTtcclxuXHJcbiAgICAgICAgcGxheWVyMS5idWlsZEJ1dHRvbkNvbnRhaW5lcigpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZChmYWxzZSk7XHJcblxyXG4gICAgICAgIGNoYW5nZU92ZXJsYXlzVG8oXCJibHVlXCIsIHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBBcyBwbGF5ZXIxIHdpbGwgYWx3YXlzIHBvc2l0aW9uIHNoaXBzIGZpcnN0XHJcbiAgICAgICAgcGxheWVyMi5idWlsZFJ1bGVzKHRydWUpO1xyXG5cclxuICAgICAgICBwbGF5ZXIxLmJ1aWxkQnV0dG9uQ29udGFpbmVyKCk7XHJcbiAgICAgICAgcGxheWVyMi5idWlsZEJ1dHRvbkNvbnRhaW5lcigpO1xyXG5cclxuICAgICAgICBwbGF5ZXIyLmJ1aWxkSFRNTEdyaWQodHJ1ZSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIEF0dGFjaCBsb2dpYyB0byBlYWNoIGJ1dHRvbiAoSG9yaXpvbnRhbE9yVmVydGljYWwsIFJhbmRvbWlzZSwgUmVzZXQsIENvbmZpcm0pIGZvciBwb3NpdGlvbmluZyBzdGFnZVxyXG4gICAgLy8gVXNlIGEgZm9yLi4ub2YgbG9vcCB0byBpdGVyYXRlIG92ZXIgdGhlIGJ1dHRvbnMgXHJcbiAgICBjb25zdCBob3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmhvcml6b250YWwtb3ItdmVydGljYWwtYnRuXCIpO1xyXG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgaG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25zKSB7XHJcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVIb3Jpem9udGFsT3JWZXJ0aWNhbEJ1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmFuZG9taXNlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmFuZG9taXNlLWJ0blwiKTtcclxuICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIHJhbmRvbWlzZUJ1dHRvbnMpIHtcclxuICAgICAgICBidXR0b24ub25jbGljayA9ICgpID0+IGhhbmRsZVJhbmRvbWlzZUJ1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGNvbnN0IHJlc2V0QnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucmVzZXQtYnRuXCIpO1xyXG4gICAgZm9yIChjb25zdCBidXR0b24gb2YgcmVzZXRCdXR0b25zKSB7XHJcbiAgICAgICAgYnV0dG9uLm9uY2xpY2sgPSAoKSA9PiBoYW5kbGVSZXNldEJ1dHRvbkNsaWNrKGJ1dHRvbiwgcGxheWVyMSwgcGxheWVyMik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2FtZSBkb2VzIG5vdCBwcm9ncmVzcyB1bnRpbCBoYW5kbGVDb25maXJtQnRuQ2xpY2sgaXMgZnVmaWxsZWRcclxuICAgIGF3YWl0IGhhbmRsZUNvbmZpcm1CdG5DbGljayhwbGF5ZXIxLCBwbGF5ZXIyKTtcclxuXHJcbiAgICAvLyBTdGFydGluZyB0aGUgZ2FtZVxyXG4gICAgLy8gR0FNRVBMQVkgU1RBR0VcclxuICAgIC8vIEZvciB0dXJuIHdpdGggY29tcHV0ZXIgSSBvbmx5IHJlZ2lzdGVyIHRoZSBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGNvbXB1dGVyIHNxdWFyZXNcclxuICAgIGlmIChwbGF5ZXIyLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgIC8vIFJlc2V0dGluZyBIVE1MIEdyaWQncyB0byByZW1vdmUgdGhlIGV2ZW50TGlzdGVuZXJzIGZvciBwbGFjaW5nIHNoaXBzXHJcbiAgICAgICAgLy8gTmVjZXNzYXJ5IGFzIEhUTUxHcmlkIG5lZWRlZCB0byBiZSBidWlsdCB0byBzaG93IHRoZSBydWxlc1xyXG4gICAgICAgIHBsYXllcjIucmVzZXRHcmlkKCkgICBcclxuICAgICAgICBcclxuICAgICAgICAvLyBHZW5lcmF0ZSBwb3NpdGlvbiBvZiBjb21wdXRlcidzIHNoaXBzXHJcbiAgICAgICAgcGxheWVyMi5nZW5lcmF0ZUNvbXB1dGVyR3Vlc3NlcygpO1xyXG4gICAgICAgIGNvbnN0IGNvbXB1dGVyQ29vcmRpbmF0ZXMgPSBhd2FpdCByYW5kb21pc2UoKTtcclxuICAgICAgICBwbGF5ZXIyLnBvc2l0aW9uU2hpcHMoY29tcHV0ZXJDb29yZGluYXRlcyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZmFsc2UgaGlkZSdzIHRoZSBzaGlwcyBmcm9tIHVzZXIgdmlld1xyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZChmYWxzZSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFJlc2V0dGluZyBIVE1MIEdyaWQncyB0byByZW1vdmUgdGhlIGV2ZW50TGlzdGVuZXJzIGZvciBwbGFjaW5nIHNoaXBzXHJcbiAgICAgICAgcGxheWVyMS5yZXNldEhUTUxHcmlkKCk7XHJcbiAgICAgICAgcGxheWVyMS5idWlsZEhUTUxHcmlkKCk7XHJcblxyXG4gICAgICAgIHBsYXllcjIucmVzZXRIVE1MR3JpZCgpO1xyXG4gICAgICAgIHBsYXllcjIuYnVpbGRIVE1MR3JpZCgpO1xyXG5cclxuICAgICAgICAvLyBSZWdpc3RlciBldmVudCBsaXN0ZW5lcnMgb24gYm90aCBncmlkc1xyXG4gICAgICAgIHBsYXllcjEucmVnaXN0ZXJHcmlkRGl2RXZlbnRMaXN0ZW5lcigpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwbGF5ZXIxLmJ1aWxkU2hpcHMoKTtcclxuICAgIHBsYXllcjIuYnVpbGRTaGlwcygpO1xyXG5cclxuICAgIHBsYXllcjIucmVnaXN0ZXJHcmlkRGl2RXZlbnRMaXN0ZW5lcigpO1xyXG5cclxuICAgIC8vIERldGVybWluZXMgd2hvIGdvZXMgZmlyc3RcclxuICAgIGxldCB0dXJuID0gZ29lc0ZpcnN0KFtwbGF5ZXIxLCBwbGF5ZXIyXSk7XHJcbiAgICB0dXJuLnNob3dPdmVybGF5KHRydWUpO1xyXG5cclxuICAgIGlmICh0dXJuLm5hbWUgPT09IFwiY29tcHV0ZXJcIikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ09NUFVURVIgR1VFU1NFRCBGSVJTVFwiKVxyXG4gICAgICAgIHBsYXllcjIuY29tcHV0ZXJHdWVzcygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSZXNldCB0aGUgZ2FtZSAtIE9OTFkgVklTVUFMSVNFUyBXSEVOIEdBTUUgSVMgRklOSVNIRURcclxuICAgIGNvbnN0IHJlc2V0V2hvbGVHYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5yZXNldC1idG5cIik7XHJcbiAgICByZXNldFdob2xlR2FtZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgaW5pdGlhbGlzZUdhbWUpO1xyXG59XHJcblxyXG5pbml0aWFsaXNlR2FtZSgpO1xyXG4iLCJmdW5jdGlvbiBnb2VzRmlyc3QocGxheWVycykge1xyXG4gICAgbGV0IG51bWJlciA9IE1hdGgucmFuZG9tKCk7XHJcbiAgICBsZXQgaW5kZXggPSBNYXRoLnJvdW5kKG51bWJlcik7XHJcbiAgICBsZXQgZmlyc3QgPSBwbGF5ZXJzW2luZGV4XS5uYW1lO1xyXG5cclxuICAgIGNvbnN0IHR1cm5EaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnR1cm4tdGV4dFwiKTtcclxuICAgIHR1cm5EaXYudGV4dENvbnRlbnQgPSBgJHtmaXJzdC50b1VwcGVyQ2FzZSgpfSBHT0VTIEZJUlNUYDtcclxuICAgIFxyXG4gICAgcmV0dXJuIHBsYXllcnNbaW5kZXhdO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVGaXJzdFBsYXllclRleHQobmFtZSkge1xyXG4gICAgY29uc3QgZ3JpZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5hbWUgKyBcIkdyaWRcIilcclxuICAgIGNvbnN0IGdyaWREaXZzID0gZ3JpZC5xdWVyeVNlbGVjdG9yQWxsKFwiKlwiKTtcclxuICAgIGdyaWREaXZzLmZvckVhY2goKGdyaWREaXYpID0+IHtcclxuICAgICAgICBncmlkRGl2LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHR1cm5UZXh0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi50dXJuLXRleHRcIik7XHJcbiAgICAgICAgICAgIGlmICh0dXJuVGV4dC50ZXh0Q29udGVudCkge1xyXG4gICAgICAgICAgICAgICAgdHVyblRleHQudGV4dENvbnRlbnQgPSBcIlwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBsYXllck9yQ29tcHV0ZXIoKSB7XHJcbiAgICAvLyBUdXJuIG9uIG92ZXJhbGwgb3ZlcmxheVxyXG4gICAgY29uc3QgZ3JpZE92ZXJsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm92ZXJhbGxPdmVybGF5XCIpO1xyXG4gICAgZ3JpZE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgICAvLyBDcmVhdGUgYSBuZXcgZGl2IGVsZW1lbnQgdG8gaG9sZCB0aGUgcGxheWVyLXNlbGVjdGlvbiBIVE1MIGNvbnRlbnRcclxuICAgIGNvbnN0IGNlbnRlcmVkQ29udGFpbmVyRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGNlbnRlcmVkQ29udGFpbmVyRGl2LmNsYXNzTGlzdC5hZGQoXCJjZW50ZXJlZC1jb250YWluZXJcIik7XHJcblxyXG4gICAgLy8gQWRkIHRoZSBpbm5lciBIVE1MIGNvbnRlbnQgZm9yIHRoZSBwbGF5ZXItc2VsZWN0aW9uIGRpdlxyXG4gICAgY2VudGVyZWRDb250YWluZXJEaXYuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxoMSBjbGFzcz1cIndlbGNvbWUtdGl0bGVcIj5XRUxDT01FIFRPIEJBVFRMRVNISVBTOjwvaDE+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBsYXllci1zZWxlY3Rpb25cIj5cclxuICAgICAgICAgICAgPGgzPlBMQVlFUjwvaDM+XHJcbiAgICAgICAgICAgIDxoMz5WUzwvaDM+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwbGF5ZXItc2VsZWN0aW9uLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBsYXllci0yLWJ0bi1jb250YWluZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwicGxheWVyLTItYnRuXCI+UExBWUVSPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb21wdXRlci1idG4tY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImNvbXB1dGVyLWJ0blwiPkNPTVBVVEVSPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwbGF5ZXItc2VsZWN0aW9uLW92ZXJsYXlcIj48L2Rpdj4gICAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICBgO1xyXG5cclxuICAgIC8vIEFwcGVuZCB0aGUgcGxheWVyLXNlbGVjdGlvbiBkaXYgdG8gdGhlIGdyaWQtb3ZlcmxheSBkaXZcclxuICAgIGdyaWRPdmVybGF5LmFwcGVuZENoaWxkKGNlbnRlcmVkQ29udGFpbmVyRGl2KTtcclxuXHJcbiAgICBjb25zdCBwbGF5ZXIyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXItMi1idG5cIik7XHJcbiAgICBjb25zdCBjb21wdXRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29tcHV0ZXItYnRuXCIpO1xyXG5cclxuICAgIC8vIEltcGxlbWVudCBwcm9taXNlIGZvciBmaXJzdCBvbmUgdG8gYmUgcmVzb2x2ZWQuXHJcbiAgICBjb25zdCBwbGF5ZXIyUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICBwbGF5ZXIyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUExBWUVSIEJVVFRPTiBQUkVTU0VEXCIpXHJcbiAgICAgICAgICAgIGdyaWRPdmVybGF5LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgICAgIGdyaWRPdmVybGF5LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgcmVzb2x2ZShcInBsYXllclwiKTtcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgY29uc3QgY29tcHV0ZXJQcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbXB1dGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ09NUFVURVIgQlVUVE9OIFBSRVNTRURcIilcclxuICAgICAgICAgICAgZ3JpZE92ZXJsYXkuaW5uZXJIVE1MID0gXCJcIjtcclxuICAgICAgICAgICAgZ3JpZE92ZXJsYXkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICByZXNvbHZlKFwiY29tcHV0ZXJcIik7XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbiAgICBcclxuICAgIHJldHVybiBQcm9taXNlLmFueShbcGxheWVyMlByb21pc2UsIGNvbXB1dGVyUHJvbWlzZV0pXHJcblxyXG59O1xyXG5cclxuXHJcblxyXG5leHBvcnQgeyBnb2VzRmlyc3QsIHJlbW92ZUZpcnN0UGxheWVyVGV4dCwgcGxheWVyT3JDb21wdXRlciB9Il0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwibG9jYWxzIiwiU2hpcCIsImNvbnN0cnVjdG9yIiwicGxhY2VkIiwiaGl0cyIsInN1bmsiLCJoaXQiLCJpc1N1bmsiLCJQbGF5ZXIiLCJnYW1lYm9hcmQiLCJib2FyZCIsIkFycmF5IiwiZnJvbSIsImZpbGwiLCJtaXNzZWQiLCJzaGlwcyIsIm9idGFpbkN1cnJlbnRTaGlwcyIsImN1cnJlbnRTaGlwcyIsInkiLCJ4IiwiaW5jbHVkZXMiLCJwb3NpdGlvblNoaXBzIiwiY29vcmRpbmF0ZXMiLCJjb25zb2xlIiwibG9nIiwicG9zaXRpb24iLCJuZXdTaGlwIiwieDEiLCJ4MiIsInkxIiwieTIiLCJ5RGlmZiIsInhEaWZmIiwicmVjaWV2ZUF0dGFjayIsImFsbFNoaXBzU3VuayIsImV2ZXJ5Iiwic2hpcCIsImFsbFNoaXBzUGxhY2VkIiwicmVxdWlyZWRTaGlwc0xlbmd0aCIsImluZGV4T2YiLCJHYW1lYm9hcmQiLCJkcmFnZ2FibGVTaGlwcyIsInNlbGVjdGVkU2hpcCIsInBsYW5lT2ZQbGFjaW5nU2hpcCIsInBvdGVudGlhbENvbXB1dGVyR3Vlc3NlcyIsImxvY2FsaXNlZEd1ZXNzZXMiLCJzaGlwRGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwidmVydGljYWwiLCJob3Jpem9udGFsIiwicmVzZXRIVE1MR3JpZCIsIm5hbWUiLCJpbm5lckhUTUwiLCJyZXNldFNoaXBzQXJyYXkiLCJidWlsZFJ1bGVzIiwicHZwIiwicGxheWVyT3ZlcmxheSIsImdldEVsZW1lbnRCeUlkIiwic2hvd092ZXJsYXkiLCJyZW1vdmVCdXR0b25zIiwiZ3JpZENvbnRhaW5lciIsImJ0bkNvbnRhaW5lciIsImJ1aWxkU2hpcHMiLCJzaGlwc0NvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsInBsYXllckdyaWRDb250YWluZXIiLCJpbnNlcnRBZGphY2VudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicmVtb3ZlU2hpcHMiLCJoaWRlR3JpZFNoaXBzIiwiZm9yRWFjaCIsImNvbnRhaW5zIiwic2VsZWN0RGVmYXVsdFNoaXAiLCJhcHBseURyYWdnYWJsZVNoaXBzIiwiY2hlY2tJZlBvc2l0aW9uVmFsaWQiLCJzaGlwU2l6ZSIsInZhbGlkIiwic2hpcERpdnMiLCJ0ZXh0Q29udGVudCIsImdyaWREaXYiLCJncmlkRGl2RnJvbUNvb3JkaW5hdGVzIiwiYmluZCIsImNvb3JkaW5hdGVJbnZhbGlkIiwibmVhcmJ5U2hpcFNxdWFyZXNIaXRGb3JTaGlwUGxhY2VtZW50Iiwic3Vycm91bmRpbmdDb29yZGluYXRlcyIsImZpbmRTdXJyb3VuZGluZ0Nvb3JkaW5hdGVzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNoaXBTZWxlY3QiLCJkcmFnRW50ZXIiLCJwcmV2ZW50RGVmYXVsdCIsImNsYXNzVG9JbnRlZ2VyIiwicGFyc2VJbnQiLCJkYXRhc2V0Iiwic2l6ZSIsImRyYWdMZWF2ZSIsImhpZ2hsaWdodGVkU3F1YXJlcyIsInNxdWFyZSIsImRyb3AiLCJtaW5ZIiwibWF4WSIsIm1pblgiLCJtYXhYIiwibWFrZURyYWdnYWJsZVNoaXBJbnZpc2libGUiLCJvbmNlIiwiZ3JpZEVsZW1lbnQiLCJ1cGRhdGVDbGFzc0xpc3RPblNoaXBTdW5rIiwiZGF0YVNpemUiLCJyZXNldE1pc3NlZCIsImNsaWNrSGFuZGxlciIsImNsaWNrVG9IVE1MIiwidXBkYXRlVHVyblRleHQiLCJvcHBvbmVudCIsInRvVXBwZXJDYXNlIiwibG9jYWxpc2VkQ29tcHV0ZXJHdWVzcyIsImNvbXB1dGVyR3Vlc3MiLCJIVE1MdG9ib2FyZCIsInNoaXBTdW5rIiwiY2xhc3NMaXN0U3RyaW5nIiwiZ2V0QXR0cmlidXRlIiwiY2xhc3NOYW1lIiwic3BsaXQiLCJmaW5kVG91Y2hpbmdTaGlwcyIsIlNldCIsImNvb3JkaW5hdGUiLCJuZWFyYnlTaGlwU3F1YXJlc0hpdCIsInRyaWdnZXJPdmVyYWxsT3ZlcmxheSIsIm1pc3NlZERpdiIsInJlbW92ZUNvbXB1dGVyR3Vlc3MiLCJZIiwiWCIsIk1hdGgiLCJtaW4iLCJtYXgiLCJncmlkRGl2cyIsImZvdW5kR3JpZERpdiIsInBhdGgiLCJoYXMiLCJ0ZXh0IiwiYXN5bmMiLCJndWVzc0luZGV4IiwiZmxvb3IiLCJyYW5kb20iLCJndWVzc2VkRGl2IiwibWluVGltZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImNvbXB1dGVyR3Vlc3NUb0hUTUwiLCJkaXZUb1JlbW92ZSIsInJlbGF0aXZlTG9jYXRpb25PZkRpdiIsImNvbXB1dGVySFRNTFRvQm9hcmQiLCJkaXNjb3ZlcmVkU2hpcERpcmVjdGlvbiIsIm5ld0RpdnMiLCJnZW5lcmF0ZUxvY2FsQ29tcHV0ZXJHdWVzc2VzIiwicG90ZW50aWFsR3Vlc3MiLCJjYWxjdWxhdGVTaGlwRGlyZWN0aW9uIiwicG90ZW50aWFsRGlyZWN0aW9uIiwicmVtb3ZlTG9jYWxDb21wdXRlckd1ZXNzZXMiLCJsb2NhbEd1ZXNzIiwib2JqZWN0U2hpZnQiLCJuZWFyYnlDb29yZGluYXRlcyIsIm5lYXJieUd1ZXNzZXMiLCJuZWFyYnlEaXYiLCJjb21wdXRlckRpdkZyb21JbnRlZ2VyIiwib2JqZWN0IiwiT2JqZWN0Iiwia2V5cyIsInJlbW92ZUFsbEV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIl9ib3VuZENsaWNrSGFuZGxlciIsIm92ZXJsYXkiLCJkaXNwbGF5IiwiY29uZ3JhdHVsYXRpb25zVGl0bGUiLCJ3aW5uZXIiLCJidWlsZEhUTUxHcmlkIiwicmV2ZWFsIiwiZ3JpZCIsInJlZ2lzdGVyR3JpZERpdkV2ZW50TGlzdGVuZXIiLCJib3VuZENsaWNrSGFuZGxlciIsImJ1aWxkSFRNTERpdkNvbnRhaW5lcnMiLCJncmlkQ29udGFpbmVycyIsInBsYXllckNvbnRhaW5lciIsImdlbmVyYXRlQ29tcHV0ZXJHdWVzc2VzIiwiZGl2IiwiYnVpbGRCdXR0b25Db250YWluZXIiLCJob3Jpem9udGFsT3JWZXJ0aWNhbEJ0biIsInJhbmRvbWlzZUJ0biIsImNvbmZpcm1CdG4iLCJyZXNldEJ0biIsInJlc2V0R3JpZCIsInJlbW92ZVJ1bGVzIiwidG9nZ2xlU2hpcHNJbnZpc2libGUiLCJyZXNldFNoaXBzIiwicHJvZ3Jlc3NGcm9tU2hpcFBsYWNlbWVudCIsInBsYXllcjJUdXJuVHJhY2tlciIsInhDb29yZCIsInlDb29yZCIsInJhbmRvbWlzZSIsImRpcmVjdGlvbnMiLCJyb3VuZCIsInZpYWJsZSIsInlDb29yZGluYXRlIiwiY29uZmxpY3QiLCJ4Q29vcmRpbmF0ZSIsImhhbmRsZUhvcml6b250YWxPclZlcnRpY2FsQnV0dG9uQ2xpY2siLCJidXR0b24iLCJwbGF5ZXIxIiwicGxheWVyMiIsImhhbmRsZVJhbmRvbWlzZUJ1dHRvbkNsaWNrIiwiaGFuZGxlUmVzZXRCdXR0b25DbGljayIsImNoYW5nZU92ZXJsYXlzVG8iLCJjb2xvdXIiLCJjb21wdXRlciIsInBsYXllck92ZXJsYXlzIiwiYmFja2dyb3VuZENvbG9yIiwiaW5pdGlhbGlzZUdhbWUiLCJncmlkT3ZlcmxheSIsImNlbnRlcmVkQ29udGFpbmVyRGl2IiwicGxheWVyMkJ0biIsImNvbXB1dGVyQnRuIiwicGxheWVyMlByb21pc2UiLCJyZWplY3QiLCJjb21wdXRlclByb21pc2UiLCJhbnkiLCJwbGF5ZXJPckNvbXB1dGVyIiwiaG9yaXpvbnRhbE9yVmVydGljYWxCdXR0b25zIiwib25jbGljayIsInJhbmRvbWlzZUJ1dHRvbnMiLCJyZXNldEJ1dHRvbnMiLCJwbGF5ZXIxQ29uZmlybUJ0biIsInJlc29sdmVQcm9taXNlIiwic2luZ2xlUGxheWVyQ29uZmlybUJ0biIsInBsYXllcjJDb25maXJtQnRuIiwibXVsdGlQbGF5ZXJDb25maXJtQnRuIiwiaGFuZGxlQ29uZmlybUJ0bkNsaWNrIiwiY29tcHV0ZXJDb29yZGluYXRlcyIsInR1cm4iLCJwbGF5ZXJzIiwibnVtYmVyIiwiZmlyc3QiLCJnb2VzRmlyc3QiXSwic291cmNlUm9vdCI6IiJ9
